<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>How Object2Vec Works - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="object2vec-howitworks" /><meta name="default_state" content="object2vec-howitworks" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="object2vec-howitworks.html" /><meta name="description" content="When using the Amazon SageMaker Object2Vec algorithm, you follow the standard workflow: process the data, train the model, and produce inferences." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="object2vec-howitworks.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="de" /><link rel="alternative" href="object2vec-howitworks.html" hreflang="en-us" /><link rel="alternative" href="object2vec-howitworks.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/object2vec-howitworks.html" hreflang="zh-tw" /><link rel="alternative" href="object2vec-howitworks.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="How Object2Vec Works" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>How Object2Vec Works - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#object2vec-howitworks" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/object2vec-howitworks.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/object2vec-howitworks.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/object2vec-howitworks.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Train machine learning models",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/train-model.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Choose an Algorithm",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/algorithms-choose.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Use Amazon SageMaker Built-in Algorithms or Pre-trained Models",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/algos.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Built-in SageMaker Algorithms for Text Data",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/algorithms-text.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "Object2Vec Algorithm",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/object2vec.html"
      },
      {
        "@type" : "ListItem",
        "position" : 9,
        "name" : "How Object2Vec Works",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/object2vec.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#object2vec-howitworks" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="object2vec-howitworks.html#object2vec-step-1-data-preprocessing">Data Processing</a><a href="object2vec-howitworks.html#object2vec-step-2-training-model">Model Training</a><a href="object2vec-howitworks.html#object2vec-step-3-inference">Data Processing</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="object2vec-howitworks">How Object2Vec Works</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>When using the Amazon SageMaker Object2Vec algorithm, you follow the standard workflow: process
            the data, train the model, and produce inferences. </p><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="object2vec-howitworks.html#object2vec-step-1-data-preprocessing">Step 1: Process Data</a></li><li><a href="object2vec-howitworks.html#object2vec-step-2-training-model">Step 2: Train a Model</a></li><li><a href="object2vec-howitworks.html#object2vec-step-3-inference">Step 3: Produce Inferences </a></li></ul></div>
            <h2 id="object2vec-step-1-data-preprocessing">Step 1: Process Data</h2>
            <p>During preprocessing, convert the data to the <a href="http://jsonlines.org/" rel="noopener noreferrer" target="_blank"><span>JSON Lines</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> text file format specified in <a href="object2vec-training-formats.html">Data
                Formats for Object2Vec
                Training</a> . To get the highest accuracy
                during training, also randomly shuffle the data before feeding it into the model.
                How you generate random permutations depends on the language. For python, you could
                use <code class="code">np.random.shuffle</code>; for Unix, <code class="code">shuf</code>.</p>
         
            <h2 id="object2vec-step-2-training-model">Step 2: Train a Model</h2>
            <p>The SageMaker Object2Vec algorithm has the following main components:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><b>Two input channels</b> – The input
                        channels take a pair of objects of the same or different types as inputs,
                        and pass them to independent and customizable encoders.</p>
                </li><li class="listitem">
                    <p><b>Two encoders</b> – The two encoders,
                        enc0 and enc1, convert each object into a fixed-length embedding vector. The
                        encoded embeddings of the objects in the pair are then passed into a
                        comparator.</p>
                </li><li class="listitem">
                    <p><b>A comparator</b> – The comparator
                        compares the embeddings in different ways and outputs scores that indicate
                        the strength of the relationship between the paired objects. In the output
                        score for a sentence pair. For example, 1 indicates a strong relationship
                        between a sentence pair, and 0 represents a weak relationship. </p>
                </li></ul></div>
            
            <p>During training, the algorithm accepts pairs of objects and
                their relationship labels or scores as inputs. The objects in each pair can be of
                different types, as described earlier. If the inputs to both encoders are composed
                of the same token-level units, you can use a shared token embedding layer by setting
                the <code class="code">tied_token_embedding_weight</code> hyperparameter to <code class="code">True</code>
                when you create the training job. This is possible, for example, when comparing
                sentences that both have word token-level units. To generate negative samples at a
                specified rate, set the <code class="code">negative_sampling_rate</code> hyperparameter to the
                desired ratio of negative to positive samples. This hyperparameter expedites
                learning how to discriminate between the positive samples observed in the training
                data and the negative samples that are not likely to be observed.
                </p>
            <p>Pairs of objects are passed through independent, customizable
                encoders that are compatible with the input types of corresponding objects. The
                encoders convert each object in a pair into a fixed-length embedding vector of equal
                length. The pair of vectors are passed to a comparator operator, which assembles the
                vectors into a single vector using the value specified in the he
                    <code class="code">comparator_list</code> hyperparameter. The assembled vector then passes
                through a multilayer perceptron (MLP) layer, which produces an output that the loss
                function compares with the labels that you
                provided.
                This comparison evaluates the strength of the relationship between the objects in
                the pair as predicted by the model. The following figure shows this workflow.</p>
            <div class="mediaobject">
                 
                    <img src="../../../images/sagemaker/latest/dg/images/object2vec-training-image.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                    Architecture of the Object2Vec Algorithm from Data Inputs to&#xA;                        Scores&#xA;                " style="max-width:90%" />
                 
                 
                <div class="caption">
                    <p>Architecture of the Object2Vec Algorithm from Data Inputs to Scores</p>
                </div>
            </div>
         
            <h2 id="object2vec-step-3-inference">Step 3: Produce Inferences </h2>
            <p>After the model is trained, you can use the trained encoder
                to
                preprocess input objects or to perform two types of
                inference:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>To convert singleton input objects into fixed-length embeddings using the
                        corresponding encoder</p>
                </li><li class="listitem">
                    <p>To predict the relationship label or score between a pair of input
                        objects</p>
                </li></ul></div>
            <p>The inference server automatically figures out which of the types is requested
                based on the input data. To get the embeddings as output, provide only one input. To
                predict the relationship label or score, provide both inputs in the pair.</p>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./object2vec.html">Object2Vec</div><div id="next" class="next-link" accesskey="n" href="./object2vec-hyperparameters.html">Hyperparameters</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/object2vec-howitworks.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/object2vec-howitworks.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>