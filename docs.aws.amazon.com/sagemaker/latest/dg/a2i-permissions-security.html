<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Permissions and Security in Amazon Augmented AI - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="a2i-permissions-security" /><meta name="default_state" content="a2i-permissions-security" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="a2i-permissions-security.html" /><meta name="description" content="Learn about permissions required for creating human review workflows (flow definitions), starting human loops, and previewing worker task templates for Amazon Augmented AI." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="a2i-permissions-security.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="de" /><link rel="alternative" href="a2i-permissions-security.html" hreflang="en-us" /><link rel="alternative" href="a2i-permissions-security.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/a2i-permissions-security.html" hreflang="zh-tw" /><link rel="alternative" href="a2i-permissions-security.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Permissions and Security in Amazon Augmented AI" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Permissions and Security in Amazon Augmented AI - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#a2i-permissions-security" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-permissions-security.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-permissions-security.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-permissions-security.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Label data with a human-in-the-loop",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/data-label.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Using Amazon Augmented AI for Human Review",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/a2i-use-augmented-ai-a2i-human-review-loops.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Permissions and Security in Amazon Augmented AI",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/a2i-use-augmented-ai-a2i-human-review-loops.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#a2i-permissions-security" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="a2i-permissions-security.html#a2i-cors-update">CORS Permission Requirement</a><a href="a2i-permissions-security.html#a2i-human-review-permissions-s3">Add Permissions to the IAM Role Used to
        Create a Flow Definition</a><a href="a2i-permissions-security.html#create-user-grants">Create a User That Can Invoke Amazon A2I API
        Operations</a><a href="a2i-permissions-security.html#a2i-grant-general-permission">Create a User With Permissions to Invoke
        Amazon A2I, Amazon Textract, and Amazon Rekognition API Operations</a><a href="a2i-permissions-security.html#permissions-for-worker-task-templates-augmented-ai">Enable Worker Task
        Template Previews </a><a href="a2i-permissions-security.html#a2i-kms-encryption">Using Amazon A2I with AWS KMS Encrypted Buckets</a><a href="a2i-permissions-security.html#additional-security-resources-augmented-ai">Additional Permissions and
        Security Resources </a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="a2i-permissions-security">Permissions and Security in Amazon Augmented AI</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>When using Amazon Augmented AI (Amazon A2I) to create a human review workflow for your ML/AI
    application, you create and configure <em>resources</em> in Amazon SageMaker such as a human
    workforce and worker task templates. To configure and start a human loop, you either integrate
    Amazon A2I with other AWS services such as Amazon Textract or Amazon Rekognition, or use the Amazon Augmented AI Runtime
    API. To create a human review workflow and start a human loop, you must attach certain policies
    to your AWS Identity and Access Management (IAM) role or user. Specifically: </p><div class="itemizedlist">
     
     
     
     
  <ul class="itemizedlist"><li class="listitem">
      <p>When you start a human loop using image input data on or after January 12th, 2020, you
        must add a CORS header policy to the Amazon S3 bucket that contains your input data. See <a href="a2i-permissions-security.html#a2i-cors-update">CORS Permission Requirement</a> to learn more. </p>
    </li><li class="listitem">
      <p>When you create a flow definition, you need to provide a role that grants Amazon A2I
        permission to access Amazon S3 both for reading objects that are rendered in a human task UI and
        for writing the results of the human review. </p>
      <p>This role must also have a trust policy attached to give SageMaker permission to assume the
        role. This allows Amazon A2I to perform actions in accordance with permissions that you
        attach to the role. </p>
      <p>See <a href="a2i-permissions-security.html#a2i-human-review-permissions-s3">Add Permissions to the IAM Role Used to
        Create a Flow Definition</a> for example policies that you can modify
        and attach to the role you use to create a flow definition. These are the policies that are
        attached to the IAM role that is created in the <b>Human review
          workflows</b> section of the Amazon A2I area of the SageMaker console. </p>
    </li><li class="listitem">
      <p>To create and start human loops, you either use an API operation from a built-in task
        type (such as <code class="code">DetectModerationLabel</code> or <code class="code">AnalyzeDocument</code>) or the
        Amazon A2I Runtime API operation <code class="code">StartHumanLoop</code> in a custom ML application. You
        need to attach the <code class="code">AmazonAugmentedAIFullAccess</code> managed policy to the user
        that invokes these API operations to grant permission to these services to use Amazon A2I
        operations. To learn how, see <a href="a2i-permissions-security.html#create-user-grants">Create a User That Can Invoke Amazon A2I API
        Operations</a>.</p>
      <p>This policy does <em>not</em> grant permission to invoke the API operations
        of the AWS service associated with built-in task types. For example,
          <code class="code">AmazonAugmentedAIFullAccess</code> does not grant permission to call the Amazon Rekognition
          <code class="code">DetectModerationLabel</code> API operation  or Amazon Textract
          <code class="code">AnalyzeDocument</code> API operation. You can use the more general policy,
          <code class="code">AmazonAugmentedAIIntegratedAPIAccess</code>, to grant these permissions. For more
        information, see <a href="a2i-permissions-security.html#a2i-grant-general-permission">Create a User With Permissions to Invoke
        Amazon A2I, Amazon Textract, and Amazon Rekognition API Operations</a>. This is a good option when you want to
        grant a user broad permissions to use Amazon A2I and integrated AWS services' API
        operations. </p>
      <p>If you want to configure more granular permissions, see <a href="https://docs.aws.amazon.com/rekognition/latest/dg/security_iam_id-based-policy-examples.html">Amazon Rekognition
          Identity-Based Policy Examples</a> and <a href="https://docs.aws.amazon.com/textract/latest/dg/security_iam_id-based-policy-examples.html">Amazon Textract
          Identity-Based Policy Examples</a> for identity-based policies you can use to grant
        permission to use these individual services.</p>
    </li><li class="listitem">
      <p>To preview your custom worker task UI template, you need an IAM role with permissions
        to read Amazon S3 objects that get rendered on your user interface. See a policy example in <a href="a2i-permissions-security.html#permissions-for-worker-task-templates-augmented-ai">Enable Worker Task
        Template Previews </a>.</p>
    </li></ul></div><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="a2i-permissions-security.html#a2i-cors-update">CORS Permission Requirement</a></li><li><a href="a2i-permissions-security.html#a2i-human-review-permissions-s3">Add Permissions to the IAM Role Used to
        Create a Flow Definition</a></li><li><a href="a2i-permissions-security.html#create-user-grants">Create a User That Can Invoke Amazon A2I API
        Operations</a></li><li><a href="a2i-permissions-security.html#a2i-grant-general-permission">Create a User With Permissions to Invoke
        Amazon A2I, Amazon Textract, and Amazon Rekognition API Operations</a></li><li><a href="a2i-permissions-security.html#permissions-for-worker-task-templates-augmented-ai">Enable Worker Task
        Template Previews </a></li><li><a href="a2i-permissions-security.html#a2i-kms-encryption">Using Amazon A2I with AWS KMS Encrypted Buckets</a></li><li><a href="a2i-permissions-security.html#additional-security-resources-augmented-ai">Additional Permissions and
        Security Resources </a></li></ul></div>
    <h2 id="a2i-cors-update">CORS Permission Requirement</h2>
    <p>Earlier in 2020, widely used browsers like Chrome and Firefox changed their default
      behavior for rotating images based on image metadata, referred to as <a href="https://en.wikipedia.org/wiki/Exif" rel="noopener noreferrer" target="_blank"><span>EXIF data</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Previously, images would always
      display in browsers exactly how they are stored on disk, which is typically unrotated. After
      the change, images now rotate according to a piece of image metadata called <em>orientation value</em>. This has important implications for the entire
      machine learning (ML) community. For example, if the EXIF orientation is not considered,
      applications that are used to annotate images may display images in unexpected orientations
      and result in incorrect labels. </p>
    <p>Starting with Chrome 89, AWS can no longer automatically prevent the rotation of images
      because the web standards group W3C has decided that the ability to control rotation of images
      violates the web’s Same-Origin Policy. Therefore, to ensure human workers annotate your input
      images in a predictable orientation when you submit requests to create a human loop, you must
      add a CORS header policy to the S3 buckets that contain your input images.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>If you do not add a CORS configuration to the S3 buckets that contains your input data,
        human review tasks for those input data objects fail.</p></div></div>
    <p>You can add a CORS policy to an S3 bucket that contains input data in the Amazon S3 console. To
      set the required CORS headers on the S3 bucket that contains your input images in the S3
      console, follow the directions detailed in <a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/add-cors-configuration.html">How
        do I add cross-domain resource sharing with CORS?</a>. Use the following CORS
      configuration code for the buckets that host your images. If you use the Amazon S3 console to add
      the policy to your bucket, you must use the JSON format.</p>
    <p><b>JSON</b></p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">[<span>{</span>
   "AllowedHeaders": [],
   "AllowedMethods": ["GET"],
   "AllowedOrigins": ["*"],
   "ExposeHeaders": []
}]</code></pre>
    <p><b>XML</b></p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">&lt;CORSConfiguration&gt;
 &lt;CORSRule&gt;
   &lt;AllowedOrigin&gt;*&lt;/AllowedOrigin&gt;
   &lt;AllowedMethod&gt;GET&lt;/AllowedMethod&gt;
 &lt;/CORSRule&gt;
&lt;/CORSConfiguration&gt;</code></pre>
    <p>The following GIF demonstrates the instructions found in the
      Amazon S3
      documentation to add a CORS header policy using the Amazon S3 console.</p>
    <div class="mediaobject">
       
        <img src="../../../images/sagemaker/latest/dg/images/sms/gifs/cors-config.gif" class="aws-docs-img-whiteBg aws-docs-img-padding" />
       
    </div>
   
    <h2 id="a2i-human-review-permissions-s3">Add Permissions to the IAM Role Used to
        Create a Flow Definition</h2>
    <p>To create a flow definition, attach the policies in this section to the role that you use
      when creating a human review workflow in the SageMaker console, or when using the
        <code class="code">CreateFlowDefinition</code> API operation.</p>
    <div class="itemizedlist">
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>If you are using the console to create a human review workflow, enter the role Amazon
          Resource Name (ARN) in the <b>IAM role</b> field when <a href="create-human-review-console.html">creating
            a human review workflow in the console</a>. </p>
      </li><li class="listitem">
        <p>When creating a flow definition using the API, attach these policies to the role that
          is passed to the <code class="code">RoleArn</code> parameter of the <code class="code">CreateFlowDefinition</code>
          operation. </p>
      </li></ul></div>
    <p>When you create a human review workflow (flow definition), Amazon A2I invokes Amazon S3 to
      complete your task. To grant Amazon A2I permission to retrieve and store your files in your
      Amazon S3 bucket, create the following policy and attach it to your role. For example, if the
      images, documents, and other files that you are sending for human review are stored in an S3
      bucket named <code>my_input_bucket</code>, and if you want the human reviews to be
      stored in a bucket named <code>my_output_bucket</code>, create the following policy. </p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">my_input_bucket</code>/*"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:PutObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">my_output_bucket</code>/*"
            ]
        }
    ]
}</code></pre>
    <p>In addition, the IAM role must have the following trust policy to give SageMaker permission
      to assume the role. To learn more about IAM trust policies, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies_resource-based">Resource-Based
        Policies</a> section of <b>Policies and Permissions</b> in the
        <em>AWS Identity and Access Management</em> documentation.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "AllowSageMakerToAssumeRole",
      "Effect": "Allow",
      "Principal": <span>{</span>
        "Service": "sagemaker.amazonaws.com"
      },
      "Action": "sts:AssumeRole"
    }
  ]
}</code></pre>
    <p>For more information about creating and managing IAM roles and policies, see the
      following topics in the <em>AWS Identity and Access Management User Guide</em>: </p>
    <div class="itemizedlist">
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>To create an IAM role, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user.html">Creating a Role to Delegate
            Permissions to an IAM User</a>. </p>
      </li><li class="listitem">
        <p>To learn how to create IAM policies, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create.html">Creating IAM Policies</a>.
        </p>
      </li><li class="listitem">
        <p>To learn how to attach an IAM policy to a role, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_manage-attach-detach.html">Adding and Removing
            IAM Identity Permissions</a>.</p>
      </li></ul></div>
   
    <h2 id="create-user-grants">Create a User That Can Invoke Amazon A2I API
        Operations</h2>
    <p>To use Amazon A2I to create and start human loops for Amazon Rekognition, Amazon Textract, or the Amazon A2I
      runtime API, you must use a user that has permissions to invoke Amazon A2I operations.
      To do this, use the IAM console to attach the <a href="https://console.aws.amazon.com/iam/home?region=us-east-2#/policies/arn:aws:iam::aws:policy/AmazonAugmentedAIFullAccess$jsonEditor" rel="noopener noreferrer" target="_blank"><span><code class="code">AmazonAugmentedAIFullAccess</code></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> managed policy to a new or existing user. </p>
    <p>This policy grants permission to a user to invoke API operations from the SageMaker API
      for flow definition creation and management and the Amazon Augmented AI Runtime API for human loop
      creation and management. To learn more about these API operations, see <a href="a2i-api-references.html">Use APIs in Amazon
        Augmented AI</a>.</p>
    <p><code class="code">AmazonAugmentedAIFullAccess</code> does not grant permissions to use Amazon Rekognition or
      Amazon Textract API operations. </p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>You can also attach the <code class="code">AmazonAugmentedAIFullAccess</code> policy to an IAM role
        that is used to create and start a human loop. </p></div></div>
    
    
  
  <p>To provide access, add permissions to your users, groups, or roles:</p>
  <div class="itemizedlist">
   
   
   
  <ul class="itemizedlist"><li class="listitem">
    <p>Users and groups in AWS IAM Identity Center (successor to AWS Single Sign-On):</p>
    <p>Create a permission set. Follow the instructions in <a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/howtocreatepermissionset.html">Create a permission set</a> in the <em>AWS IAM Identity Center (successor to AWS Single Sign-On) User Guide</em>.</p>
  </li><li class="listitem">
    <p>Users managed in IAM through an identity provider:</p>
    <p>Create a role for identity federation. Follow the instructions in <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-idp.html">Creating a role
    for a third-party identity provider (federation)</a> in the <em>IAM User Guide</em>.</p>
  </li><li class="listitem">
    <p>IAM users:</p>
     <div class="itemizedlist">
        
        
     <ul class="itemizedlist"><li class="listitem">
         <p>Create a role that your user can assume. Follow the instructions in <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user.html">Creating a role for an IAM user</a> in the <em>IAM User Guide</em>.</p>
       </li><li class="listitem">
         <p>(Not recommended) Attach a policy directly to a user or add a user to a user group. Follow the instructions in <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_change-permissions.html#users_change_permissions-add-console">Adding permissions to a user (console)</a> in the <em>IAM User Guide</em>.</p>
       </li></ul></div>
  </li></ul></div>
  
    <p>For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_manage-attach-detach.html">Adding and Removing
        IAM Identity Permissions</a> in the <em>AWS Identity and Access Management User Guide</em>.</p>
   
    <h2 id="a2i-grant-general-permission">Create a User With Permissions to Invoke
        Amazon A2I, Amazon Textract, and Amazon Rekognition API Operations</h2>
    <p>To create a user that has permission to invoke the API operations used by the
      built-in task types (that is, <code class="code">DetectModerationLables</code> for Amazon Rekognition and
        <code class="code">AnalyzeDocument</code> for Amazon Textract) and permission to use all Amazon A2I API
      operations, attach the IAM managed policy,
      <code class="code">AmazonAugmentedAIIntegratedAPIAccess</code>. You may want to use this policy when you
      want to grant broad permissions to a user using Amazon A2I with more than one task
      type. To learn more about these API operations, see <a href="a2i-api-references.html">Use APIs in Amazon Augmented
      AI</a>.</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>You can also attach the <code class="code">AmazonAugmentedAIIntegratedAPIAccess</code> policy to an
        IAM role that is used to create and start a human loop. </p></div></div>
    
  
  <p>To provide access, add permissions to your users, groups, or roles:</p>
  <div class="itemizedlist">
   
   
   
  <ul class="itemizedlist"><li class="listitem">
    <p>Users and groups in AWS IAM Identity Center (successor to AWS Single Sign-On):</p>
    <p>Create a permission set. Follow the instructions in <a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/howtocreatepermissionset.html">Create a permission set</a> in the <em>AWS IAM Identity Center (successor to AWS Single Sign-On) User Guide</em>.</p>
  </li><li class="listitem">
    <p>Users managed in IAM through an identity provider:</p>
    <p>Create a role for identity federation. Follow the instructions in <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-idp.html">Creating a role
    for a third-party identity provider (federation)</a> in the <em>IAM User Guide</em>.</p>
  </li><li class="listitem">
    <p>IAM users:</p>
     <div class="itemizedlist">
        
        
     <ul class="itemizedlist"><li class="listitem">
         <p>Create a role that your user can assume. Follow the instructions in <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user.html">Creating a role for an IAM user</a> in the <em>IAM User Guide</em>.</p>
       </li><li class="listitem">
         <p>(Not recommended) Attach a policy directly to a user or add a user to a user group. Follow the instructions in <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_change-permissions.html#users_change_permissions-add-console">Adding permissions to a user (console)</a> in the <em>IAM User Guide</em>.</p>
       </li></ul></div>
  </li></ul></div>
  
    <p>For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_manage-attach-detach.html">Adding and Removing
        IAM Identity Permissions</a> in the <em>AWS Identity and Access Management User Guide</em>.</p>
   
    <h2 id="permissions-for-worker-task-templates-augmented-ai">Enable Worker Task
        Template Previews </h2>
    <p>To customize the interface and instructions that your workers see when working on your
      tasks, you create a worker task template. You can create the template using the <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_CreateHumanTaskUi.html"><code class="code">CreateHumanTaskUi</code></a> operation or the SageMaker console. </p>
    <p>To preview your template, you need an IAM role with the following permissions to read
      Amazon S3 objects that get rendered on your user interface. </p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">my_input_bucket</code>/*"
            ]
        }
    ]
}</code></pre>
    <p>For Amazon Rekognition and Amazon Textract task types, you can preview your template using the Amazon Augmented AI
      section of the SageMaker console. For custom task types, you preview your template by invoking the
      <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_RenderUiTemplate.html"><code class="code">RenderUiTemplate</code></a> operation. To preview your template, follow the
      instructions for your task type:</p>
    <div class="itemizedlist">
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p> Amazon Rekognition and Amazon Textract task types – In the SageMaker console, use the role's Amazon
          Resource Name (ARN) in the procedure documented in <a href="a2i-worker-template-console.html#a2i-create-worker-template-console">Create a Worker Task Template</a>.</p>
      </li><li class="listitem">
        <p>Custom task types – In the <code class="code">RenderUiTemplate</code> operation, use the
          role's ARN in the <code class="code">RoleArn</code> parameter.</p>
      </li></ul></div>
   
    <h2 id="a2i-kms-encryption">Using Amazon A2I with AWS KMS Encrypted Buckets</h2>
    <p>If you specify an AWS Key Management Service (AWS KMS) customer managed key to encrypt output data in
        <code class="code">OutputConfig</code> of <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_CreateFlowDefinition.html"><code class="code">CreateFlowDefinition</code></a>, you must add an IAM policy similar to the
      following to that key. This policy gives the IAM execution role that you use to create your
      human loops permission to use this key to perform all of the actions listed in
        <code class="code">"Action"</code>. To learn more about these actions, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html">AWS KMS permissions</a>
      in the AWS Key Management Service Developer Guide.</p>
    <p>To use this policy, replace the IAM service-role ARN in <code class="code">"Principal"</code> with the
      ARN of the execution role you use to create the human review workflow (flow definition). When
      you create a labeling job using <code class="code">CreateFlowDefinition</code>, this is the ARN you specify
      for <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_CreateLabelingJob.html#sagemaker-CreateLabelingJob-request-RoleArn"><code class="code">RoleArn</code></a>. Note that you cannot provide a <code class="code">KmsKeyId</code> when
      you create a flow definition in the console.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Sid": "AllowUseOfKmsKey",
    "Effect": "Allow",
    "Principal": <span>{</span>
        "AWS": "arn:aws:iam::<code class="replaceable">111122223333</code>:role/service-role/<code class="replaceable">example-role</code>"
    },
    "Action": [
        "kms:Encrypt",
        "kms:Decrypt",
        "kms:ReEncrypt*",
        "kms:GenerateDataKey*",
        "kms:DescribeKey"
    ],
    "Resource": "*"
}</code></pre>
   
    <h2 id="additional-security-resources-augmented-ai">Additional Permissions and
        Security Resources </h2>
    <div class="itemizedlist">
       
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p><a href="security_iam_id-based-policy-examples.html#access-tag-policy">Control Access to SageMaker Resources by Using
                    Tags</a>.</p>
      </li><li class="listitem">
        <p><a href="security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies">SageMaker
                    Identity-Based Policies</a></p>
      </li><li class="listitem">
        <p><a href="security_iam_id-based-policy-examples.html#sagemaker-condition-examples">Control Creation of SageMaker Resources
                    with Condition Keys</a></p>
      </li><li class="listitem">
        <p><a href="api-permissions-reference.html">Amazon SageMaker API Permissions: Actions,
                Permissions, and Resources Reference</a></p>
      </li><li class="listitem">
        <p><a href="security.html">Configure security in Amazon SageMaker</a></p>
      </li></ul></div>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./a2i-output-data.html">Output Data</div><div id="next" class="next-link" accesskey="n" href="./a2i-cloudwatch-events.html">CloudWatch Events</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-permissions-security.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-permissions-security.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>