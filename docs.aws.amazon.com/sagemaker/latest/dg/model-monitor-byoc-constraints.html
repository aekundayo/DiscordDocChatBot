<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Schema for Constraints (constraints.json file) - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="model-monitor-byoc-constraints" /><meta name="default_state" content="model-monitor-byoc-constraints" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="model-monitor-byoc-constraints.html" /><meta name="description" content="Which constraints are to be computed for the data monitored." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="model-monitor-byoc-constraints.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="de" /><link rel="alternative" href="model-monitor-byoc-constraints.html" hreflang="en-us" /><link rel="alternative" href="model-monitor-byoc-constraints.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/model-monitor-byoc-constraints.html" hreflang="zh-tw" /><link rel="alternative" href="model-monitor-byoc-constraints.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Schema for Constraints (constraints.json file)" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Schema for Constraints (constraints.json file) - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#model-monitor-byoc-constraints" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/model-monitor-byoc-constraints.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/model-monitor-byoc-constraints.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/model-monitor-byoc-constraints.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Monitor data and model quality",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/model-monitor.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Advanced topics",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/model-monitor-advanced-topics.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Customize monitoring",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/model-monitor-custom-monitoring-schedules.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Bring Your Own Containers",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/model-monitor-byoc-containers.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "Container Contract Outputs",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/model-monitor-byoc-contract-outputs.html"
      },
      {
        "@type" : "ListItem",
        "position" : 9,
        "name" : "Schema for Constraints (constraints.json file)",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/model-monitor-byoc-contract-outputs.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#model-monitor-byoc-constraints" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="model-monitor-byoc-constraints">Schema for Constraints
                                (constraints.json file)</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>A constraints.json file is used to express the constraints that a
                            dataset must satisfy. Amazon SageMaker Model Monitor containers can use the constraints.json file
                            to evaluate datasets against. Prebuilt containers provide the ability to
                            generate the constraints.json file automatically for a baseline dataset.
                            If you bring your own container, you can provide it with similar
                            abilities or you can create the constraints.json file in some other way.
                            Here is the schema for the constraint file that the prebuilt container
                            uses. Bring your own containers can adopt the same format or enhance it
                            as required.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "version": 0,
    "features":
    [
        <span>{</span>
            "name": "string",
            "inferred_type": "Integral" | "Fractional" | 
                    | "String" | "Unknown",
            "completeness": number,
            "num_constraints":
            <span>{</span>
                "is_non_negative": boolean
            },
            "string_constraints":
            <span>{</span>
                "domains":
                [
                    "list of",
                    "observed values",
                    "for small cardinality"
                ]
            },
            "monitoringConfigOverrides":
            <span>{</span>}
        }
    ],
    "monitoring_config":
    <span>{</span>
        "evaluate_constraints": "Enabled",
        "emit_metrics": "Enabled",
        "datatype_check_threshold": 0.1,
        "domain_content_threshold": 0.1,
        "distribution_constraints":
        <span>{</span>
            "perform_comparison": "Enabled",
            "comparison_threshold": 0.1,
            "comparison_method": "Simple"||"Robust",
            "categorical_comparison_threshold": 0.1,
            "categorical_drift_method": "LInfinity"||"ChiSquared"
        }
    }
}</code></pre><p>The <code class="code">monitoring_config</code> object contains options for monitoring
                        job for the feature. The following table describes each option.</p><div class="table-container"><div class="table-contents disable-scroll"><table id="w714aac29c37b7b9c17c15b9"><thead><tr><th class="table-header" colspan="100"><div class="title">Monitoring Constraints</div></th></tr>
                                    <tr>
                                        <th>Constraint</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                    <tr>
                                        <td tabindex="-1"><code class="code">evaluate_constraints</code></td>
                                        <td tabindex="-1">
                                            <p>When <code class="code">Enabled</code>, evaluates whether the
                                                current dataset being analyzed satisfies the
                                                constraints specified in the constraints.json file
                                                taken as a baseline. </p>
                                            <p>Valid values: <code class="code">Enabled</code> or
                                                  <code class="code">Disabled</code></p>
                                            <p>Default: <code class="code">Enabled</code></p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1"><code class="code">emit_metrics</code></td>
                                        <td tabindex="-1">
                                            <p>When <code class="code">Enabled</code>, emits CloudWatch metrics for
                                                the data contained in the file.</p>
                                            <p>Valid values: <code class="code">Enabled</code> or
                                                  <code class="code">Disabled</code></p>
                                            <p>Default: <code class="code">Enabled</code></p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1"><code class="code">datatype_check_threshold</code></td>
                                        <td tabindex="-1">
                                            <p>If the threshold is above the value of the
                                                specified <code class="code">datatype_check_threshold</code>,
                                                this causes a failure that is treated as a violation
                                                in the violation report. If the data types in the
                                                current execution are not the same as in the
                                                baseline dataset, this threshold is used to evaluate
                                                if it needs to be flagged as a violation.</p>
                                            <p>During the baseline step, the generated
                                                constraints suggest the inferred data type for each
                                                column. The <code class="code">datatype_check_threshold</code>
                                                parameter can be tuned to adjust the threshold on
                                                when it is flagged as a violation.</p>
                                            <p>Valid values: float</p>
                                            <p>Default: 0.1</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1"><code class="code">domain_content_threshold</code></td>
                                        <td tabindex="-1">
                                            <p>If there are more unknown values for a String
                                                field in the current dataset than in the baseline
                                                dataset, this threshold can be used to dictate if it
                                                needs to be flagged as a violation.</p>
                                            <p>Valid values: float</p>
                                            <p>Default: 0.1</p>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td rowspan="5" tabindex="-1"><code class="code">distribution_constraints</code></td>
                                        <td tabindex="-1"><code class="code">perform_comparison</code>
                                            <p>When <code class="code">Enabled</code>, this flag instructs the
                                                code to perform a distribution comparison between
                                                the baseline distribution and the distribution
                                                observed for the current dataset.</p><p>Valid
                                                values: <code class="code">Enabled</code> or
                                                  <code class="code">Disabled</code>
                                            </p><p>Default:
                                            <code class="code">Enabled</code></p></td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1"><code class="code">comparison_threshold</code>
                                            <p>If the threshold is above the value set for the
                                                  <code class="code">comparison_threshold</code>, this causes a
                                                failure that is treated as a violation in the
                                                violation report. The distance is calculated by
                                                getting the maximum absolute difference between the
                                                cumulative distribution functions of two
                                                distributions. </p><p>Valid values:
                                                float</p><p>Default: 0.1</p></td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1"><code class="code">comparison_method</code>
                                        <p>Whether to calculate <code class="code">linf_simple</code> or
                                                <code class="code">linf_robust</code>. The
                                                <code class="code">linf_simple</code> is based on the maximum
                                            absolute difference between the cumulative distribution
                                            functions of two distributions. Calculating
                                                <code class="code">linf_robust</code> is based on
                                                <code class="code">linf_simple</code>, but is used when there are
                                            not enough samples. The <code class="code">linf_robust</code> formula
                                            is based on the <a href="https://en.m.wikipedia.org/wiki/Kolmogorov%E2%80%93Smirnov_test" rel="noopener noreferrer" target="_blank"><span>Two-sample Kolmogorovâ€“Smirnov
                                            test</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p><p>Valid values:
                                                <code class="code">linf_simple</code> or
                                            <code class="code">linf_robust</code></p></td>
                                    </tr>
                                <tr>
                                    <td tabindex="-1"><code class="code">categorical_comparison_threshold</code><p>Optional.
                                            Sets a threshold for categorical features. If the value
                                            in the dataset exceeds the threshold that you set, a
                                            violation is recorded in the violation
                                            report.</p><p>Valid values:
                                            float</p><p>Default:  The value assigned to the
                                                <code class="code">comparison_threshold</code>
                                        parameter</p></td>
                                </tr>
                                <tr>
                                    <td tabindex="-1"><code class="code">categorical_drift_method</code><p>Optional. For
                                            categorical features, specifies the computation method
                                            used to detect distribution drift. If you don't set this
                                            parameter, the K-S (LInfinity) test is used.
                                            </p><p>Valid Values: <code class="code">LInfinity</code> or
                                                <code class="code">ChiSquared</code></p><p>Default:
                                                <code class="code">LInfinity</code></p></td>
                                </tr>

                                    

                                </table></div></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./model-monitor-byoc-statistics.html">Statistics</div><div id="next" class="next-link" accesskey="n" href="./model-monitor-byoc-cloudwatch.html">CloudWatch Metrics</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/model-monitor-byoc-constraints.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/model-monitor-byoc-constraints.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>