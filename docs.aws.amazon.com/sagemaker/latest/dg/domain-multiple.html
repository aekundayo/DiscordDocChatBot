<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Multiple Domains Overview - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="domain-multiple" /><meta name="default_state" content="domain-multiple" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="domain-multiple.html" /><meta name="description" content="Learn about considerations when using multiple Amazon SageMaker Domains." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="domain-multiple.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/domain-multiple.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/domain-multiple.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/domain-multiple.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/domain-multiple.html" hreflang="de" /><link rel="alternative" href="domain-multiple.html" hreflang="en-us" /><link rel="alternative" href="domain-multiple.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/domain-multiple.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/domain-multiple.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/domain-multiple.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/domain-multiple.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/domain-multiple.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/domain-multiple.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/domain-multiple.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/domain-multiple.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/domain-multiple.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/domain-multiple.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/domain-multiple.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/domain-multiple.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/domain-multiple.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/domain-multiple.html" hreflang="zh-tw" /><link rel="alternative" href="domain-multiple.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Multiple Domains Overview" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Multiple Domains Overview - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#domain-multiple" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/domain-multiple.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/domain-multiple.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/domain-multiple.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Get started",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/gs.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Onboard to Amazon SageMaker Domain",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/gs-studio-onboard.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Amazon SageMaker Domain",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/sm-domain.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Multiple Domains Overview",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/sm-domain.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#domain-multiple" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="domain-multiple.html#domain-multiple-tag">Automatic tag propagation</a><a href="domain-multiple.html#domain-multiple-filtering">Domain resource display filtering</a><a href="domain-multiple.html#domain-multiple-backfill">Backfilling Domain tags</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="domain-multiple">Multiple Domains Overview</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p> Amazon SageMaker supports the creation of multiple Amazon SageMaker Domains in a single AWS Region for each
    account. Additional Domains in a Region have the same features and capabilities as the first
    Domain in a Region. Each Domain can have distinct Domain settings. The same user
    profile cannot be added to multiple Domains in a single Region within the same account. For
    more information about Domain limits, seeÂ <a href="https://docs.aws.amazon.com/general/latest/gr/sagemaker.html">Amazon SageMaker endpoints and quotas</a>. </p><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="domain-multiple.html#domain-multiple-tag">Automatic tag propagation</a></li><li><a href="domain-multiple.html#domain-multiple-filtering">Domain resource display filtering</a></li><li><a href="domain-multiple.html#domain-multiple-backfill">Backfilling Domain tags</a></li></ul></div>
    <h2 id="domain-multiple-tag">Automatic tag propagation</h2>
    <p>By default, any SageMaker resources that support tagging and are created from within the
      Studio UIÂ after 11/30/2022 are automatically tagged with a Domain ARN tag. The
      Domain ARN tag is based on the Domain ID of the Domain that the resource is
      created in. The following list describes the only SageMaker resources that do not support automatic
      tag propagation, as well as the impacted API calls where the tag is not returned because it
      was not automatically set.</p>
    <p>You can also use these tags for cost allocation using AWS Billing and Cost Management.
      For more information, seeÂ <a href="https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/cost-alloc-tags.html">Using AWS cost allocation
        tags</a>. </p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>All SageMaker <code class="code">List</code> APIs do not support tag-based resource isolation. </p><p>The <code class="code">default</code> app, which manages the Studio UI, is not automatically
        tagged.</p></div></div>
    <div class="table-container"><div class="table-contents disable-scroll"><table id="w714aab9c17c27c23b7b9">
          <tr>
            <td tabindex="-1">
              SageMaker resource
            </td>
            <td tabindex="-1">
              Affected API calls
            </td>
            
          </tr>
          <tr>
            <td tabindex="-1">
              ImageVersionArn
            </td>
            <td tabindex="-1"> 
            <div class="itemizedlist">
               
               
               
            <ul class="itemizedlist"><li class="listitem">
                  <p><a href="https://docs.aws.amazon.com/cli/latest/reference/sagemaker/describe-image-version.html">describe-image-version</a></p></li><li class="listitem">
                <p><a href="https://docs.aws.amazon.com/cli/latest/reference/sagemaker/update-image-version.html">update-image-version</a></p></li><li class="listitem">
                <p><a href="https://docs.aws.amazon.com/cli/latest/reference/sagemaker/delete-image-version.html">delete-image-version</a></p></li></ul></div>
            </td>
            
          </tr>
          <tr>
            <td tabindex="-1">
              ModelCardExportJobArn
            </td>
            <td tabindex="-1"><a href="https://docs.aws.amazon.com/cli/latest/reference/sagemaker/describe-model-card-export-job.html">describe-model-card-export-job</a>
            </td>
            
          </tr>
          
          <tr>
            <td tabindex="-1">
              ModelPackageArn
            </td>
            <td tabindex="-1"><a href="https://docs.aws.amazon.com/cli/latest/reference/sagemaker/describe-action.html">describe-action</a>
            </td>
            
          </tr>
          
        </table></div></div>
   
    <h2 id="domain-multiple-filtering">Domain resource display filtering</h2>
    <p>By default, SageMaker filters resources displayed within Studio at the domain level. SageMaker
      implements resource filtration in Studio using the <code class="code">sagemaker:domain-arn</code> tag
      attached to SageMaker resources.</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>This only applies to the Studio UI. SageMaker does not support resource filtering using the
        AWS CLI by default. </p></div></div>
    <p>Using this resource filtration, SageMaker only displays SageMaker resources created in the domain,
      as well as SageMaker resources that do not have a <code class="code">sagemaker:domain-arn</code> tag associated
      to them. These untagged resources are either created outside the context of a domain or were
      created before 11/30/2022. You can add a tag to these untagged resources for better filtration
      by following the steps in <a href="domain-multiple.html#domain-multiple-backfill">Backfilling Domain tags</a>. Resources created in other domains are
      automatically filtered out.</p>
    <p>All resources created in shared spaces are automatically filtered to that space.</p>
   
    <h2 id="domain-multiple-backfill">Backfilling Domain tags</h2>
<p> If you have created resources in a Domain before 11/30/2022, those resources are not
      automatically tagged with the Domain Amazon Resource Name (ARN) tag. </p>
    <p>To accurately attribute resources to their respective Domain, you must add the
      Domain tag to existing resources using the AWS CLI, as follows.</p>
    <div class="procedure"><ol><li>
        <p>Map all existing SageMaker resources and their respective ARNs to the Domains that
          exist in your account.</p>
      </li><li>
        <p>Run the following command from your local machine to tag the resource with the ARN of
          the resource's respective Domain. This must be repeated for every SageMaker resource in
          your account.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws resourcegroupstaggingapi tag-resources \
    --resource-arn-list arn:aws:sagemaker:<code class="replaceable">region</code>:<code class="replaceable">account-id</code>:space/<code class="replaceable">domain-id</code>/<code class="replaceable">space-name</code> \
    --tags sagemaker:domain-arn=arn:aws:sagemaker:<code class="replaceable">region</code>:<code class="replaceable">account-id</code>:domain/<code class="replaceable">domain-id</code></code></pre>
      </li></ol></div>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./domain-prerequisites.html">Prerequisites</div><div id="next" class="next-link" accesskey="n" href="./domain-resource-isolation.html">Domain resource isolation</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/domain-multiple.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/domain-multiple.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>