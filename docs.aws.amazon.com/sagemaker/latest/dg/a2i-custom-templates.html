<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Create Custom Worker Task Templates - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="a2i-custom-templates" /><meta name="default_state" content="a2i-custom-templates" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="a2i-custom-templates.html" /><meta name="description" content="Customize the Amazon Augmented AI worker console and instructions by creating a custom worker template and integrating it with an Amazon A2I human review workflow." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="a2i-custom-templates.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="de" /><link rel="alternative" href="a2i-custom-templates.html" hreflang="en-us" /><link rel="alternative" href="a2i-custom-templates.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/a2i-custom-templates.html" hreflang="zh-tw" /><link rel="alternative" href="a2i-custom-templates.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Create Custom Worker Task Templates" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Create Custom Worker Task Templates - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#a2i-custom-templates" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-custom-templates.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-custom-templates.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-custom-templates.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Label data with a human-in-the-loop",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/data-label.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Using Amazon Augmented AI for Human Review",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/a2i-use-augmented-ai-a2i-human-review-loops.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Create and Manage Worker Task Templates",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/a2i-instructions-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Create Custom Worker Task Templates",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/a2i-instructions-overview.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#a2i-custom-templates" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="a2i-custom-templates.html#developing-templates-locally">Develop Templates Locally</a><a href="a2i-custom-templates.html#a2i-custom-template-using-external-assets">Use External Assets</a><a href="a2i-custom-templates.html#a2i-custom-template-step2-UI-vars">Track Your Variables</a><a href="a2i-custom-templates.html#a2i-custom-templates-textract-sample">Custom Template Example for
                Amazon Textract</a><a href="a2i-custom-templates.html#a2i-custom-templates-rekognition-sample">Custom Template Example for
                Amazon Rekognition</a><a href="a2i-custom-templates.html#a2i-custom-templates-step2-automate">Add Automation with Liquid</a><a href="a2i-custom-templates.html#a2i-preview-your-custom-template">Preview a Worker Task
                Template</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="a2i-custom-templates">Create Custom Worker Task Templates</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p><em>Crowd HTML Elements</em> are web components that provide a number of task
        widgets and design elements that you can tailor to the question you want to ask. You can use
        these crowd elements to create a custom worker template and integrate it with an Amazon Augmented AI
        (Amazon A2I) human review workflow to customize the worker console and instructions. </p><p>For a list of all HTML crowd elements available to Amazon A2I users, see <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/sms-ui-template-reference.html">Crowd HTML Elements Reference</a>. For
        examples of templates, see the <a href="https://github.com/aws-samples/amazon-a2i-sample-task-uis" rel="noopener noreferrer" target="_blank"><span>AWS GitHub
            repository</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, which contains over 60 sample custom task templates.</p>
        <h2 id="developing-templates-locally">Develop Templates Locally</h2>
        <p>When in the console to test how your template processes incoming data, you can test
            the look and feel of your template's HTML and custom elements in your browser by adding
            the following code to the top of your HTML file.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">&lt;script src="https://assets.crowd.aws/crowd-html-elements.js"&gt;&lt;/script&gt;</code></pre>
        
        <p>This loads the necessary code to render the custom HTML elements. Use this code if you
            want to develop your template's look and feel in your preferred editor instead of in the
            console.</p>
        <p>This code won't parse your variables. You might want to replace them with sample
            content while developing locally.</p>
     
       <h2 id="a2i-custom-template-using-external-assets">Use External Assets</h2>
    <p>Amazon Augmented AI custom templates enable you to embed external scripts and style sheets. For
            example, the following header embeds a <code class="code">text/css</code> style sheet name
                <code class="code">stylesheet</code> located at
                <code class="code">https://www.example.com/my-enhancement-styles.css</code> into the custom
            template.</p>
            <div class="example"><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="html ">&lt;script src="https://www.example.com/my-enhancment-script.js"&gt;&lt;/script&gt;
&lt;link rel="stylesheet" type="text/css" href="https://www.example.com/my-enhancement-styles.css"&gt;</code></pre></div></div>
            <p>If you encounter errors, ensure that your originating server is sending the correct MIME type and encoding headers with the assets.</p>
            <p>For example, the MIME and encoding type for remote scripts is
                <code class="code">application/javascript;CHARSET=UTF-8</code>.</p>
            <p>The MIME and encoding type for remote stylesheets is
                <code class="code">text/css;CHARSET=UTF-8</code>.</p>
     
            <h2 id="a2i-custom-template-step2-UI-vars">Track Your Variables</h2>
            <p>When building a custom template, you must add variables to it to represent the
            pieces of data that might change from task to task, or worker to worker. If you're
            starting with one of the sample templates, you need to make sure you're aware of the
            variables it already uses. </p>
        <p>For example, for a custom template that integrates an Augmented AI human review loop with a
            Amazon Textract text review task, <code class="code"><span>{</span><span>{</span> task.input.selectedAiServiceResponse.blocks
                }}</code> is used for initial-value input data. For Amazon Augmented AI (Amazon A2I)
            integration with Amazon Rekognition , <code class="code"><span>{</span><span>{</span> task.input.selectedAiServiceResponse.moderationLabels
                }}</code> is used. For a custom task type, you need to determine the input parameter
            for your task type. Use <code class="code"><span>{</span><span>{</span>
                    task.input.<code class="replaceable">customInputValuesForStartHumanLoop</code>}}</code>
            where you specify
                <code class="code"><code class="replaceable">customInputValuesForStartHumanLoop</code></code>. </p>
         
            <h2 id="a2i-custom-templates-textract-sample">Custom Template Example for
                Amazon Textract</h2>
             <p>All custom templates begin and end with the <code class="code">&lt;crowd-form&gt;
                &lt;/crowd-form&gt;</code> elements. Like standard HTML <code class="code">&lt;form&gt;</code>
            elements, all of your form code should go between these elements. </p>
            <p>For an Amazon Textract document analysis task, use the
                <code class="code">&lt;crowd-textract-analyze-document&gt;</code> element. It uses the following
            attributes: </p>
                <div class="itemizedlist">
             
             
                     
                     
             
             
                <ul class="itemizedlist"><li class="listitem">
                <p><code class="code">src</code> – Specifies the URL of the image file to be
                    annotated.</p>
            </li><li class="listitem">
                <p><code class="code">initialValue</code> – Sets initial values for attributes found in
                    the worker UI.</p>
            </li><li class="listitem"><p><code class="code">blockTypes</code> (required) – Determines the kind of analysis that the workers
                    can do. Only <code class="code">KEY_VALUE_SET</code> is currently supported. </p></li><li class="listitem"><p><code class="code">keys</code> (required) – Specifies new keys and the associated text value that
                    the worker can add.</p></li><li class="listitem">
                <p><code class="code">no-key-edit</code> (required) – Prevents the workers from editing
                    the keys of annotations passed through <code class="code">initialValue</code>.</p>
            </li><li class="listitem">
                <p><code class="code">no-geometry-edit</code> – Prevents workers from editing the
                    polygons of annotations passed through <code class="code">initialValue</code>.</p>
            </li></ul></div>
            <p>For children of the <code class="code">&lt;crowd-textract-analyze-document&gt;</code> element,
            you must have two Regions. You can use arbitrary HTML and CSS elements in these Regions. </p>
            <div class="itemizedlist">
                 
                                 
            <ul class="itemizedlist"><li class="listitem"><p><code class="code">&lt;full-instructions&gt;</code> – Instructions that are available from the
                        <b>View full instructions</b> link in the tool. You can leave
                    this blank, but we recommend that you provide complete instructions to get
                    better results.</p></li><li class="listitem"><p><code class="code">&lt;short-instructions&gt;</code> – A brief description of the task that appears
                    in the tool's sidebar. You can leave this blank, but we recommend that you
                    provide complete instructions to get better results.</p></li></ul></div>
            <p> An Amazon Textract template would look similar to the following.</p>
            <div class="example"><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">&lt;script src="https://assets.crowd.aws/crowd-html-elements.js"&gt;&lt;/script&gt;
<span>{</span>% capture s3_uri %}http://s3.amazonaws.com/<span>{</span><span>{</span> task.input.aiServiceRequest.document.s3Object.bucket }}/<span>{</span><span>{</span> task.input.aiServiceRequest.document.s3Object.name }}<span>{</span>% endcapture %}

&lt;crowd-form&gt;
  &lt;crowd-textract-analyze-document
    src="<span>{</span><span>{</span> s3_uri | grant_read_access }}"
    initial-value="<span>{</span><span>{</span> task.input.selectedAiServiceResponse.blocks }}"
    header="Review the key-value pairs listed on the right and correct them if they don't match the following document."
    no-key-edit
    no-geometry-edit
    keys="<span>{</span><span>{</span> task.input.humanLoopContext.importantFormKeys }}"
    block-types="['KEY_VALUE_SET']"
  &gt;
    &lt;short-instructions header="Instructions"&gt;
      &lt;style&gt;
        .instructions <span>{</span>
          white-space: pre-wrap;
        }
        .instructionsImage <span>{</span>
          display: inline-block;
          max-width: 100%;
        }
      &lt;/style&gt;
      &lt;p class='instructions'&gt;Choose a key-value block to highlight the corresponding key-value pair in the document.

If it is a valid key-value pair, review the content for the value. If the content is incorrect, correct it.

The text of the value is incorrect, correct it.
&lt;img class='instructionsImage' src="https://example-site/correct-value-text.png" /&gt;

A wrong value is identified, correct it.
&lt;img class='instructionsImage' src="https://example-site/correct-value.png" /&gt;

If it is not a valid key-value relationship, choose No.
&lt;img class='instructionsImage' src="https://example-site/not-a-key-value-pair.png" /&gt;

If you can’t find the key in the document, choose Key not found.
&lt;img class='instructionsImage' src="https://example-site/key-is-not-found.png" /&gt;

If the content of a field is empty, choose Value is blank.
&lt;img class='instructionsImage' src="https://example-site/value-is-blank.png" /&gt;

&lt;b&gt;Examples&lt;/b&gt;
Key and value are often displayed next to or below to each other.

Key and value displayed in one line.
&lt;img class='instructionsImage' src="https://example-site/sample-key-value-pair-1.png" /&gt;

Key and value displayed in two lines.
&lt;img class='instructionsImage' src="https://example-site/sample-key-value-pair-2.png" /&gt;

If the content of the value has multiple lines, enter all the text without a line break. Include all value text even if it extends beyond the highlight box.
&lt;img class='instructionsImage' src="https://assets.crowd.aws/images/a2i-console/multiple-lines.png" /&gt;&lt;/p&gt;
    &lt;/short-instructions&gt;

    &lt;full-instructions header="Instructions"&gt;&lt;/full-instructions&gt;
  &lt;/crowd-textract-analyze-document&gt;
&lt;/crowd-form&gt;</code></pre></div></div>
         
        <h2 id="a2i-custom-templates-rekognition-sample">Custom Template Example for
                Amazon Rekognition</h2>
        <p>All custom templates begin and end with the <code class="code">&lt;crowd-form&gt;
                &lt;/crowd-form&gt;</code> elements. Like standard HTML <code class="code">&lt;form&gt;</code>
            elements, all of your form code should go between these elements. For an Amazon Rekognition custom
            task template, use the <code class="code">&lt;crowd-rekognition-detect-moderation-labels&gt;</code>
            element. This element supports the following attributes: </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><code class="code">categories</code> – An array of strings <em>or</em> an array of objects where each object has a <code class="code">name</code>
                    field.</p>
                <div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>If the categories come in as objects, the following applies:</p>
                        <div class="itemizedlist">
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>The displayed categories are the value of the
                                        <code class="code">name</code> field. </p>
                            </li><li class="listitem">
                                <p>The returned answer contains the <em>full</em> objects of any selected categories.</p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>If the categories come in as strings, the following applies:</p>
                        <div class="itemizedlist">
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>The returned answer is an array of all the strings that were
                                    selected.</p>
                            </li></ul></div>
                    </li></ul></div>
            </li><li class="listitem">
                <p><code class="code">exclusion-category</code> – By setting this attribute, you create
                    a button underneath the categories in the UI. When a user selects the button,
                    all categories are deselected and disabled. If the worker selects the button
                    again, you re-enable users to choose categories. If the worker submits the task
                    by selecting <b>Submit</b> after you select the button, that task
                    returns an empty array.</p>
            </li></ul></div>
        <p>For children of the <code class="code">&lt;crowd-rekognition-detect-moderation-labels&gt;</code>
            element, you must have two Regions.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><code class="code">&lt;full-instructions&gt;</code> – Instructions that are
                    available from the <b>View full instructions</b> link in the tool.
                    You can leave this blank, but we recommend that you provide complete
                    instructions to get better results.</p>
            </li><li class="listitem">
                <p><code class="code">&lt;short-instructions&gt;</code> – Brief description of the task
                    that appears in the tool's sidebar. You can leave this blank, but we recommend
                    that you provide complete instructions to get better results.</p>
            </li></ul></div>
        <p>A template using these elements would look similar to the following.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">&lt;script src="https://assets.crowd.aws/crowd-html-elements.js"&gt;&lt;/script&gt;
<span>{</span>% capture s3_uri %}http://s3.amazonaws.com/<span>{</span><span>{</span> task.input.aiServiceRequest.image.s3Object.bucket }}/<span>{</span><span>{</span> task.input.aiServiceRequest.image.s3Object.name }}<span>{</span>% endcapture %}

&lt;crowd-form&gt;
  &lt;crowd-rekognition-detect-moderation-labels
    categories='[
      <span>{</span>% for label in task.input.selectedAiServiceResponse.moderationLabels %}
        <span>{</span>
          name: "<span>{</span><span>{</span> label.name }}",
          parentName: "<span>{</span><span>{</span> label.parentName }}",
        },
      <span>{</span>% endfor %}
    ]'
    src="<span>{</span><span>{</span> s3_uri | grant_read_access }}"
    header="Review the image and choose all applicable categories."
  &gt;
    &lt;short-instructions header="Instructions"&gt;
      &lt;style&gt;
        .instructions <span>{</span>
          white-space: pre-wrap;
        }
      &lt;/style&gt;
      &lt;p class='instructions'&gt;Review the image and choose all applicable categories.
If no categories apply, choose None.

&lt;b&gt;Nudity&lt;/b&gt;
Visuals depicting nude male or female person or persons

&lt;b&gt;Graphic Male Nudity&lt;/b&gt;
Visuals depicting full frontal male nudity, often close ups

&lt;b&gt;Graphic Female Nudity&lt;/b&gt;
Visuals depicting full frontal female nudity, often close ups

&lt;b&gt;Sexual Activity&lt;/b&gt;
Visuals depicting various types of explicit sexual activities and pornography

&lt;b&gt;Illustrated Nudity or Sexual Activity&lt;/b&gt;
Visuals depicting animated or drawn sexual activity, nudity, or pornography

&lt;b&gt;Adult Toys&lt;/b&gt;
Visuals depicting adult toys, often in a marketing context

&lt;b&gt;Female Swimwear or Underwear&lt;/b&gt;
Visuals depicting female person wearing only swimwear or underwear

&lt;b&gt;Male Swimwear Or Underwear&lt;/b&gt;
Visuals depicting male person wearing only swimwear or underwear

&lt;b&gt;Partial Nudity&lt;/b&gt;
Visuals depicting covered up nudity, for example using hands or pose

&lt;b&gt;Revealing Clothes&lt;/b&gt;
Visuals depicting revealing clothes and poses, such as deep cut dresses

&lt;b&gt;Graphic Violence or Gore&lt;/b&gt;
Visuals depicting prominent blood or bloody injuries

&lt;b&gt;Physical Violence&lt;/b&gt;
Visuals depicting violent physical assault, such as kicking or punching

&lt;b&gt;Weapon Violence&lt;/b&gt;
Visuals depicting violence using weapons like firearms or blades, such as shooting

&lt;b&gt;Weapons&lt;/b&gt;
Visuals depicting weapons like firearms and blades

&lt;b&gt;Self Injury&lt;/b&gt;
Visuals depicting self-inflicted cutting on the body, typically in distinctive patterns using sharp objects

&lt;b&gt;Emaciated Bodies&lt;/b&gt;
Visuals depicting extremely malnourished human bodies

&lt;b&gt;Corpses&lt;/b&gt;
Visuals depicting human dead bodies

&lt;b&gt;Hanging&lt;/b&gt;
Visuals depicting death by hanging&lt;/p&gt;
    &lt;/short-instructions&gt;

    &lt;full-instructions header="Instructions"&gt;&lt;/full-instructions&gt;
  &lt;/crowd-rekognition-detect-moderation-labels&gt;
&lt;/crowd-form&gt;</code></pre>
        
         
        <h2 id="a2i-custom-templates-step2-automate">Add Automation with Liquid</h2>
        <p>The custom template system uses <a href="https://shopify.github.io/liquid/" rel="noopener noreferrer" target="_blank"><span>Liquid</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> for automation. <em>Liquid</em> is an
            open-source inline markup language. For more information and documentation, see the
                <a href="https://shopify.github.io/liquid/" rel="noopener noreferrer" target="_blank"><span>Liquid homepage</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
        <p>In Liquid, the text between single curly braces and percent symbols is an instruction
            or <em>tag</em> that performs an operation like control flow
            or iteration. Text between double curly braces is a variable or <em>object</em> that outputs its value. The following list includes two types of
            liquid tags that you may find useful to automate template input data processing. If you
            select one of the following tag-types, you are redirected to the Liquid
            documentation.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><a href="https://shopify.github.io/liquid/tags/control-flow/" rel="noopener noreferrer" target="_blank"><span>Control flow</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>: Includes programming logic operators like
                        <code class="code">if/else</code>, <code class="code">unless</code>, and
                    <code class="code">case/when</code>.</p>
            </li><li class="listitem">
                <p><a href="https://shopify.github.io/liquid/tags/iteration/" rel="noopener noreferrer" target="_blank"><span>Iteration</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>: Enables you to run blocks of code repeatedly using
                    statements like for loops.</p>
                <p>For example, the following code example demonstrates how you can use the
                    Liquid <code class="code">for</code> tag to create a <code class="code">for</code> loop. This example
                    loops through the <a href="https://docs.aws.amazon.com/rekognition/latest/dg/API_ModerationLabel.html"><code class="code">moderationLabels</code></a> returned from Amazon Rekognition and displays
                    the <code class="code">moderationLabels</code> attributes <code class="code">name</code> and
                        <code class="code">parentName</code> for workers to review:</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> <span>{</span>% for label in task.input.selectedAiServiceResponse.moderationLabels %}
    <span>{</span>
      name: &amp;quot;<span>{</span><span>{</span> label.name }}&amp;quot;,
      parentName: &amp;quot;<span>{</span><span>{</span> label.parentName }}&amp;quot;,
    },
 <span>{</span>% endfor %}</code></pre>
            </li></ul></div>
         
            <h3 id="a2i-custom-templates-step2-automate-filters">Use Variable
                    Filters</h3>
            <p>In addition to the standard <a href="https://shopify.github.io/liquid/filters/abs/" rel="noopener noreferrer" target="_blank"><span>Liquid filters</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> and
                actions, Amazon Augmented AI (Amazon A2I) offers additional filters. You apply filters by
                placing a pipe (<code class="code">|</code>) character after the variable name, and then
                specifying a filter name. To chain filters, use the following format.</p>
            <div class="example"><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span><span>{</span> &lt;content&gt; | &lt;filter&gt; | &lt;filter&gt; }}</code></pre></div></div>
             
                <h4 id="a2i-custom-templates-step2-automate-filters-autoescape">Autoescape and Explicit
                        Escape</h4>
                <p>By default, inputs are HTML-escaped to prevent confusion between your variable
                    text and HTML. You can explicitly add the <code class="code">escape</code> filter to make it
                    more obvious to someone reading the source of your template that escaping is
                    being done.</p>
             
             
                <h4 id="a2i-custom-templates-step2-automate-escapeonce">escape_once</h4>
                <p><code class="code">escape_once</code> ensures that if you've already escaped your code, it
                    doesn't get re-escaped again. For example, it ensures that
                        <code class="code">&amp;amp;</code> doesn't become <code class="code">&amp;amp;amp;</code>.</p>
             
             
                <h4 id="a2i-custom-templates-step2-automate-skipautoescape">skip_autoescape</h4>
                <p><code class="code">skip_autoescape</code> is useful when your content is meant to be used
                    as HTML. For example, you might have a few paragraphs of text and some images in
                    the full instructions for a bounding box.</p>
                <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Use <code class="code">skip_autoescape</code> sparingly. As a best practice for
                        templates, avoid passing in functional code or markup with
                            <code class="code">skip_autoescape</code> unless you are absolutely sure that you
                        have strict control over what's being passed. If you're passing user input,
                        you could be opening your workers up to a cross-site scripting
                        attack.</p></div></div>
             
             
                <h4 id="a2i-custom-templates-step2-automate-tojson">to_json</h4>
                <p><code class="code">to_json</code> encodes data that you provide to JavaScript Object
                    Notation (JSON). If you provide an object, it serializes it.</p>
             
             
                <h4 id="a2i-custom-templates-step2-automate-grantreadaccess">grant_read_access</h4>
                <p><code class="code">grant_read_access</code> takes an Amazon Simple Storage Service (Amazon S3) URI and encodes it
                    into an HTTPS URL with a short-lived access token for that resource. This makes
                    it possible to display photo, audio, or video objects stored in S3 buckets that
                    are not otherwise publicly accessible to workers.</p>
             
            <div class="example"><h6>Example of the to_json and grant_read_access filters</h6><div class="example-contents"><p>Input</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">auto-escape: <span>{</span><span>{</span> "Have you read 'James &amp; the Giant Peach'?" }}
explicit escape: <span>{</span><span>{</span> "Have you read 'James &amp; the Giant Peach'?" | escape }}
explicit escape_once: <span>{</span><span>{</span> "Have you read 'James &amp;amp; the Giant Peach'?" | escape_once }}
skip_autoescape: <span>{</span><span>{</span> "Have you read 'James &amp; the Giant Peach'?" | skip_autoescape }}
to_json: <span>{</span><span>{</span> jsObject | to_json }}                
grant_read_access: <span>{</span><span>{</span> "s3://examplebucket/myphoto.png" | grant_read_access }}</code></pre></div></div>
            <div class="example"><div class="example-contents"><p>Output</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">auto-escape: Have you read &amp;#39;James &amp;amp; the Giant Peach&amp;#39;?
explicit escape: Have you read &amp;#39;James &amp;amp; the Giant Peach&amp;#39;?
explicit escape_once: Have you read &amp;#39;James &amp;amp; the Giant Peach&amp;#39;?
skip_autoescape: Have you read 'James &amp; the Giant Peach'?
to_json: <span>{</span> "point_number": 8, "coords": [ 59, 76 ] }
grant_read_access: https://s3.amazonaws.com/examplebucket/myphoto.png?<code class="replaceable">&lt;access token and other params&gt;</code></code></pre></div></div>
         
        <div class="example"><h6>Example  Example of an automated classification template.</h6><div class="example-contents"><p>To automate this simple text classification sample, include the Liquid tag
                    <code class="code"><span>{</span><span>{</span> task.input.<code class="replaceable">source</code> }}</code>. This example
                uses the <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/sms-ui-template-crowd-classifier.html">crowd-classifier</a> element.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">&lt;script src="https://assets.crowd.aws/crowd-html-elements.js"&gt;&lt;/script&gt;
&lt;crowd-form&gt;
  &lt;crowd-classifier 
    name="tweetFeeling"
    categories="['positive', 'negative', 'neutral', 'cannot determine']"
    header="Which term best describes this tweet?" 
  &gt;
    &lt;classification-target&gt;
       <span>{</span><span>{</span> task.input.<code class="replaceable">source</code> }}
    &lt;/classification-target&gt;

    &lt;full-instructions header="Analyzing a sentiment"&gt;
      Try to determine the feeling the author 
      of the tweet is trying to express. 
      If none seems to match, choose "other."
    &lt;/full-instructions&gt;

    &lt;short-instructions&gt;
      Pick the term that best describes the sentiment 
      of the tweet. 
    &lt;/short-instructions&gt;

  &lt;/crowd-classifier&gt;
&lt;/crowd-form&gt;
</code></pre></div></div>
     
        <h2 id="a2i-preview-your-custom-template">Preview a Worker Task
                Template</h2>
        <p>To preview a custom worker task template, use the SageMaker <code class="code">RenderUiTemplate</code>
            operation. You can use the <code class="code">RenderUiTemplate</code> operation with the AWS CLI or
            your preferred AWS SDK. For documentation on the supported language specific SDKs for
            this API operation, see the <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_RenderUiTemplate.html#API_RenderUiTemplate_SeeAlso"><code class="code">See Also</code></a> section of the <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_RenderUiTemplate.html"><code class="code">RenderUiTemplate</code></a>. </p>
        <p><b>Prerequisites</b></p>
        <p>To preview your worker task template, the AWS Identity and Access Management (IAM) role Amazon Resource Name
            (ARN), or <code class="code">RoleArn</code>, that you use must have permission to access to the S3
            objects that are used by the template. To learn how to configure your role or user see
                <a href="a2i-permissions-security.html#permissions-for-worker-task-templates-augmented-ai">Enable Worker Task
        Template Previews </a>.</p>
        <div class="procedure"><h6>To preview your worker task template using the <code class="code">RenderUiTemplate</code> operation:</h6><ol><li>
                <p>Provide a <b><code class="code">RoleArn</code></b> of the role with required
                    policies attached to preview your custom template. </p>
            </li><li>
                <p>In the <b><code class="code">Input</code></b> parameter of
                            <b><code class="code">Task</code></b>, provide a JSON object that
                    contains values for the variables defined in the template. These are the
                    variables that are substituted for the
                            <code class="code">task.input.<code class="replaceable">source</code></code> variable. For
                    example, if you define a  task.input.text variable in your template, you can
                    supply the variable in the JSON object as <code class="code">text</code>: <code class="code">sample
                        text</code>.</p>
            </li><li>
                <p>In the <b><code class="code">Content</code></b> parameter of
                            <b><code class="code">UiTemplate</code></b>, insert your
                    template.</p>
            </li></ol></div>
        <p>Once you've configured <code class="code">RenderUiTemplate</code>, use your preferred SDK or the
            AWS CLI to submit a request to render your template. If your request was successful, the
            response includes <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_RenderUiTemplate.html#API_RenderUiTemplate_ResponseSyntax"><code class="code">RenderedContent</code></a>, a Liquid template that renders the HTML for
            the worker UI.</p>
        <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>To preview your template, you need an IAM role with permissions to read Amazon S3
                objects that get rendered on your user interface. For a sample policy that you can
                attach to your IAM role to grant these permissions, see <a href="a2i-permissions-security.html#permissions-for-worker-task-templates-augmented-ai">Enable Worker Task
        Template Previews </a>. </p></div></div>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./a2i-worker-template-console.html">Create and Delete Worker Task Templates</div><div id="next" class="next-link" accesskey="n" href="./a2i-creating-good-instructions-guide.html">Creating Good Worker Instructions</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-custom-templates.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-custom-templates.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>