<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Create your endpoint and deploy your model - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="realtime-endpoints-deployment" /><meta name="default_state" content="realtime-endpoints-deployment" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="realtime-endpoints-deployment.html" /><meta name="description" content="There are several options to deploy a model using SageMaker hosting services. You can programmatically deploy a model using an AWS SDK (for example, the SDK for Python (Boto3)), the SageMaker Python SDK, the AWS CLI, or you can interactively deploy a model with the SageMaker console. The AWS SDK is a low-level API and supports Java, C++, Go, JavaScript, Node.js, PHP, Ruby, and Python whereas the SageMaker Python SDK is a high-level Python API. The following documentation demonstrates how to deploy a model using the AWS SDK for Python (Boto3) and the SageMaker Python SDK." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="realtime-endpoints-deployment.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="de" /><link rel="alternative" href="realtime-endpoints-deployment.html" hreflang="en-us" /><link rel="alternative" href="realtime-endpoints-deployment.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/realtime-endpoints-deployment.html" hreflang="zh-tw" /><link rel="alternative" href="realtime-endpoints-deployment.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Create your endpoint and deploy your model" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Create your endpoint and deploy your model - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#realtime-endpoints-deployment" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/realtime-endpoints-deployment.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/realtime-endpoints-deployment.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/realtime-endpoints-deployment.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance,inference,deploy model,endpoint,prediction,ML application,serverless machine learning,multi model deployment,inference pipelines,ML model" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Deploy models for inference",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/deploy-model.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Real-time inference",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/realtime-endpoints.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Hosting options",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/realtime-endpoints-options.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Host a single model",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/realtime-single-model.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "Create your endpoint and deploy your model",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/realtime-single-model.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#realtime-endpoints-deployment" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="realtime-endpoints-deployment.html#realtime-endpoints-deployment-setup">Before you begin</a><a href="realtime-endpoints-deployment.html#realtime-endpoints-deployment-create-model">Create a Model</a><a href="realtime-endpoints-deployment.html#realtime-endpoints-deployment-create-endpoint-config">Create an Endpoint Configuration</a><a href="realtime-endpoints-deployment.html#w2347aac25c33b7b9b7c29">Deploy your model</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="realtime-endpoints-deployment">Create your endpoint and deploy your model</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>There are several options to deploy a model using SageMaker hosting services. You can  
            programmatically deploy a model using an AWS SDK (for example, the SDK for Python (Boto3)), the SageMaker Python SDK, the AWS CLI, 
            or you can interactively deploy a model with the SageMaker console. The AWS SDK is a low-level API and supports 
            Java, C++, Go, JavaScript, Node.js, PHP, Ruby, and Python whereas the SageMaker Python SDK is a high-level Python API. 
            The following documentation demonstrates how to deploy a model using the AWS SDK for Python (Boto3) and the SageMaker Python SDK.</p><p>
            Deploying a model using SageMaker hosting services is a three-step process if you use 
            AWS SDK for Python (Boto3), the AWS CLI, or the SageMaker console:</p><div class="procedure"><ol><li><p>Create a SageMaker model in SageMaker.</p></li><li><p>Create an endpoint configuration for an HTTPS endpoint.</p></li><li><p>Create an HTTPS endpoint.</p></li></ol></div><p>Deploying a model using the SageMaker Python SDK does not require that you create an endpoint 
            configuration. It is therefore a two-step process:</p><div class="procedure"><ol><li><p>Create a model object from the <code class="code">Model</code> Class that can be deployed to an HTTPS endpoint.</p></li><li><p>Create an HTTPS endpoint with the Model object's pre-built <code class="code">deploy()</code> method.</p></li></ol></div><p>To use the proceeding code snippets, replace the <code class="replaceable">italicized placeholder text</code> 
            in the example code with your own information.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem"><p>
                    SageMaker supports running (a) multiple models, (b) multiple variants of a model, or (c) combinations of 
                    models and variants on the same endpoint. Model variants can reference the same model inference container 
                    (i.e. run the same algorithm), but use different model artifacts (e.g., different model weight values based 
                    on other hyper-parameter configurations). In contrast, two different models may use the same algorithm, 
                    but focus on different business problems or underlying goals and may operate on different data sets.
                </p></li><li class="listitem"><p>When you create an endpoint, SageMaker attaches an Amazon EBS storage volume to each ML
                    compute instance that hosts the endpoint. The size of the storage volume depends
                    on the instance type. For a list of instance types that SageMaker hosting service
                    supports, see <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html#limits_sagemaker">AWS Service Limits</a>. For a list of the sizes of the storage volumes
                    that SageMaker attaches to each instance, see <a href="host-instance-storage.html">Host instance storage volumes</a>.</p></li><li class="listitem"><p>Endpoints are scoped to an individual AWS account, and are not public. The URL does
                    not contain the account ID, but SageMaker determines the account ID from the
                    authentication token that is supplied by the caller.</p>
                    <p>For an example of how to use Amazon API Gateway and AWS Lambda to set up and deploy a web service
                        that you can call from a client application that is not within the scope
                        of your account, see <a href="https://aws.amazon.com/blogs/machine-learning/call-an-amazon-sagemaker-model-endpoint-using-amazon-api-gateway-and-aws-lambda/" rel="noopener noreferrer" target="_blank"><span>Call
                            a SageMaker model endpoint using Amazon API Gateway and AWS Lambda</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> in the
                        <em>AWS Machine Learning Blog</em>.</p></li></ul></div></div></div>
            <h2 id="realtime-endpoints-deployment-setup">Before you begin</h2>
            
            
            
            <p>Before you create and deploy a SageMaker model, locate and make note of the:</p>
             
            <div class="itemizedlist">
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem"><p>AWS region where your Amazon S3 bucket is located</p></li><li class="listitem"><p>Amazon S3 URI path where the model artifacts are stored</p></li><li class="listitem"><p>IAM role for SageMaker</p></li><li class="listitem"><p>Docker Amazon ECR URI registry path for the custom image that contains the inference code, or the framework and 
                    version of a built-in Docker image that is supported and by AWS.</p></li></ul></div>
            
            <p>
                For a list of AWS Services available in each AWS Region, see 
                <a href="http://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/" rel="noopener noreferrer" target="_blank"><span>Region Maps and Edge Networks</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. 
                See <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create.html">Creating IAM roles</a> 
                for information on how to create an IAM role.</p>
            
            <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>The Amazon S3 bucket where the model artifacts are stored must be in the same region as the model that you are creating.</p></div></div>
            
            
            
            <p>The following demonstrates how to define the aforementioned parameters programmatically.</p>
            
            <awsdocs-tabs><dl style="display: none">
                <dt>AWS SDK for Python (Boto3)</dt><dd tab-id="aws-sdk-for-python-(boto3)">
                        <p>Import <code class="code">Boto3</code>. Define your AWS region. Next, initialize a low-level SageMaker service 
                            client object using the <code class="code">Client</code> class. This will make it easy to send and receive 
                            requests to AWS services. In addition, define the AWS role that gives SageMaker permission to access AWS services 
                            on your behalf:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3

# Specify your AWS Region
aws_region=<code class="replaceable">'&lt;aws_region&gt;'</code>

# Create a low-level SageMaker service client.
sagemaker_client = boto3.client('sagemaker', region_name=aws_region)

# Role to give SageMaker permission to access AWS services.
sagemaker_role= "arn:aws:iam::<code class="replaceable">&lt;region&gt;:&lt;account&gt;:role/*</code>"</code></pre>
                        <p>The first few lines define:</p>
                        <div class="itemizedlist">
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem"><p><code class="code">sagemaker_client</code>: A low-level SageMaker client object that makes it easy to send and
                                receive requests to AWS services.</p></li><li class="listitem"><p><code class="code">sagemaker_role</code>: A string variable with the SageMaker IAM role Amazon Resource Name
                                (ARN).</p></li><li class="listitem"><p><code class="code">aws_region</code>: A string variable with the name of your AWS region.</p></li></ul></div>
                        
                        <p>Import the <code class="code">image_uris</code> module from the SageMaker Python SDK. Use the <code class="code">retrieve()</code> 
                            function to retrieve the Amazon ECR URI for the Docker image matching the given arguments. Provide both the 
                            name of the framework or algorithm (<code class="code">framework</code> field) along with the version of the 
                            framework or algorithm (<code class="code">version</code> field). For a list of built-in Docker images 
                            provided by AWS, see 
                            <a href="https://github.com/aws/deep-learning-containers/blob/master/available_images.md" rel="noopener noreferrer" target="_blank"><span>Available Deep Learning Containers Images</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. 
                            For more information on how to bring your own image, see 
                            <a href="your-algorithms-inference-main.html">Use your own inference code</a>.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">from sagemaker import image_uris

# Name of the framework or algorithm
framework=<code class="replaceable">'&lt;framework&gt;'</code>
#framework='xgboost' # Example

# Version of the framework or algorithm
version = <code class="replaceable">'&lt;version-number&gt;'</code>
#version = '0.90-1' # Example

# Specify an AWS container image. 
container = image_uris.retrieve(region=aws_region, 
                                framework=framework, 
                                version=version)</code></pre>
                        <p>Next, provide the Amazon S3 URI of the pre-trained model. This model will be used to create a
                            SageMaker Python SDK <code class="code">Model.model</code> object in the next step. In this example, the full 
                            Amazon S3 URI is stored in a string variable <code class="code">model_url</code>:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python "># Create a variable w/ the model S3 URI
# First, provide the name of your S3 bucket
s3_bucket = <code class="replaceable">'&lt;your-bucket-name&gt;'</code> 

# Specify what directory within your S3 bucket your model is stored in
bucket_prefix = <code class="replaceable">'&lt;directory-name&gt;'</code>

# Replace with the name of your model artifact
model_filename = <code class="replaceable">'&lt;model-name&gt;.tar.gz'</code>


# Relative S3 path
model_s3_key = f'<span>{</span>bucket_prefix}/'+model_filename

# Combine bucket name, model file name, and relate S3 path to create S3 model URI
model_url = f's3://<span>{</span>s3_bucket}/<span>{</span>model_s3_key}'                            
                        </code></pre>
                    </dd>

                <dt>SageMaker Python SDK</dt><dd tab-id="sagemaker-python-sdk">
                        <p>Define your AWS region. In addition, define the AWS 
                            role that gives SageMaker permission to access AWS services on your behalf:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python "># Specify your AWS Region
aws_region=<code class="replaceable">'&lt;aws_region&gt;'</code>

# Role to give SageMaker permission to access AWS services.
sagemaker_role= "arn:aws:iam::<code class="replaceable">&lt;region&gt;:&lt;account&gt;:role/*</code>"</code></pre>
                        <p>The first few lines define:</p>
                        <div class="itemizedlist">
                             
                             
                        <ul class="itemizedlist"><li class="listitem"><p><code class="code">sagemaker_role</code>: A string variable with the SageMaker IAM role Amazon Resource Name
                                (ARN).</p></li><li class="listitem"><p><code class="code">aws_region</code>: A string variable with the name of your AWS region.</p></li></ul></div>
                        <p>Import the <code class="code">image_uris</code> module from the SageMaker Python SDK. Use the <code class="code">retrieve()</code> function to retrieve 
                            the Amazon ECR URI for the Docker image matching the given arguments. Provide both the name of the framework or algorithm
                            (<code class="code">framework</code> field) along with the version of the framework or algorithm (<code class="code">version</code> field). 
                            For a list of built-in Docker images provided by AWS, see 
                            <a href="https://github.com/aws/deep-learning-containers/blob/master/available_images.md" rel="noopener noreferrer" target="_blank"><span>Available Deep Learning Containers Images</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. 
                            For more information on how to bring your own image, see 
                            <a href="your-algorithms-inference-main.html">Use your own inference code</a>.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">from sagemaker import image_uris

# Name of the framework or algorithm
framework=<code class="replaceable">'&lt;framework&gt;'</code>
#framework='xgboost' # Example

# Version of the framework or algorithm
version = <code class="replaceable">'&lt;version-number&gt;'</code>
#version = '0.90-1' # Example

# Specify an AWS container image. 
container = image_uris.retrieve(region=aws_region, 
                                framework=framework, 
                                version=version)</code></pre>
                        <p>Next, provide the Amazon S3 URI of the pre-trained model. This model will be used to create a
                            SageMaker Python SDK <code class="code">Model.model</code> object in the next step. In this example, the full 
                            Amazon S3 URI is stored in a string variable <code class="code">model_url</code>:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python "># Create a variable w/ the model S3 URI
# First, provide the name of your S3 bucket
s3_bucket = <code class="replaceable">'&lt;your-bucket-name&gt;'</code> 

# Specify what directory within your S3 bucket your model is stored in
bucket_prefix = <code class="replaceable">'&lt;directory-name&gt;'</code>

# Replace with the name of your model artifact
model_filename = <code class="replaceable">'&lt;model-name&gt;.tar.gz'</code>


# Relative S3 path
model_s3_key = f'<span>{</span>bucket_prefix}/'+model_filename

# Combine bucket name, model file name, and relate S3 path to create S3 model URI
model_url = f's3://<span>{</span>s3_bucket}/<span>{</span>model_s3_key}'                            
                        </code></pre>
                    </dd>

            </dl></awsdocs-tabs>
         
            <h2 id="realtime-endpoints-deployment-create-model">Create a Model</h2>
            <p>By creating a model, you tell SageMaker where it can find the model components.</p>
            

            
            <awsdocs-tabs><dl style="display: none">
                <dt>AWS SDK for Python (Boto3)</dt><dd tab-id="aws-sdk-for-python-(boto3)">
                        <p>Create a model in SageMaker with <code class="code">CreateModel</code>. Specify the following:</p>
                        <div class="itemizedlist">
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem"><p><code class="code">ModelName</code>: A name for your model (in this example it is stored as a string
                                variable called <code class="code">model_name</code>).</p></li><li class="listitem"><p><code class="code">ExecutionRoleArn</code>: The Amazon Resource Name (ARN) of the IAM role that Amazon SageMaker
                                can assume to access model artifacts and Docker images for deployment on ML
                                compute instances or for batch transform jobs.</p></li><li class="listitem"><p><code class="code">PrimaryContainer</code>: The location of the primary Docker image containing inference
                                code, associated artifacts, and custom environment maps that the inference
                                code uses when the model is deployed for predictions.</p></li></ul></div>
                        <p>For the primary container, specify the Docker image 
                            that contains inference code, artifacts (from prior training), and a custom environment 
                            map that the inference code uses when you deploy the model for predictions.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">model_name = <code class="replaceable">'&lt;The_name_of_the_model&gt;'</code>

#Create model
create_model_response = sagemaker_client.create_model(
    ModelName = model_name,
    ExecutionRoleArn = sagemaker_role,
    PrimaryContainer = <span>{</span>
        'Image': container,
        'ModelDataUrl': model_url,
    })</code></pre>
                        <p>See <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_CreateModel.html"><code class="code">CreateModel</code></a> description in 
                            the SageMaker API Reference Guide for a full list of API parameters.</p>
                    </dd>
                <dt>SageMaker Python SDK</dt><dd tab-id="sagemaker-python-sdk">
                        <p>Create a model object from the SageMaker Python SDK <code class="code">Model</code> Class. You will use this object to deploy your 
                        model to an endpoint in a later step.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">from sagemaker.model import Model

model = Model(image_uri=container, 
              model_data=model_url, 
              role=sagemaker_role)</code></pre>
                    </dd>
            </dl></awsdocs-tabs>
         
            <h2 id="realtime-endpoints-deployment-create-endpoint-config">Create an Endpoint Configuration</h2>
            <p>Create an endpoint configuration for an HTTPS endpoint. Specify the name of one or more models in production 
                (variants) and the ML compute instances that you want SageMaker to launch to host each production variant.</p>
            
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Skip this section if you are exclusively using the SageMaker Python SDK.</p></div></div>
            
            <p>When hosting models in production, you can configure the endpoint to
                elastically scale the deployed ML compute instances. For each production
                variant, you specify the number of ML compute instances that you want to
                deploy. When you specify two or more instances, SageMaker launches them in
                multiple Availability Zones. This ensures continuous availability. SageMaker
                manages deploying the instances. 
            </p>
            
            <awsdocs-tabs><dl style="display: none">
                <dt>AWS SDK for Python (Boto3)</dt><dd tab-id="aws-sdk-for-python-(boto3)">
                        <p>Create an endpoint configuration with 
                            <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_CreateEndpointConfig.html"><code class="code">CreateEndpointConfig</code></a>. 
                            Amazon SageMaker hosting services uses this configuration to deploy models. 
                            In the configuration, you identify one or more models, created using with 
                            <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_CreateModel.html"><code class="code">CreateModel</code></a>, to 
                            deploy the resources that you want Amazon SageMaker to provision.</p>
                        <p>The following  example shows how to create an endpoint configuration using AWS SDK for Python (Boto3):</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import datetime
from time import gmtime, strftime

# Create an endpoint config name. Here we create one based on the date  
# so it we can search endpoints based on creation time.
endpoint_config_name = <code class="replaceable">'&lt;endpoint-config-name&gt;'</code>

# The name of the model that you want to host. This is the name that you specified when creating the model.
model_name=<code class="replaceable">'&lt;The_name_of_your_model&gt;'</code>
                            
                            
instance_type = <code class="replaceable">'&lt;instance-type&gt;'</code>
# instance_type='ml.m5.xlarge' # Example                            

endpoint_config_response = sagemaker_client.create_endpoint_config(
    EndpointConfigName=endpoint_config_name, # You will specify this name in a CreateEndpoint request.
    # List of ProductionVariant objects, one for each model that you want to host at this endpoint.
    ProductionVariants=[
        <span>{</span>
            "VariantName": <code class="replaceable">"variant1"</code>, # The name of the production variant.
            "ModelName": model_name, 
            "InstanceType": instance_type, # Specify the compute instance type.
            "InitialInstanceCount": <code class="replaceable">1</code> # Number of instances to launch initially.
        }
    ]
)

print(f"Created EndpointConfig: <span>{</span>endpoint_config_response['EndpointConfigArn']}")</code></pre>
                        <p>In the aforementioned example, you specify the following keys for the <code class="code">ProductionVariants</code> field:</p>
                        <div class="itemizedlist">
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem"><p><code class="code">VariantName</code>: The name of the production variant.</p></li><li class="listitem"><p><code class="code">ModelName</code>: The name of the model that you want to host. 
                                This is the name that you specified when creating the model.</p></li><li class="listitem"><p><code class="code">InstanceType</code>: The compute instance type. See the <code class="code">InstanceType</code> field in 
                                <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_ProductionVariant.html">https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_ProductionVariant.html</a> and 
                                <a href="https://aws.amazon.com/sagemaker/pricing/" rel="noopener noreferrer" target="_blank"><span>SageMaker Pricing</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> for a list of supported compute instance types 
                                and pricing for each instance type.</p></li></ul></div>
                    </dd>
                <dt>SageMaker Python SDK</dt><dd tab-id="sagemaker-python-sdk">
                        <p>You do not need to define an endpoint configuration for real-time endpoints 
                            if you use the SageMaker Python SDK <code class="code">Model</code> Class.</p>
                    </dd>
            </dl></awsdocs-tabs>
         
            <h2 id="w2347aac25c33b7b9b7c29">Deploy your model</h2>
            <p>Deploy your model and create an HTTPS endpoint.</p>
            <awsdocs-tabs><dl style="display: none">
                <dt>AWS SDK for Python (Boto3)</dt><dd tab-id="aws-sdk-for-python-(boto3)">
                        <p>Provide the endpoint configuration to SageMaker. The service launches the ML compute
                            instances and deploys the model or models as specified in the configuration.</p>
                        <p>Once you have your model and endpoint configuration, use the 
                            <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_CreateEndpoint.html"><code class="code">CreateEndpoint</code></a> API to 
                            create your endpoint. The endpoint name must be unique within an AWS Region in your AWS account.
                        </p>
                        <p>The following creates an endpoint using the endpoint configuration specified in the request. 
                            Amazon SageMaker uses the endpoint to provision resources and deploy models.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python "># The name of the endpoint. The name must be unique within an AWS Region in your AWS account.
endpoint_name = <code class="replaceable">'&lt;endpoint-name&gt;'</code> 

# The name of the endpoint configuration associated with this endpoint.
endpoint_config_name=<code class="replaceable">'&lt;endpoint-config-name&gt;'</code>

create_endpoint_response = sagemaker_client.create_endpoint(
                                            EndpointName=endpoint_name, 
                                            EndpointConfigName=endpoint_config_name) 
</code></pre>
                        <p>For more information, see the <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_CreateEndpoint.html"><code class="code">CreateEndpoint</code></a> API.</p>
                    </dd>
                <dt>SageMaker Python SDK</dt><dd tab-id="sagemaker-python-sdk">
                        <p>Define a name for your endpoint. This step is optional. If you do not provide one, SageMaker will 
                            create a unique name for you:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">from datetime import datetime

endpoint_name = f"DEMO-<span>{</span>datetime.utcnow():%Y-%m-%d-%H%M}"
print("EndpointName =", endpoint_name)</code></pre>
                        <p>Deploy your model to a real-time, HTTPS endpoint with the Model objectâ€™s built-in <code class="code">deploy()</code> method. 
                            Provide the name of the Amazon EC2 instance type to deploy this model to in the <code class="code">instance_type</code> field along with 
                            the initial number of instances to run the endpoint on for the <code class="code">initial_instance_count</code> field:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">initial_instance_count=<code class="replaceable">&lt;integer&gt;</code>
# initial_instance_count=1 # Example

instance_type=<code class="code" copy="true">'&lt;instance-type&gt;'</code>
# instance_type='ml.m4.xlarge' # Example

model.deploy(
    initial_instance_count=initial_instance_count,
    instance_type=instance_type,
    endpoint_name=endpoint_name
)</code></pre>
                        
                    </dd>
            </dl></awsdocs-tabs>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./realtime-single-model.html">Host a single model</div><div id="next" class="next-link" accesskey="n" href="./realtime-endpoints-delete-resources.html">Delete Endpoints and Resources</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/realtime-endpoints-deployment.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/realtime-endpoints-deployment.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>