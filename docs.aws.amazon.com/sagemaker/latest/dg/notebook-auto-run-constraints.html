<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Constraints and considerations - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="notebook-auto-run-constraints" /><meta name="default_state" content="notebook-auto-run-constraints" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="notebook-auto-run-constraints.html" /><meta name="description" content="Learn about constraints and considerations on scheduling notebook jobs." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="notebook-auto-run-constraints.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="de" /><link rel="alternative" href="notebook-auto-run-constraints.html" hreflang="en-us" /><link rel="alternative" href="notebook-auto-run-constraints.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/notebook-auto-run-constraints.html" hreflang="zh-tw" /><link rel="alternative" href="notebook-auto-run-constraints.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Constraints and considerations" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Constraints and considerations - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#notebook-auto-run-constraints" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/notebook-auto-run-constraints.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/notebook-auto-run-constraints.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/notebook-auto-run-constraints.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Implement MLOps",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/mlops.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SageMaker Workflows",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/workflows.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "SageMaker Notebook Jobs",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/notebook-auto-run.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Constraints and considerations",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/notebook-auto-run.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#notebook-auto-run-constraints" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="notebook-auto-run-constraints">Constraints and considerations</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Review the following constraints to ensure your notebook jobs complete successfully.
      Studio uses Papermill to run notebooks. You might need to update Jupyter notebooks to
      align to Papermill's requirements. There are also restrictions on the content of LCC scripts and
      important details to understand regarding VPC configuration.</p><p><b>JupyterLab version support.</b> JupyterLab versions 3.0 and above
      are supported.</p><p><b>Using <code class="code">pip install</code> with packages that require kernel 
      restart.</b> Papermill does not support calling <code class="code">pip install</code> to install packages that 
      require a kernel restart. In this situation, use <code class="code">pip install</code> in an initialization script. 
      For a package installation that does not require kernel restart, you can still include 
      <code class="code">pip install</code> in the notebook. </p><p><b>Papermill assumes specific kernel and language names registered with
        Jupyter.</b> Papermill registers a translator for specific kernels and
      languages. If you bring your own instance (BYOI), use a standard kernel name as
      shown in the following snippet:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="py ">papermill_translators.register("python", PythonTranslator)
papermill_translators.register("R", RTranslator)
papermill_translators.register("scala", ScalaTranslator)
papermill_translators.register("julia", JuliaTranslator)
papermill_translators.register("matlab", MatlabTranslator)
papermill_translators.register(".net-csharp", CSharpTranslator)
papermill_translators.register(".net-fsharp", FSharpTranslator)
papermill_translators.register(".net-powershell", PowershellTranslator)
papermill_translators.register("pysparkkernel", PythonTranslator)
papermill_translators.register("sparkkernel", ScalaTranslator)
papermill_translators.register("sparkrkernel", RTranslator)
papermill_translators.register("bash", BashTranslator)</code></pre><p><b>Parameters and environment variable limits.</b> When you 
      create your notebook job, it receives the parameters and environment variables you specify. 
      You can pass up to 100 parameters. Each parameter name can be up to 256 characters long, 
      and the associated value can be up to 2500 characters long. If you pass environment variables, 
      you can pass up to 28 variables. The variable name and associated value can be up to 512 
      characters long. If you need more than 28 environment variables, use additional environment 
      variables in an initialization script which has no limit on the number of environment 
      variables you can use.</p><p><b>Image and kernel support.</b> The driver that launches your 
      notebook job assumes the following:</p><div class="itemizedlist">
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>A base Python runtime environment is installed in the Studio or bring-your-own
          (BYO) images and is the default in the shell.</p>
      </li><li class="listitem">
        <p>The base Python runtime environment includes the Jupyter client with kernelspecs
          properly configured.</p>
      </li><li class="listitem">
        <p>The base Python runtime environment includes the <code class="code">pip</code> function so the 
          notebook job can install system dependencies.</p>
      </li><li class="listitem">
        <p>For images with multiple environments, your initialization script should switch to the
          proper kernel-specific environment before installing notebook-specific packages. You
          should switch back to the default Python runtime environment, if different from the kernel
          runtime environment, after configuring the kernel Python runtime environment.</p>
      </li></ul></div><p>The driver that launches your notebook job is a bash script, and Bash v4 must be available at /bin/bash. </p><p><b>Root privileges on bring-your-own-images (BYOI).</b> You must
      have root privileges on your own Studio images, either as the root user or through <code class="code">sudo</code>
      access. If you are not a root user but accessing root privileges through <code class="code">sudo</code>, use <code class="userinput">1000/100</code>
      as the <code class="code">UID/GID</code>.</p><p><b>Only private VPC subnets used during job creation.</b> If you use a VPC, Studio
      uses your private subnets to create your job. Specify one to five private subnets
      (and 1â€“15 security groups).</p><p>If you use a VPC with private subnets, you must choose one of the following options to ensure the 
      notebook job can connect to dependent services or resources:</p><div class="itemizedlist">
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>If the job needs access to an AWS service that supports interface VPC endpoints,
          create an endpoint to connect to the service. For a list of services that support
          interface endpoints, see 
          <a href="https://docs.aws.amazon.com/vpc/latest/privatelink/aws-services-privatelink-support.html">AWS services that integrate with AWS PrivateLink</a>. For
          information about creating an interface VPC endpoint, see <a href="https://docs.aws.amazon.com/vpc/latest/privatelink/create-interface-endpoint.html">Access an AWS service using an interface VPC endpoint</a>. At minimum, an Amazon S3 VPC
          endpoint gateway must be provided.</p>
      </li><li class="listitem">
        <p>If a notebook job needs access to an AWS service that doesn't support interface VPC
          endpoints or to a resource outside of AWS, create a NAT gateway and configure your
          security groups to allow outbound connections. For information about setting up a NAT
          gateway for your VPC, see <em>VPC with public and private Subnets (NAT)</em> in the
          <a href="https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html">Amazon 
            Virtual Private Cloud User Guide</a>.</p>
      </li></ul></div><p><b>Service limits.</b> Since the notebook job scheduler is built
      from SageMaker Pipelines, SageMaker Training, and Amazon EventBridge services, your notebook
      jobs are subject to their service-specific quotas. If you exceed these
      quotas, you may see error messages related to these services. For example, there are
      limits for how many pipelines you can run at one time, and how many rules you can set up for a
      single event bus. For more information about SageMaker quotas, see <a href="https://docs.aws.amazon.com/general/latest/gr/sagemaker.html">Amazon SageMaker Endpoints and Quotas</a>. For more information about EventBridge quotas, see <a href="https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-quota.html">Amazon EventBridge Quotas</a>.</p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./notebook-auto-run-troubleshoot.html">Troubleshooting
        guide</div><div id="next" class="next-link" accesskey="n" href="./notebook-auto-run-pricing.html">Pricing for SageMaker Notebook Jobs</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/notebook-auto-run-constraints.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/notebook-auto-run-constraints.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>