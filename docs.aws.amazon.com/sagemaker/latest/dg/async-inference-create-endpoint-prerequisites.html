<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Prerequisites - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="async-inference-create-endpoint-prerequisites" /><meta name="default_state" content="async-inference-create-endpoint-prerequisites" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="async-inference-create-endpoint-prerequisites.html" /><meta name="description" content="To use asynchronous endpoints, first make sure you have met these prerequisites." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="async-inference-create-endpoint-prerequisites.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="de" /><link rel="alternative" href="async-inference-create-endpoint-prerequisites.html" hreflang="en-us" /><link rel="alternative" href="async-inference-create-endpoint-prerequisites.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" hreflang="zh-tw" /><link rel="alternative" href="async-inference-create-endpoint-prerequisites.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Prerequisites" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Prerequisites - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#async-inference-create-endpoint-prerequisites" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance,inference,deploy model,endpoint,prediction,ML application,serverless machine learning,multi model deployment,inference pipelines,ML model" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Deploy models for inference",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/deploy-model.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Asynchronous inference",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/async-inference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Create, invoke, and update an Asynchronous Endpoint",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/async-inference-create-invoke-update-delete.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Prerequisites",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/async-inference-create-invoke-update-delete.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#async-inference-create-endpoint-prerequisites" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="async-inference-create-endpoint-prerequisites">Prerequisites</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>To use asynchronous endpoints, first make sure you have met these
            prerequisites.</p><div class="procedure"><ol><li>
                <p><b>Create an IAM role for Amazon SageMaker.</b></p>
                <p>Asynchronous Inference needs access to your Amazon S3 bucket URI. To facilitate this, create an
                    IAM role that can run SageMaker and has permission to access Amazon S3 and Amazon SNS. Using
                    this role, SageMaker can run under your account and access your Amazon S3 bucket and Amazon SNS
                    topics.</p>
                <p>You can create an IAM role by using the IAM console, AWS SDK for Python (Boto3), 
                    or AWS CLI. The following is an example of how to create an IAM role
                    and attach the necessary policies with the IAM console.</p>
                <ol><li><p>Sign in to the AWS Management Console and open the IAM console at <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
                        <p>In the navigation pane of the IAM console, choose
                            <b>Roles</b>, and then choose <b>Create
                                role</b>.</p>
                    </li><li>
                        <p>For <b>Select type of trusted entity</b>, choose
                            <b>AWS service</b>.</p>
                    </li><li>
                        <p>Choose the service that you want to allow to assume this role. In this
                            case, choose <b>SageMaker</b>. Then choose <b>Next:
                                Permissions</b>.</p>
                        <div class="itemizedlist">
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>This automatically creates an IAM policy that grants access
                                    to related services such as Amazon S3, Amazon ECR, and CloudWatch Logs.</p>
                            </li></ul></div>
                    </li><li>
                        <p>Choose <b>Next: Tags</b>.</p>
                    </li><li>
                        <p>(Optional) Add metadata to the role by attaching tags as keyâ€“value
                            pairs. For more information about using tags in IAM, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_tags.html">Tagging IAM resources</a>.</p>
                    </li><li>
                        <p>Choose <b>Next: Review</b>.</p>
                    </li><li>
                        <p>Type in a <b>Role name</b>. </p>
                    </li><li>
                        <p>If possible, type a role name or role name suffix. Role names must be
                            unique within your AWS account. They are not distinguished by case. For
                            example, you cannot create roles named both <code class="code">PRODROLE</code> and
                            <code class="code">prodrole</code>. Because other AWS resources might reference
                            the role, you cannot edit the name of the role after it has been
                            created.</p>
                    </li><li>
                        <p>(Optional) For <b>Role description</b>, type a
                            description for the new role.</p>
                    </li><li>
                        <p>Review the role and then choose <b>Create
                            role</b>.</p>
                        <p>Note the SageMaker role ARN. To find the role ARN using the console, do the
                            following:</p>
                        <ol><li>
                                <p>Go to the IAM console: <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
                            </li><li>
                                <p>Select <b>Roles</b>.</p>
                            </li><li>
                                <p>Search for the role you just created by typing in the name of
                                    the role in the search field.</p>
                            </li><li>
                                <p>Select the role.</p>
                            </li><li>
                                <p>The role ARN is at the top of the <b>Summary</b>
                                    page.</p>
                            </li></ol>
                    </li></ol>
            </li><li>
                <p><b>Add Amazon SageMaker, Amazon S3 and Amazon SNS Permissions to your IAM Role.</b></p>
                <p>Once the role is created, grant SageMaker, Amazon S3, and optionally Amazon SNS permissions to your IAM role.</p>
                <p>Choose <b>Roles</b> in the IAM
                    console. Search for the role you created by typing in your role name in the
                        <b>Search</b> field.</p>
                <ol><li><p>Choose your role.</p></li><li><p>Next, choose <b>Attach Policies</b>.</p></li><li>
                        <p>Amazon SageMaker Asynchronous Inference needs permission to perform the following actions: 
                            <code class="code">"sagemaker:CreateModel"</code>, 
                            <code class="code">"sagemaker:CreateEndpointConfig"</code>,
                            <code class="code">"sagemaker:CreateEndpoint"</code>, and
                            <code class="code">"sagemaker:InvokeEndpointAsync"</code>.
                        </p>
                        <p>These actions are included in the <code class="code">AmazonSageMakerFullAccess</code> policy. 
                            Add this policy to your IAM role. Search for <code class="code">AmazonSageMakerFullAccess</code> 
                            in the <b>Search</b> field. Select <code class="code">AmazonSageMakerFullAccess</code>.</p>
                    </li><li><p>Choose <b>Attach policy</b>.</p></li><li><p>Next, choose <b>Attach Policies</b> to add Amazon S3 permissions.</p></li><li><p>Select <b>Create policy</b>.</p></li><li><p>Select the <code class="code">JSON</code> tab.</p></li><li><p>Add the following policy statement:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Action": [
                "s3:GetObject",
                "s3:PutObject",
                "s3:AbortMultipartUpload",
                "s3:ListBucket"  
            ],
            "Effect": "Allow",
            "Resource": "arn:aws:s3:::<code class="replaceable">bucket_name/*</code>"
        }
    ]
}</code></pre>
                    </li><li><p>Choose <b>Next: Tags</b>.</p></li><li><p>Type in a <b>Policy name</b>.</p></li><li><p>Choose <b>Create policy</b>.</p></li><li><p>Repeat the same steps you completed to add Amazon S3 permissions 
                        in order to add Amazon SNS permissions. For the policy statement,
                            attach the following:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Action": [
                "sns:Publish"
            ],
            "Effect": "Allow",
            "Resource": "arn:aws:sns:<code class="replaceable">&lt;region&gt;:&lt;Account_ID&gt;:&lt;SNS_Topic&gt;</code>"
        }
    ]
}</code></pre>
                    </li></ol>   
            </li><li>
                <p><b>Upload your inference data (e.g., machine learning
                        model, sample data) to <b>Amazon S3</b>.</b></p>
            </li><li>
                <p><b>Select a prebuilt Docker inference image or create your
                        own Inference Docker Image.</b></p>
                <p>SageMaker provides containers for its built-in algorithms and prebuilt Docker
                    images for some of the most common machine learning frameworks, such as Apache
                    MXNet, TensorFlow, PyTorch, and Chainer. For a full list of the available SageMaker
                    images, see <a href="https://github.com/aws/deep-learning-containers/blob/master/available_images.md" rel="noopener noreferrer" target="_blank"><span>Available Deep Learning Containers Images</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. If you choose to use a
                    SageMaker provided container, you can increase the endpoint timeout and payload sizes
                    from the default by setting the environment variables in the container. To learn
                    how to set the different environment variables for each framework, see the
                    Create a Model step of creating an asynchronous endpoint.</p>
                <p>If none of the existing SageMaker containers meet your needs and you don't have an existing 
                    container of your own, you may need to create a new Docker container. 
                    See <a href="your-algorithms-inference-main.html">Use your own inference code</a>
                    for information on how to create your Docker image.</p>
            </li><li>
                <p><b>Create an Amazon SNS topic (optional)</b></p>
                <p>Create an Amazon Simple Notification Service (Amazon SNS) topic that sends notifications about requests that have completed processing. 
                    Amazon SNS is a notification service for messaging-oriented applications, with multiple subscribers 
                    requesting and receiving "push" notifications of time-critical messages 
                    via a choice of transport protocols, including HTTP, Amazon SQS, and email.
                    You can specify Amazon SNS topics when you create an 
                    <code class="code">EndpointConfig</code> object when you specify <code class="code">AsyncInferenceConfig</code> using the <code class="code">EndpointConfig</code> API. 
                </p>
                <p>Follow the steps to create and subscribe to an Amazon SNS topic.</p>
                <ol><li>
                    <p>Using Amazon SNS console, create a topic. For instructions, see <a href="https://docs.aws.amazon.com/sns/latest/dg/CreateTopic.html">Creating an Amazon SNS topic</a> in the <em>Amazon Simple Notification Service</em>
                            <em>Developer Guide</em>.</p>
                    </li><li><p>Subscribe to the topic. For
                            instructions, see <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-create-subscribe-endpoint-to-topic.html">Subscribing to an Amazon SNS topic</a> in the <em>Amazon Simple Notification Service</em><em> Developer
                                Guide</em>.</p></li><li>
                        <p>When you receive email requesting that you confirm your subscription
                            to the topic, confirm the subscription.</p>
                    </li><li><p>Note the topic Amazon Resource Name (ARN). The Amazon SNS topic you created is another resource in
                            your AWS account, and it has a unique ARN. The ARN is in the following
                            format:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">arn:aws:sns:<code class="replaceable">aws-region:account-id:topic-name</code></code></pre>
                    </li></ol>
                <p>For more information about Amazon SNS, see the <a href="https://docs.aws.amazon.com/sns/latest/dg/welcome.html">Amazon SNS Developer Guide</a>.</p>
            </li></ol></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./async-inference-create-invoke-update-delete.html">Create, invoke, and update an
            Asynchronous Endpoint</div><div id="next" class="next-link" accesskey="n" href="./async-inference-create-endpoint.html">Create</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/async-inference-create-endpoint-prerequisites.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>