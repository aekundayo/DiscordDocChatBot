<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Pre-check the model container - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="clarify-online-explainability-precheck" /><meta name="default_state" content="clarify-online-explainability-precheck" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="clarify-online-explainability-precheck.html" /><meta name="description" content="Learn how to pre-check the model container inputs and outputs for compatibility before you configure an endpoint." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="clarify-online-explainability-precheck.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="de" /><link rel="alternative" href="clarify-online-explainability-precheck.html" hreflang="en-us" /><link rel="alternative" href="clarify-online-explainability-precheck.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/clarify-online-explainability-precheck.html" hreflang="zh-tw" /><link rel="alternative" href="clarify-online-explainability-precheck.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Pre-check the model container" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Pre-check the model container - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#clarify-online-explainability-precheck" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/clarify-online-explainability-precheck.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/clarify-online-explainability-precheck.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/clarify-online-explainability-precheck.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance,inference,deploy model,endpoint,prediction,ML application,serverless machine learning,multi model deployment,inference pipelines,ML model,pre-check,compatibility" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Deploy models for inference",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/deploy-model.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Real-time inference",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/realtime-endpoints.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Online Explainability with SageMaker Clarify",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/clarify-online-explainability.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Pre-check the model container",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/clarify-online-explainability.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#clarify-online-explainability-precheck" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="clarify-online-explainability-precheck.html#clarify-online-explainability-input">Model container input</a><a href="clarify-online-explainability-precheck.html#clarify-online-explainability-output">Model container
                    output</a><a href="clarify-online-explainability-precheck.html#clarify-online-explainability-container-validation">Model container
                    validation</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="clarify-online-explainability-precheck">Pre-check the model container</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>This section shows how to pre-check the model container inputs and outputs for
            compatibility before configuring an endpoint. The SageMaker Clarify explainer is <b>model agnostic</b>, but it has requirements for model container
            input and output.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>You can increase efficiency by configuring your container to support batch
                requests, which support two or more records in a single request. For example, a
                single record is a single line of CSV data, or a single line of JSON Lines data. SageMaker Clarify will attempt to send a mini-batch of records to
                the model container first before falling back to single record requests.</p></div></div>
            <h2 id="clarify-online-explainability-input">Model container input</h2>
            <awsdocs-tabs><dl style="display: none">
                <dt>CSV</dt><dd tab-id="csv">
                        <p>The model container supports input in CSV with MIME
                                type:<code class="code">text/csv</code>. The following table shows example inputs
                            that SageMaker Clarify supports.</p>
                        <div class="table-container"><div class="table-contents"><table id="w714aac25c33c17b7b7b3b1b3b3"><thead>
                                    <tr>
                                        <th>Model container input (string representation)</th>
                                        <th>Comments</th>
                                    </tr>
                                </thead>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>'1,2,3,4'</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>Single record that uses four numerical
                                                features.</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>'1,2,3,4\n5,6,7,8'</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>Two records, separated by line break '\n'.</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>'"This is a good product",5'</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>Single record that contains a text feature and a
                                                numerical feature.</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>‘"This is a good product",5\n"Bad shopping
                                                experience",1'</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>Two records.</p>
                                        </td>
                                    </tr>
                                </table></div></div>
                    </dd>
                <dt>JSON Lines</dt><dd tab-id="json-lines">
                        <p>SageMaker also supports input in <a href="cdf-inference.html#cm-jsonlines"> JSON
                                Lines dense format</a> with MIME
                                type:<code class="code">application/jsonlines</code>, as shown in the following
                            table.</p>
                        <div class="table-container"><div class="table-contents"><table id="w714aac25c33c17b7b7b3b3b3b3"><thead>
                                    <tr>
                                        <th>Model container input</th>
                                        <th>Comments</th>
                                    </tr>
                                </thead>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>'<span>{</span>"data":<span>{</span>"features":[1,2,3,4]}}'</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>Single record; a list of features can be extracted
                                                by JMESPath expression
                                                <code class="code">data.features</code>.</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>'<span>{</span>"data":<span>{</span>"features":[1,2,3,4]}}\n<span>{</span>"data":<span>{</span>"features":[5,6,7,8]}}'</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>Two records.</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>'<span>{</span>"features":["This is a good product",5]}'</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>Single record; a list of features can be extracted
                                                by JMESPath expression <code class="code">features</code>.</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>'<span>{</span>"features":["This is a good
                                                product",5]}\n<span>{</span>"features":["Bad shopping
                                                experience",1]}'</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>Two records.</p>
                                        </td>
                                    </tr>
                                </table></div></div>
                    </dd>
                
            </dl></awsdocs-tabs>
         
            <h2 id="clarify-online-explainability-output">Model container
                    output</h2>
            <p>Your model container output should also be in either CSV, or JSON Lines dense
                format. Additionally the model container should include the probabilities of the
                input records, which SageMaker Clarify uses to compute feature attributions.</p>
            <p>The following data examples are for model container outputs in <b>CSV format</b>.</p>
            <awsdocs-tabs><dl style="display: none">
                <dt>Probability only</dt><dd tab-id="probability-only">
                        <p>For regression and binary classification problems, the model container
                            outputs a single probability value (score) of the predicted label. These
                            probabilities can be extracted using column index 0. For multi-class
                            problems, the model container outputs a list of probabilities (scores).
                            For multi-class problems, if no index is provided, all values are
                            extracted.</p>
                        <div class="table-container"><div class="table-contents"><table id="w714aac25c33c17b7b9b7b1b3b3"><thead>
                                    <tr>
                                        <th>Model container input</th>
                                        <th>Model container output (string
                                            representation)</th>
                                    </tr>
                                </thead>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>Single record</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>'0.6'</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>Two records (results in one line)</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>'0.6,0.3'</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>Two records (results in two lines)</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>'0.6\n0.3'</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>Single record of a multi-class model (three
                                                classes)</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>'0.1,0.6,0.3'</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>Two records of a multi-class model (three
                                                classes)</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>'0.1,0.6,0.3\n0.2,0.5,0.3'</p>
                                        </td>
                                    </tr>
                                </table></div></div>
                    </dd>
                <dt>Predicted label and probabilities</dt><dd tab-id="predicted-label-and-probabilities">
                        <p>The model container outputs the predicted label followed by its
                            probability in <b>CSV</b> format. The
                            probabilities can be extracted using index <code class="code">1</code>.</p>
                        <div class="table-container"><div class="table-contents"><table id="w714aac25c33c17b7b9b7b3b3b3"><thead>
                                    <tr>
                                        <th>Model container input</th>
                                        <th>Model container output</th>
                                    </tr>
                                </thead>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>Single record</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>'1,0.6'</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>Two records</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>'1,0.6\n0,0.3'</p>
                                        </td>
                                    </tr>
                                </table></div></div>
                    </dd>
                <dt>Predicted labels header and probabilities</dt><dd tab-id="predicted-labels-header-and-probabilities">
                        <p>A multi-class model container trained by Autopilot can be configured to
                            output <b>the string representation</b> of the
                            list of predicted labels and probabilities in <b>CSV</b> format. In the following example, the probabilities
                            can be extracted by index <code class="code">1</code>. The label headers can be
                            extracted by index <code class="code">1</code>, and the label headers can be
                            extracted using index <code class="code">0</code>.</p>
                        <div class="table-container"><div class="table-contents"><table id="w714aac25c33c17b7b9b7b5b3b3"><thead>
                                    <tr>
                                        <th>Model container input</th>
                                        <th>Model container output</th>
                                    </tr>
                                </thead>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>Single record</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>'"[\'cat\',\'dog\',\'fish\']","[0.1,0.6,0.3]"'</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>Two records</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>'"[\'cat\',\'dog\',\'fish\']","[0.1,0.6,0.3]"\n"[\'cat\',\'dog\',\'fish\']","[0.2,0.5,0.3]"'</p>
                                        </td>
                                    </tr>
                                </table></div></div>
                    </dd>
            </dl></awsdocs-tabs>
            <p>The following data examples are for model container outputs in <b>JSON Lines</b> format.</p>
            <awsdocs-tabs><dl style="display: none">
                <dt>Probability only</dt><dd tab-id="probability-only">
                        <p>In this example, the model container outputs the probability that can
                            be extracted by <a href="https://jmespath.org/" rel="noopener noreferrer" target="_blank"><span><code class="code">JMESPath</code></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> expression <code class="code">score</code> in
                                <b>JSON Lines</b> format.</p>

                        <div class="table-container"><div class="table-contents"><table id="w714aac25c33c17b7b9c11b1b3b3"><thead>
                                    <tr>
                                        <th>Model container input</th>
                                        <th>Model container output</th>
                                    </tr>
                                </thead>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>Single record</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>'<span>{</span>"score":0.6}'</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>Two records</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>'<span>{</span>"score":0.6}\n<span>{</span>"score":0.3}'</p>
                                        </td>
                                    </tr>
                                </table></div></div>
                    </dd>
                <dt>Predicted label and probabilities</dt><dd tab-id="predicted-label-and-probabilities">
                        <p>In this example, a multi-class model container outputs a list of label
                            headers along with a list of probabilities in <b>JSON
                                Lines</b> format. The probabilities can be extracted by
                                <code class="code">JMESPath</code> expression <code class="code">probability</code>, and the
                            label headers can be extracted by <code class="code">JMESPath</code> expression
                                <code class="code">predicted labels</code>.</p>
                        <div class="table-container"><div class="table-contents"><table id="w714aac25c33c17b7b9c11b3b3b3"><thead>
                                    <tr>
                                        <th>Model container input</th>
                                        <th>Model container output</th>
                                    </tr>
                                </thead>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>Single record</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>'<span>{</span>"predicted_labels":["cat","dog","fish"],"probabilities":[0.1,0.6,0.3]}'</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>Two records</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>'<span>{</span>"predicted_labels":["cat","dog","fish"],"probabilities":[0.1,0.6,0.3]}\n<span>{</span>"predicted_labels":["cat","dog","fish"],"probabilities":[0.2,0.5,0.3]}'</p>
                                        </td>
                                    </tr>
                                </table></div></div>
                    </dd>
                <dt>Predicted labels header and probabilities</dt><dd tab-id="predicted-labels-header-and-probabilities">
                        <p>In this example, a multi-class model container outputs a list of label
                            headers and probabilities in <b>JSON Lines</b>
                            format. The probabilities can be extracted by <code class="code">JMESPath</code>
                            expression <code class="code">probability</code>, and the label headers can be
                            extracted by <code class="code">JMESPath</code> expression <code class="code">predicted
                                labels</code>.</p>
                        <div class="table-container"><div class="table-contents"><table id="w714aac25c33c17b7b9c11b5b3b3"><thead>
                                    <tr>
                                        <th>Model container input</th>
                                        <th>Model container output</th>
                                    </tr>
                                </thead>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>Single record</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>'<span>{</span>"predicted_labels":["cat","dog","fish"],"probabilities":[0.1,0.6,0.3]}'</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>Two records</p>
                                        </td>
                                        <td tabindex="-1">
                                            <p>'<span>{</span>"predicted_labels":["cat","dog","fish"],"probabilities":[0.1,0.6,0.3]}\n<span>{</span>"predicted_labels":["cat","dog","fish"],"probabilities":[0.2,0.5,0.3]}'</p>
                                        </td>
                                    </tr>
                                </table></div></div>
                    </dd>
            </dl></awsdocs-tabs>
            
            
                
                
            
         
            <h2 id="clarify-online-explainability-container-validation">Model container
                    validation</h2>
            <p>We recommend that you deploy your model to a SageMaker real-time inference endpoint,
                and send requests to the endpoint. Manually examine the requests (model container
                inputs) and responses (model container outputs) to make sure that both are compliant
                with the requirements in the <b>Model Container Input</b>
                section and <b>Model Container Output</b> section. If your
                model container supports batch requests, you can start with a single record request,
                and then try two or more records.</p>
            <p>The following commands show how to request a response using the AWS CLI. The AWS CLI
                is pre-installed in SageMaker Studio, and SageMaker Notebook instances. If you need to
                install the AWS CLI, follow this <a href="https://aws.amazon.com/cli/" rel="noopener noreferrer" target="_blank"><span>installation
                    guide</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">aws sagemaker-runtime invoke-endpoint \
  --endpoint-name $ENDPOINT_NAME \
  --content-type $CONTENT_TYPE \
  --accept $ACCEPT_TYPE \
  --body $REQUEST_DATA \
  $CLI_BINARY_FORMAT \
  /dev/stderr 1&gt;/dev/null</code></pre>
            <p>The parameters are defined, as follows:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">$ENDPOINT NAME</code>: The name of the endpoint.</p>
                </li><li class="listitem">
                    <p><code class="code">$CONTENT_TYPE</code>: The MIME type of the request (model container
                        input).</p>
                </li><li class="listitem">
                    <p><code class="code">$ACCEPT_TYPE</code>: The MIME type of the response (model container
                        output).</p>
                </li><li class="listitem">
                    <p><code class="code">$REQUEST_DATA</code>: The requested payload string.</p>
                </li><li class="listitem">
                    <p><code class="code">$CLI_BINARY_FORMAT</code>: The format of the command line interface
                        (CLI) parameter. For AWS CLI v1, this parameter should remain blank. For v2,
                        this parameter should be set to <code class="code">--cli-binary-format
                            raw-in-base64-out</code>.</p>
                </li></ul></div>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>AWS CLI v2 passes binary parameters as base64-encoded strings <a href="https://docs.aws.amazon.com/cli/latest/userguide/cliv2-migration.html#cliv2-migration-binaryparam">default</a>.</p></div></div>
            <p>The following examples use AWS CLI v1:</p>
            <awsdocs-tabs><dl style="display: none">
                <dt>Request and response in CSV format</dt><dd tab-id="request-and-response-in-csv-format">
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>The request consists of a single record and the response is
                                    its probability value.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws sagemaker-runtime invoke-endpoint \
  --endpoint-name test-endpoint-sagemaker-xgboost-model \
  --content-type text/csv \
  --accept text/csv \
  --body '1,2,3,4' \
  /dev/stderr 1&gt;/dev/null</code></pre>
                                <p>Output:</p>
                                <p><code class="code">0.6</code></p>
                            </li><li class="listitem">
                                <p>The request consists of two records, and the response includes
                                    their probabilities, and the model separates the probabilities
                                    by a comma. The <code class="code">$'content'</code> expression in the
                                        <code class="code">--body</code> tells the command to interpret
                                        <code class="code">\n</code> in the content as a line break.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws sagemaker-runtime invoke-endpoint \
  --endpoint-name test-endpoint-sagemaker-xgboost-model \
  --content-type text/csv \
  --accept text/csv \
  --body $'1,2,3,4\n5,6,7,8' \
  /dev/stderr 1&gt;/dev/null</code></pre>
                                <p>Output:</p>
                                <p><code class="code">0.6,0.3</code></p>
                            </li><li class="listitem">
                                <p>The request consists of two records, the response includes
                                    their probabilities, and the model separates the probabilities
                                    with a line break.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws sagemaker-runtime invoke-endpoint \
  --endpoint-name test-endpoint-csv-1 \
  --content-type text/csv \
  --accept text/csv \
  --body $'1,2,3,4\n5,6,7,8' \
  /dev/stderr 1&gt;/dev/null</code></pre>
                                <p>Output:</p>
                                <p><code class="code">0.6</code></p>
                                <p><code class="code">0.3</code></p>
                            </li><li class="listitem">
                                <p>The request consists of a single record, and the response is
                                    probability values (multi-class model, three classes).</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws sagemaker-runtime invoke-endpoint \
  --endpoint-name test-endpoint-csv-1 \
  --content-type text/csv \
  --accept text/csv \
  --body '1,2,3,4' \
  /dev/stderr 1&gt;/dev/null
</code></pre>
                                <p>Output:</p>
                                <p><code class="code">0.1,0.6,0.3</code></p>
                            </li><li class="listitem">
                                <p>The request consists of two records, and the response includes
                                    their probability values (multi-class model, three
                                    classes).</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws sagemaker-runtime invoke-endpoint \
  --endpoint-name test-endpoint-csv-1 \
  --content-type text/csv \
  --accept text/csv \
  --body $'1,2,3,4\n5,6,7,8' \
  /dev/stderr 1&gt;/dev/null

</code></pre>
                                <p>Output:</p>
                                <p><code class="code">0.1,0.6,0.3</code></p>
                                <p><code class="code">0.2,0.5,0.3</code></p>
                            </li><li class="listitem">
                                <p>The request consists of two records, and the response includes
                                    predicted label and probability.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws sagemaker-runtime invoke-endpoint \
  --endpoint-name test-endpoint-csv-2 \
  --content-type text/csv \
  --accept text/csv \
  --body $'1,2,3,4\n5,6,7,8' \
  /dev/stderr 1&gt;/dev/null</code></pre>
                                <p>Output:</p>
                                <p><code class="code">1,0.6</code></p>
                                <p><code class="code">0,0.3</code></p>
                            </li><li class="listitem">
                                <p>The request consists of two records and the response includes
                                    label headers and probabilities.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws sagemaker-runtime invoke-endpoint \
  --endpoint-name test-endpoint-csv-3 \
  --content-type text/csv \
  --accept text/csv \
  --body $'1,2,3,4\n5,6,7,8' \
  /dev/stderr 1&gt;/dev/null</code></pre>
                                <p>Output:</p>
                                <p><code class="code">"['cat','dog','fish']","[0.1,0.6,0.3]"</code></p>
                                <p><code class="code">"['cat','dog','fish']","[0.2,0.5,0.3]"</code></p>
                            </li></ul></div>
                    </dd>
                <dt>Request and response in JSON Lines format</dt><dd tab-id="request-and-response-in-json-lines-format">
                        <div class="itemizedlist">
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>The request consists of a single record and the response is
                                    its probability value.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws sagemaker-runtime invoke-endpoint \
  --endpoint-name test-endpoint-jsonlines \
  --content-type application/jsonlines \
  --accept application/jsonlines \
  --body '<span>{</span>"features":["This is a good product",5]}' \
  /dev/stderr 1&gt;/dev/null</code></pre>
                                <p>Output:</p>
                                <p><code class="code"><span>{</span>"score":0.6}</code></p>
                            </li><li class="listitem">
                                <p>The request contains two records, and the response includes
                                    predicted label and probability.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws sagemaker-runtime invoke-endpoint \
  --endpoint-name test-endpoint-jsonlines-2 \
  --content-type application/jsonlines \
  --accept application/jsonlines \
  --body $'<span>{</span>"features":[1,2,3,4]}\n<span>{</span>"features":[5,6,7,8]}' \
  /dev/stderr 1&gt;/dev/null</code></pre>
                                <p>Output:</p>
                                <p><code class="code"><span>{</span>"predicted_label":1,"probability":0.6}</code></p>
                                <p><code class="code"><span>{</span>"predicted_label":0,"probability":0.3}</code></p>
                            </li><li class="listitem">
                                <p>The request contains two records and the response includes
                                    label headers and probabilities.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws sagemaker-runtime invoke-endpoint \
  --endpoint-name test-endpoint-jsonlines-3 \
  --content-type application/jsonlines \
  --accept application/jsonlines \
  --body $'<span>{</span>"data":<span>{</span>"features":[1,2,3,4]}}\n<span>{</span>"data":<span>{</span>"features":[5,6,7,8]}}' \
  /dev/stderr 1&gt;/dev/null</code></pre>
                                <p>Output:</p>
                                <p><code class="code"><span>{</span>"predicted_labels":["cat","dog","fish"],"probabilities":[0.1,0.6,0.3]}</code></p>
                                <p><code class="code"><span>{</span>"predicted_labels":["cat","dog","fish"],"probabilities":[0.2,0.5,0.3]}</code></p>
                            </li></ul></div>
                    </dd>
                <dt>Request and response in different formats</dt><dd tab-id="request-and-response-in-different-formats">
                        <div class="itemizedlist">
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>The request is in CSV format and the response is in JSON Lines
                                    format:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws sagemaker-runtime invoke-endpoint \
  --endpoint-name test-endpoint-csv-in-jsonlines-out \
  --content-type text/csv \
  --accept application/jsonlines \
  --body $'1,2,3,4\n5,6,7,8' \
  /dev/stderr 1&gt;/dev/null</code></pre>
                                <p>Output:</p>
                                <p><code class="code"><span>{</span>"probability":0.6}</code></p>
                                <p><code class="code"><span>{</span>"probability":0.3}</code></p>
                            </li><li class="listitem">
                                <p>The request is in JSON Lines format and the response is in CSV
                                    format:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws sagemaker-runtime invoke-endpoint \
  --endpoint-name test-endpoint-jsonlines-in-csv-out \
  --content-type application/jsonlines \
  --accept text/csv \
  --body $'<span>{</span>"features":[1,2,3,4]}\n<span>{</span>"features":[5,6,7,8]}' \
  /dev/stderr 1&gt;/dev/null</code></pre>
                                <p>Output:</p>
                                <p><code class="code">0.6</code></p>
                                <p><code class="code">0.3</code></p>
                            </li></ul></div>
                    </dd>
            </dl></awsdocs-tabs>
            <p>After the validations are complete, <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/realtime-endpoints-delete-resources.html">delete</a> the testing endpoint.</p>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./clarify-online-explainability.html">Clarify online explainability</div><div id="next" class="next-link" accesskey="n" href="./clarify-online-explainability-create-endpoint.html">Configure and create an endpoint</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/clarify-online-explainability-precheck.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/clarify-online-explainability-precheck.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>