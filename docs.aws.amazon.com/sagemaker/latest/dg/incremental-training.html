<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Use Incremental Training in Amazon SageMaker - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="incremental-training" /><meta name="default_state" content="incremental-training" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="incremental-training.html" /><meta name="description" content="Use incremental training in Amazon SageMaker to train variants of a model, resume a stopped model, or retrain a mode to improve its ability to generate inferences." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="incremental-training.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/incremental-training.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/incremental-training.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/incremental-training.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/incremental-training.html" hreflang="de" /><link rel="alternative" href="incremental-training.html" hreflang="en-us" /><link rel="alternative" href="incremental-training.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/incremental-training.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/incremental-training.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/incremental-training.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/incremental-training.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/incremental-training.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/incremental-training.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/incremental-training.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/incremental-training.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/incremental-training.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/incremental-training.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/incremental-training.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/incremental-training.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/incremental-training.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/incremental-training.html" hreflang="zh-tw" /><link rel="alternative" href="incremental-training.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Use Incremental Training in Amazon SageMaker" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Use Incremental Training in Amazon SageMaker - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#incremental-training" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/incremental-training.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/incremental-training.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/incremental-training.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Train machine learning models",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/train-model.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Use Incremental Training in Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/train-model.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#incremental-training" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="incremental-training.html#incremental-training-console">Perform Incremental Training
                (Console)</a><a href="incremental-training.html#incremental-training-api">Perform Incremental Training (API)</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="incremental-training">Use Incremental Training in Amazon SageMaker</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Over time, you might find that a model generates inference that are not as good as they
        were in the past. With incremental training, you can use the artifacts from an existing
        model and use an expanded dataset to train a new model. Incremental training saves both time
        and resources.</p><p>Use incremental training to:</p><div class="itemizedlist">
         
         
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p>Train a new model using an expanded dataset that contains an underlying pattern
                that was not accounted for in the previous training and which resulted in poor model
                performance.</p>
        </li><li class="listitem">
            <p>Use the model artifacts or a portion of the model artifacts from a popular
                publicly available model in a training job. You don't need to train a new model from
                scratch.</p>
        </li><li class="listitem">
            <p>Resume a training job that was stopped.</p>
        </li><li class="listitem">
            <p>Train several variants of a model, either with different hyperparameter settings
                or using different datasets.</p>
        </li></ul></div><p>For more information about training jobs, see <a href="how-it-works-training.html">Train a Model with Amazon SageMaker</a>.</p><p>You can train incrementally using the SageMaker console or the <a href="https://sagemaker.readthedocs.io" rel="noopener noreferrer" target="_blank"><span>Amazon SageMaker Python SDK</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Only three built-in algorithms currently support incremental training: <a href="object-detection.html">Object Detection - MXNet</a>, <a href="image-classification.html">Image Classification - MXNet</a>, and <a href="semantic-segmentation.html">Semantic Segmentation Algorithm</a>.</p></div></div><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="incremental-training.html#incremental-training-console">Perform Incremental Training
                (Console)</a></li><li><a href="incremental-training.html#incremental-training-api">Perform Incremental Training (API)</a></li></ul></div>
        <h2 id="incremental-training-console">Perform Incremental Training
                (Console)</h2>
        
        <p>To complete this procedure, you need:</p>
        <div class="itemizedlist">
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>The Amazon Simple Storage Service (Amazon S3) bucket URI where you've stored the training
                    data.</p>
            </li><li class="listitem">
                <p>The S3 bucket URI where you want to store the output of the job.
                </p>
            </li><li class="listitem">
                <p>The Amazon Elastic Container Registry path where the training code is stored. For more information, see
                    <a href="https://docs.aws.amazon.com/sagemaker/latest/dg-ecr-paths/sagemaker-algo-docker-registry-paths">Docker
                      Registry Paths and Example Code</a>.</p>

            </li><li class="listitem">
                <p>The URL of the S3 bucket where you've stored the model artifacts that you want
                    to use in incremental training. To find the URL for the model artifacts, see the
                    details page of the training job used to create the model. To find the details
                    page, in the SageMaker console, choose <b>Inference</b>, choose
                        <b>Models</b>, and then choose the model.</p>
            </li></ul></div>
        <p>To restart a stopped training job, use the URL to the model artifacts that are stored
            in the details page as you would with a model or a completed training job.</p>
        <div class="procedure"><h6>To perform incremental training (console)</h6><ol><li><p>Open the Amazon SageMaker console at <a href="https://console.aws.amazon.com/sagemaker/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/sagemaker/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
                <p>In the navigation pane, choose <b>Training</b>, then choose
                        <b>Training jobs</b>. </p>
            </li><li>
                <p>Choose <b>Create training job</b>.</p>
            </li><li>
                <p>Provide a name for the training job. The name must be unique within an AWS
                    Region in an AWS account. The training job name must have 1 to 63 characters.
                    Valid characters: a-z, A-Z, 0-9, and . : + = @ _ % - (hyphen).</p>
            </li><li>
                <p>Choose the algorithm that you want to use. For information about algorithms,
                    see <a href="algos.html">Use Amazon SageMaker Built-in Algorithms or Pre-trained Models</a>. </p>
            </li><li>
                <p>(Optional) For <b>Resource configuration</b>, either leave the
                    default values or increase the resource consumption to reduce computation
                    time.</p>
                <ol><li>
                        <p>(Optional) For <b>Instance type</b>, choose the ML
                            compute instance type that you want to use. In most cases,
                                <b>ml.m4.xlarge</b> is sufficient. </p>
                    </li><li>
                        <p>For <b>Instance count</b>, use the default, 1.</p>
                    </li><li>
                        <p>(Optional) For <b>Additional volume per instance
                                (GB)</b>, choose the size of the ML storage volume that you
                            want to provision. In most cases, you can use the default, 1. If you are
                            using a large dataset, use a larger size.</p>
                    </li></ol>
            </li><li>
                
                <p>Provide information about the input data for the training
                    dataset.</p>
                <ol><li>
                        <p>For <b>Channel name</b>, either leave the default
                                (<code class="userinput">train</code>) or enter a more meaningful name for
                            the training dataset, such as
                                <code class="userinput">expanded-training-dataset</code>.</p>
                    </li><li>
                        <p>For
                                <b>InputMode</b>, choose
                            <b>File</b>. For incremental training,
                            you need to use file input mode.</p>
                    </li><li>
                        <p>For <b>S3 data distribution type</b>, choose
                                <b>FullyReplicated</b>. This causes each ML compute
                            instance to use a full replicate of
                            the
                            expanded dataset when training incrementally.</p>
                    </li><li>
                        <p>If the expanded dataset is uncompressed, set the <b>Compression
                                type</b> to <b>None</b>. If the expanded
                            dataset is compressed using Gzip, set it to
                            <b>Gzip</b>.</p>
                    </li><li>
                        <p>(Optional) If you are using File input mode, leave <b>Content
                                type</b> empty. For Pipe input mode, specify the appropriate
                            MIME type. <em>Content type</em> is the
                            multipurpose internet mail extension (MIME) type of the data.</p>
                    </li><li>
                        <p>For <b>Record wrapper</b>, if the dataset is saved in
                            RecordIO format, choose <b>RecordIO</b>.
                            If
                            your dataset is not saved as a RecordIO formatted file, choose
                                <b>None</b>.</p>
                    </li><li>
                        <p>For <b>S3 data type</b>, if the dataset is stored as a
                            single file, choose <b>S3Prefix</b>. If the dataset is
                            stored as several files in a folder, choose
                                <b>Manifest</b>.</p>
                    </li><li>
                        <p>For <b>S3 location</b>, provide the URL to the path
                            where you stored the expanded dataset.</p>
                    </li><li>
                        <p>Choose <b>Done</b>.</p>
                    </li></ol>
            </li><li>
                <p>To use model artifacts in a training job, you need to add a new channel and
                    provide the needed information about the model
                    artifacts.</p>
                <ol><li>
                        <p>For <b>Input data configuration</b>, choose
                                <b>Add channel</b>.</p>
                    </li><li>
                        <p>For <b>Channel name</b>, enter
                                <code class="userinput">model</code> to identify this channel as the source
                            of the model artifacts.</p>
                    </li><li>
                        <p>For <b>InputMode</b>, choose <b>File</b>.
                            Model artifacts are stored as files.</p>
                    </li><li>
                        <p>For <b>S3 data distribution type</b>, choose
                                <b>FullyReplicated</b>. This indicates that each ML
                            compute instance should use all of the model artifacts for training.
                        </p>
                    </li><li>
                        <p>For <b>Compression type</b>, choose
                                <b>None</b> because we are using a model for the
                            channel.</p>
                    </li><li>
                        <p>Leave <b>Content type</b> empty. Content type is the
                            multipurpose internet mail extension (MIME) type of the data. For model
                            artifacts, we leave it empty.</p>
                    </li><li>
                        <p>Set <b>Record wrapper</b> to <b>None</b>
                            because model artifacts are not stored in RecordIO format.</p>
                    </li><li>
                        <p>For <b>S3 data type</b>, if you are using a built-in
                            algorithm or an algorithm that stores the model as a single file, choose
                                <b>S3Prefix</b>. If you are using an algorithm that
                            stores the model as several files, choose
                            <b>Manifest</b>.</p>
                    </li><li>
                        <p>For <b>S3 location</b>, provide the URL to the path
                            where you stored the model artifacts. Typically, the model is stored
                            with the name <code>model.tar.gz</code>. To find the URL for the
                            model artifacts, in the navigation pane, choose
                                <b>Inference</b>, then choose
                                <b>Models</b>. From the list of models, choose a model
                            to display its details page. The URL for the model artifacts is listed
                            under <b>Primary container</b> .</p>
                    </li><li>
                        <p>Choose <b>Done</b>.</p>
                    </li></ol>
            </li><li>
                <p>For <b>Output data configuration</b>, provide the following
                    information:</p>
                <ol><li>
                        <p>For <b>S3 location</b>, type the path to the S3 bucket
                            where you want to store the output data.</p>
                    </li><li>
                        <p>(Optional) For <b>Encryption key</b>, you can add your
                            AWS Key Management Service (AWS KMS) encryption key to encrypt the output data at rest.
                            Provide the key ID or its Amazon Resource Number (ARN). For more
                            information, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingKMSEncryption.html">KMS-Managed Encryption Keys</a>.</p>
                    </li></ol>
            </li><li>
                <p>(Optional) For <b>Tags</b>, add one or more tags to the training
                    job. A <em>tag</em> is metadata that you can define and assign to
                    AWS resources. In this case, you can use tags to help you manage your training
                    jobs. A tag consists of a key and a value, which you define. For example, you
                    might want to create a tag with <code class="userinput">Project</code> as a key and a
                    value referring to a project that is related to the training job, such as
                        <code class="userinput">Home value forecasts</code>.</p>
            </li><li>
                <p>Choose <b>Create training job</b>. SageMaker creates and runs
                    training
                    job.</p>
            </li></ol></div>
        <p>After the training job has completed, the newly trained model artifacts are stored
            under the <b>S3 output path</b> that you provided in the <b>Output
                data configuration</b> field. To deploy the model to get predictions, see
                <a href="ex1-model-deployment.html">Step 5: Deploy the Model to Amazon EC2</a>.</p>
     
        <h2 id="incremental-training-api">Perform Incremental Training (API)</h2>
        
        <p>This example shows how to use SageMaker APIs to train a model using the SageMaker image
            classification algorithm and the <a href="https://data.caltech.edu/records/nyy15-4j048" rel="noopener noreferrer" target="_blank"><span>Caltech 256 Image
                Dataset</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, then train a new model using the first one. It uses Amazon S3 for input and 
                output sources.
                Please see the <a href="https://sagemaker-examples.readthedocs.io/en/latest/introduction_to_amazon_algorithms/imageclassification_caltech/Image-classification-incremental-training-highlevel.html" rel="noopener noreferrer" target="_blank"><span>incremental training sample notebook</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> for more details on using incremental
            training.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>In this example we used the original datasets in the incremental training, however
                you can use different datasets, such as ones that contain newly added samples.
                Upload the new datasets to S3 and make adjustments to the <code class="code">data_channels</code>
                variable used to train the new model.</p></div></div>
        
        <p>Get an AWS Identity and Access Management (IAM) role that grants required permissions and initialize
            environment variables:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">import sagemaker
from sagemaker import get_execution_role

role = get_execution_role()
print(role)

sess = sagemaker.Session()

bucket=sess.default_bucket()
print(bucket)
prefix = 'ic-incr-training'</code></pre>
        <p>Get the training image for the image classification algorithm:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">from sagemaker.amazon.amazon_estimator import get_image_uri

training_image = get_image_uri(sess.boto_region_name, 'image-classification', repo_version="latest")
#Display the training image
print (training_image)</code></pre>
        <p>Download the training and validation datasets, then upload them to Amazon Simple Storage Service
            (Amazon S3):</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">import os
import urllib.request
import boto3

# Define a download function
def download(url):
    filename = url.split("/")[-1]
    if not os.path.exists(filename):
        urllib.request.urlretrieve(url, filename)

# Download the caltech-256 training and validation datasets
download('http://data.mxnet.io/data/caltech-256/caltech-256-60-train.rec')
download('http://data.mxnet.io/data/caltech-256/caltech-256-60-val.rec')

# Create four channels: train, validation, train_lst, and validation_lst
s3train = 's3://<span>{</span>}/<span>{</span>}/train/'.format(bucket, prefix)
s3validation = 's3://<span>{</span>}/<span>{</span>}/validation/'.format(bucket, prefix)

# Upload the first files to the train and validation channels
!aws s3 cp caltech-256-60-train.rec $s3train --quiet
!aws s3 cp caltech-256-60-val.rec $s3validation --quiet</code></pre>
        <p>Define the training hyperparameters:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""># Define hyperparameters for the estimator
hyperparams = <span>{</span> "num_layers": "18",
                "resize": "32",
                "num_training_samples": "50000",
                "num_classes": "10",
                "image_shape": "3,28,28",
                "mini_batch_size": "128",
                "epochs": "3",
                "learning_rate": "0.1",
                "lr_scheduler_step": "2,3",
                "lr_scheduler_factor": "0.1",
                "augmentation_type": "crop_color",
                "optimizer": "sgd",
                "momentum": "0.9",
                "weight_decay": "0.0001",
                "beta_1": "0.9",
                "beta_2": "0.999",
                "gamma": "0.9",
                "eps": "1e-8",
                "top_k": "5",
                "checkpoint_frequency": "1",
                "use_pretrained_model": "0",
                "model_prefix": "" }</code></pre>
        <p>Create an estimator object and train the first model using the training and validation
            datasets:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""># Fit the base estimator
s3_output_location = 's3://<span>{</span>}/<span>{</span>}/output'.format(bucket, prefix)
ic = sagemaker.estimator.Estimator(training_image,
                                   role,
                                   instance_count=1,
                                   instance_type='ml.p2.xlarge',
                                   volume_size=50,
                                   max_run=360000,
                                   input_mode='File',
                                   output_path=s3_output_location,
                                   sagemaker_session=sess,
                                   hyperparameters=hyperparams)

train_data = sagemaker.inputs.TrainingInput(s3train, distribution='FullyReplicated',
                                        content_type='application/x-recordio', s3_data_type='S3Prefix')
validation_data = sagemaker.inputs.TrainingInput(s3validation, distribution='FullyReplicated',
                                             content_type='application/x-recordio', s3_data_type='S3Prefix')

data_channels = <span>{</span>'train': train_data, 'validation': validation_data}

ic.fit(inputs=data_channels, logs=True)</code></pre>
        <p>To use the model to incrementally train another model, create a new estimator object
            and use the model artifacts (<code class="code">ic.model_data</code>, in this example)
            for
            the <code class="code">model_uri</code> input argument:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""># Given the base estimator, create a new one for incremental training
incr_ic = sagemaker.estimator.Estimator(training_image,
                                        role,
                                        instance_count=1,
                                        instance_type='ml.p2.xlarge',
                                        volume_size=50,
                                        max_run=360000,
                                        input_mode='File',
                                        output_path=s3_output_location,
                                        sagemaker_session=sess,
                                        hyperparameters=hyperparams,
                                        model_uri=ic.model_data) # This parameter will ingest the previous job's model as a new channel
incr_ic.fit(inputs=data_channels, logs=True)</code></pre>
        <p>After the training job has completed, the newly trained model artifacts are stored
            under the <code class="code">S3 output path</code> that you provided in <code class="code">Output_path</code>. To
            deploy the model to get predictions, see <a href="ex1-model-deployment.html">Step 5: Deploy the Model to Amazon EC2</a>.</p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./train-heterogeneous-cluster.html">Train Using a Heterogeneous Cluster</div><div id="next" class="next-link" accesskey="n" href="./model-managed-spot-training.html">Use Managed Spot Training</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/incremental-training.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/incremental-training.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>