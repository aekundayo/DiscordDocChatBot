<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Fine-Tune a Model - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="jumpstart-fine-tune" /><meta name="default_state" content="jumpstart-fine-tune" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="jumpstart-fine-tune.html" /><meta name="description" content="Fine-tune a SageMaker JumpStart pre-trained model." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="jumpstart-fine-tune.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="de" /><link rel="alternative" href="jumpstart-fine-tune.html" hreflang="en-us" /><link rel="alternative" href="jumpstart-fine-tune.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/jumpstart-fine-tune.html" hreflang="zh-tw" /><link rel="alternative" href="jumpstart-fine-tune.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Fine-Tune a Model" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Fine-Tune a Model - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#jumpstart-fine-tune" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/jumpstart-fine-tune.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/jumpstart-fine-tune.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/jumpstart-fine-tune.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Use automated ML, no-code, or low-code",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/use-auto-ml.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SageMaker JumpStart",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/studio-jumpstart.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Task-Specific Models",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/jumpstart-models.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Fine-Tune a Model",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/jumpstart-models.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#jumpstart-fine-tune" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="jumpstart-fine-tune.html#jumpstart-fine-tune-data">Fine-Tuning data source</a><a href="jumpstart-fine-tune.html#jumpstart-fine-tune-deploy">Fine-Tuning deployment configuration</a><a href="jumpstart-fine-tune.html#jumpstart-hyperparameters">Hyperparameters</a><a href="jumpstart-fine-tune.html#jumpstart-training">Training output</a><a href="jumpstart-fine-tune.html#jumpstart-config-defaults-training">Configure default values for model
            training</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="jumpstart-fine-tune">Fine-Tune a Model</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Fine-tuning trains a pretrained model on a new dataset without training from scratch.
        This process, also known as transfer learning, can produce accurate models with smaller
        datasets and less training time. You can fine-tune a model if its card shows a <b>fine-tunable</b> attribute set to <b>Yes</b>. </p><p>
        <span class="inlinemediaobject">
           
            <img src="../../../images/sagemaker/latest/dg/images/jumpstart/jumpstart-finetune-model.png" class="aws-docs-img-whiteBg aws-docs-img-xs-padding" alt="&#xA;            JumpStart fine-tunable Image Classification - TensorFlow model&#xA;          " style="max-width:300px" />
           
           
        </span>
      </p>
        <h2 id="jumpstart-fine-tune-data">Fine-Tuning data source</h2>
        <p> When you fine-tune a model, you can use the default dataset or choose your own data,
          which is located in an Amazon S3 bucket. </p>
        <p>To browse the buckets available to you, choose <b>Find S3 bucket</b>.
          These buckets are limited by the permissions used to set up your Studio account. You
          can also specify an Amazon S3 URI by choosing <b>Enter Amazon S3 bucket location</b>. </p>
        <p>
          <span class="inlinemediaobject">
             
              <img src="../../../images/sagemaker/latest/dg/images/jumpstart/jumpstart-dataset.png" class="aws-docs-img-whiteBg aws-docs-img-xs-padding" alt="&#xA;              JumpStart data source settings with default dataset selected.&#xA;            " style="max-width:600px" />
             
             
          </span>
        </p>
        <div class="awsdocs-note awsdocs-tip"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Tip</h6></div><div class="awsdocs-note-text"><p> To find out how to format the data in your bucket, choose <b>Learn
            more</b>. The description section for the model has detailed information about
            inputs and outputs.  </p></div></div>
        <p> For text models: </p>
        <div class="itemizedlist">
           
           
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p> The bucket must have a data.csv file. </p>
          </li><li class="listitem">
            <p> The first column must be a unique integer for the class label. For example:
              <code class="code">1</code>, <code class="code">2</code>, <code class="code">3</code>, <code class="code">4</code>,
              <code class="code">n</code></p>
          </li><li class="listitem">
            <p> The second column must be a string. </p>
          </li><li class="listitem">
            <p> The second column should have the corresponding text that matches the type and
              language for the model.  </p>
          </li></ul></div>
        <p> For vision models: </p>
        <div class="itemizedlist">
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p> The bucket must have as many subdirectories as the number of classes. </p>
          </li><li class="listitem">
            <p> Each subdirectory should contain images that belong to that class in .jpg format.
            </p>
          </li></ul></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p> The Amazon S3 bucket must be in the same AWS Region where you're running SageMaker
            Studio because SageMaker doesn't allow cross-Region requests. </p></div></div>
       
        <h2 id="jumpstart-fine-tune-deploy">Fine-Tuning deployment configuration</h2>
        <p>The p3 family is recommended as the fastest for deep learning training, and this is
          recommended for fine-tuning a model. The following chart shows the number of GPUs in each
          instance type. There are other available options that you can choose from, including p2
          and g4 instance types. </p>
        <div class="table-container"><div class="table-contents"><table id="w714aac11c11c17c15b9b5">
              <tr>
                <td tabindex="-1"> Instance type </td>
                <td tabindex="-1"> GPUs </td>
              </tr>
              <tr>
                <td tabindex="-1"> p3.2xlarge </td>
                <td tabindex="-1"> 1 </td>
              </tr>
              <tr>
                <td tabindex="-1"> p3.8xlarge </td>
                <td tabindex="-1"> 4 </td>
              </tr>
              <tr>
                <td tabindex="-1"> p3.16xlarge </td>
                <td tabindex="-1"> 8 </td>
              </tr>
              <tr>
                <td tabindex="-1"> p3dn.24xlarge </td>
                <td tabindex="-1"> 8 </td>
              </tr>
            </table></div></div>
       
        <h2 id="jumpstart-hyperparameters">Hyperparameters</h2>
        <p>You can customize the hyperparameters of the training job that are used to fine-tune
          the model. The hyperparameters available for each fine-tunable model differ depending on
          the model. For information on each available hyperparameter, reference the hyperparameters
          documentation for the model of your choosing in <a href="algos.html">Use Amazon SageMaker Built-in Algorithms or Pre-trained Models</a>. For example, see <a href="IC-TF-Hyperparameter.html">Image Classification - TensorFlow
                Hyperparameters</a> for details on the fine-tunable Image
          Classification - TensorFlow hyperparameters.</p>
        <p>If you use the default dataset for text models without changing the hyperparameters,
          you get a nearly identical model as a result. For vision models, the default dataset is
          different from the dataset used to train the pretrained models, so your model is different
          as a result. </p>
        <p>The following hyperparameters are common among models: </p>
        <div class="itemizedlist">
           
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p><b>Epochs</b> – One epoch is one cycle through
              the entire dataset. Multiple intervals complete a batch, and multiple batches
              eventually complete an epoch. Multiple epochs are run until the accuracy of the model
              reaches an acceptable level, or when the error rate drops below an acceptable level.
            </p>
          </li><li class="listitem">
            <p><b>Learning rate</b> – The amount that values
              should be changed between epochs. As the model is refined, its internal weights are
              being nudged and error rates are checked to see if the model improves. A typical
              learning rate is 0.1 or 0.01, where 0.01 is a much smaller adjustment and could cause
              the training to take a long time to converge, whereas 0.1 is much larger and can cause
              the training to overshoot. It is one of the primary hyperparameters that you might
              adjust for training your model. Note that for text models, a much smaller learning
              rate (5e-5 for BERT) can result in a more accurate model. </p>
          </li><li class="listitem">
            <p><b>Batch size</b> – The number of records from
              the dataset that is to be selected for each interval to send to the GPUs for training. </p>
            <p>In an image example, you might send out 32 images per GPU, so 32 would be your
              batch size. If you choose an instance type with more than one GPU, the batch is
              divided by the number of GPUs. Suggested batch size varies depending on the data and
              the model that you are using. For example, how you optimize for image data differs
              from how you handle language data. </p>
            <p>In the instance type chart in the deployment configuration section, you can see
              the number of GPUs per instance type. Start with a standard recommended batch size
              (for example, 32 for a vision model). Then, multiply this by the number of GPUs in the
              instance type that you selected. For example, if you're using a
              <code class="code">p3.8xlarge</code>, this would be 32(batch size) multiplied by 4 (GPUs), for a
              total of 128, as your batch size adjusts for the number of GPUs. For a text model like
              BERT, try starting with a batch size of 64, and then reduce as needed. </p>
          </li></ul></div>
        <p>
          
        </p>
       
        <h2 id="jumpstart-training">Training output</h2>
        <p>When the fine-tuning process is complete, JumpStart provides information about the
          model: parent model, training job name, training job ARN, training time, and output path.
          The output path is where you can find your new model in an Amazon S3 bucket. The folder
          structure uses the model name that you provided and the model file is in an
          <code class="code">/output</code> subfolder and it's always named <code class="code">model.tar.gz</code>.  </p>
        <p> Example: <code class="code">s3://bucket/model-name/output/model.tar.gz</code>
        </p>
       
        <h2 id="jumpstart-config-defaults-training">Configure default values for model
            training</h2>
        <p>You can configure default values for parameters such as IAM roles, VPCs, and
          KMS keys to pre-populate for JumpStart model deployment and training. For more information, see, <a href="jumpstart-deploy.html#jumpstart-config-defaults">Configure default values for JumpStart models</a>.</p>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./jumpstart-deploy.html">Deploy a Model</div><div id="next" class="next-link" accesskey="n" href="./jumpstart-share-models.html">Share Models</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/jumpstart-fine-tune.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/jumpstart-fine-tune.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>