<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Image Semantic Segmentation - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="sms-semantic-segmentation" /><meta name="default_state" content="sms-semantic-segmentation" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="sms-semantic-segmentation.html" /><meta name="description" content="To identify the contents of an image at the pixel level, use an Amazon SageMaker Ground Truth semantic segmentation labeling task. When assigned a semantic segmentation labeling job, workers classify pixels in the image into a set of predefined labels or classes. Ground Truth supports single and multi-class semantic segmentation labeling jobs." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="sms-semantic-segmentation.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="de" /><link rel="alternative" href="sms-semantic-segmentation.html" hreflang="en-us" /><link rel="alternative" href="sms-semantic-segmentation.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/sms-semantic-segmentation.html" hreflang="zh-tw" /><link rel="alternative" href="sms-semantic-segmentation.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Image Semantic Segmentation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Image Semantic Segmentation - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#sms-semantic-segmentation" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/sms-semantic-segmentation.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/sms-semantic-segmentation.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/sms-semantic-segmentation.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Label data with a human-in-the-loop",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/data-label.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Use Amazon SageMaker Ground Truth to Label Data",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/sms.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Label Images",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/sms-label-images.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Image Semantic Segmentation",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/sms-label-images.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#sms-semantic-segmentation" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="sms-semantic-segmentation.html#sms-creating-ss-labeling-job-console">Creating a Semantic Segmentation Labeling Job (Console)</a><a href="sms-semantic-segmentation.html#sms-creating-ss-labeling-job-api">Create a Semantic Segmentation Labeling Job (API)</a><a href="sms-semantic-segmentation.html#sms-ss-ouput-data">Semantic Segmentation Output Data</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="sms-semantic-segmentation">Image Semantic Segmentation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>To identify the contents of an image at the pixel level, use an Amazon SageMaker Ground Truth semantic
        segmentation labeling task. When assigned a semantic segmentation labeling job, workers
        classify pixels in the image into a set of predefined labels or classes. Ground Truth supports
        single and multi-class semantic segmentation labeling jobs.</p><p>Images that contain large numbers of objects that need to be segmented require more time.
        To help workers (from a private or vendor workforce) label these objects in less time and
        with greater accuracy, Ground Truth provides an AI-assisted auto-segmentation tool. For
        information, see <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/sms-auto-segmentation.html">Auto-Segmentation Tool</a>.</p><p>You create a semantic segmentation labeling job using the Ground Truth section of the Amazon SageMaker
        console or the <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_CreateLabelingJob.html"><code class="code">CreateLabelingJob</code></a> operation. </p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>For this task type, if you create your own manifest file, use
                <code class="code">"source-ref"</code> to identify the location of each image file in Amazon S3 that
            you want labeled. For more information, see <a href="sms-data-input.html">Input Data</a>.</p></div></div>
        <h2 id="sms-creating-ss-labeling-job-console">Creating a Semantic Segmentation Labeling Job (Console)</h2>
        <p>You can follow the instructions <a href="sms-create-labeling-job-console.html">Create a Labeling Job (Console)</a> to learn how to create a semantic
            segmentation labeling job in the SageMaker console. In Step 10, choose <b>Image</b> from the <b>Task category</b> drop down
            menu, and choose <b>Semantic segmentation</b> as the task
            type. </p>
        <p>Ground Truth provides a worker UI similar to the following for labeling tasks. When you
            create the labeling job with the console, you specify instructions to help workers
            complete the job and labels that workers can choose from. </p>
        <div class="mediaobject">
             
                <img src="../../../images/sagemaker/latest/dg/images/semantic_segmentation_sample.gif" class="aws-docs-img-whiteBg aws-docs-img-padding" />
             
        </div>
     
        <h2 id="sms-creating-ss-labeling-job-api">Create a Semantic Segmentation Labeling Job (API)</h2>
        <p>To create a semantic segmentation labeling job, use the SageMaker API operation
                <code class="code">CreateLabelingJob</code>. This API defines this operation for all AWS SDKs.
            To see a list of language-specific SDKs supported for this operation, review the
                <b>See Also</b> section of <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_CreateLabelingJob.html"><code class="code">CreateLabelingJob</code></a>.</p>
        <p>Follow the instructions on <a href="sms-create-labeling-job-api.html">Create a Labeling Job (API)</a> and do the following while you
            configure your request: </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Pre-annotation Lambda functions for this task type end with
                        <code class="code">PRE-SemanticSegmentation</code>. To find the pre-annotation Lambda ARN
                    for your Region, see <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/API_HumanTaskConfig.html#SageMaker-Type-HumanTaskConfig-PreHumanTaskLambdaArn">PreHumanTaskLambdaArn</a> . </p>
            </li><li class="listitem">
                <p>Annotation-consolidation Lambda functions for this task type end with
                        <code class="code">ACS-SemanticSegmentation</code>. To find the annotation-consolidation
                    Lambda ARN for your Region, see <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/API_AnnotationConsolidationConfig.html#SageMaker-Type-AnnotationConsolidationConfig-AnnotationConsolidationLambdaArn">AnnotationConsolidationLambdaArn</a>. </p>
            </li></ul></div>
        <p>The following is an example of an <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sagemaker.html#SageMaker.Client.create_labeling_job" rel="noopener noreferrer" target="_blank"><span>AWS Python SDK (Boto3) request</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> to create a labeling job in the
            US East (N. Virginia) Region. All parameters in red should be replaced with your
            specifications and resources. </p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">response = client.create_labeling_job(
    LabelingJobName=<code class="replaceable">'example-semantic-segmentation-labeling-job</code>,
    LabelAttributeName=<code class="replaceable">'label'</code>,
    InputConfig=<span>{</span>
        'DataSource': <span>{</span>
            'S3DataSource': <span>{</span>
                'ManifestS3Uri': <code class="replaceable">'s3://bucket/path/manifest-with-input-data.json'</code>
            }
        },
        'DataAttributes': <span>{</span>
            'ContentClassifiers': [
                <code class="replaceable">'FreeOfPersonallyIdentifiableInformation'|'FreeOfAdultContent'</code>,
            ]
        }
    },
    OutputConfig=<span>{</span>
        'S3OutputPath': <code class="replaceable">'s3://bucket/path/file-to-store-output-data'</code>,
        'KmsKeyId': <code class="replaceable">'string'</code>
    },
    RoleArn=<code class="replaceable">'arn:aws:iam::*:role/*</code>,
    LabelCategoryConfigS3Uri=<code class="replaceable">'s3://bucket/path/label-categories.json'</code>,
    StoppingConditions=<span>{</span>
        'MaxHumanLabeledObjectCount': <code class="replaceable">123</code>,
        'MaxPercentageOfInputDatasetLabeled': <code class="replaceable">123</code>
    },
    HumanTaskConfig=<span>{</span>
        'WorkteamArn': <code class="replaceable">'arn:aws:sagemaker:region:*:workteam/private-crowd/*'</code>,
        'UiConfig': <span>{</span>
            'UiTemplateS3Uri': <code class="replaceable">'s3://bucket/path/worker-task-template.html'</code>
        },
        'PreHumanTaskLambdaArn': 'arn:aws:lambda:<code class="replaceable">us-east-1:432418664414</code>:function:PRE-SemanticSegmentation,
        'TaskKeywords': [
            <code class="replaceable">'Semantic Segmentation'</code>,
        ],
        'TaskTitle': <code class="replaceable">'Semantic segmentation task'</code>,
        'TaskDescription': <code class="replaceable">'For each category provided, segment out each relevant object using the color associated with that category'</code>,
        'NumberOfHumanWorkersPerDataObject': <code class="replaceable">123</code>,
        'TaskTimeLimitInSeconds': <code class="replaceable">123</code>,
        'TaskAvailabilityLifetimeInSeconds': <code class="replaceable">123</code>,
        'MaxConcurrentTaskCount': <code class="replaceable">123</code>,
        'AnnotationConsolidationConfig': <span>{</span>
            'AnnotationConsolidationLambdaArn': 'arn:aws:lambda:<code class="replaceable">us-east-1:432418664414</code>:function:ACS-SemanticSegmentation'
        },
    Tags=[
        <span>{</span>
            'Key': <code class="replaceable">'string'</code>,
            'Value': <code class="replaceable">'string'
</code>        },
    ]
)</code></pre>
         
            <h3 id="sms-create-labeling-job-ss-api-template">Provide a Template for Semantic Segmentation Labeling Jobs</h3>
            <p>If you create a labeling job using the API, you must supply a worker task template
                in <code class="code">UiTemplateS3Uri</code>. Copy and modify the following template. Only modify
                the <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/sms-creating-instruction-pages.html#sms-creating-quick-instructions"><code class="code">short-instructions</code></a>, <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/sms-creating-instruction-pages.html#sms-creating-full-instructions"><code class="code">full-instructions</code></a>, and <code class="code">header</code>. </p>
            <p>Upload this template to S3, and provide the S3 URI for this file in
                    <code class="code">UiTemplateS3Uri</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="html ">&lt;script src="https://assets.crowd.aws/crowd-html-elements.js"&gt;&lt;/script&gt;
&lt;crowd-form&gt;
  &lt;crowd-semantic-segmentation
    name="crowd-semantic-segmentation"
    src="<span>{</span><span>{</span> task.input.taskObject | grant_read_access }}"
    header="Please segment out all pedestrians."
    labels="<span>{</span><span>{</span> task.input.labels | to_json | escape }}"
  &gt;
    &lt;full-instructions header="Segmentation instructions"&gt;
      &lt;ol&gt;&lt;li&gt;&lt;strong&gt;Read&lt;/strong&gt; the task carefully and inspect the image.&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;Read&lt;/strong&gt; the options and review the examples provided to understand more about the labels.&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;Choose&lt;/strong&gt; the appropriate label that best suits an object and paint that object using the tools provided.&lt;/li&gt;&lt;/ol&gt;
    &lt;/full-instructions&gt;
    &lt;short-instructions&gt;
      &lt;h2&gt;&lt;span style="color: rgb(0, 138, 0);"&gt;Good example&lt;/span&gt;&lt;/h2&gt;
      &lt;p&gt;Enter description to explain a correctly done segmentation&lt;/p&gt;
      &lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2&gt;&lt;span style="color: rgb(230, 0, 0);"&gt;Bad example&lt;/span&gt;&lt;/h2&gt;
      &lt;p&gt;Enter description of an incorrectly done segmentation&lt;/p&gt;
    &lt;/short-instructions&gt;
  &lt;/crowd-semantic-segmentation&gt;
&lt;/crowd-form&gt;</code></pre>
            
         
     
        <h2 id="sms-ss-ouput-data">Semantic Segmentation Output Data</h2>
        <p>Once you have created a semantic segmentation labeling job, your output data will be
            located in the Amazon S3 bucket specified in the <code class="code">S3OutputPath</code> parameter when
            using the API or in the <b>Output dataset location</b> field of the
                <b>Job overview</b> section of the console. </p>
        <p>To learn more about the output manifest file generated by Ground Truth and the file structure
            the Ground Truth uses to store your output data, see <a href="sms-data-output.html">Output Data</a>. </p>
        <p>To see an example of an output manifest file for a semantic segmentation labeling job,
            see <a href="sms-data-output.html#sms-output-point-cloud-segmentation">3D Point Cloud Semantic Segmentation
                    Output</a>.</p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./sms-bounding-box.html">Bounding Box</div><div id="next" class="next-link" accesskey="n" href="./sms-auto-segmentation.html">Auto-Segmentation Tool</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/sms-semantic-segmentation.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/sms-semantic-segmentation.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>