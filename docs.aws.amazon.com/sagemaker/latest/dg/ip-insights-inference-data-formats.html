<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>IP Insights Inference Data Formats - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="ip-insights-inference-data-formats" /><meta name="default_state" content="ip-insights-inference-data-formats" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="ip-insights-inference-data-formats.html" /><meta name="description" content="The following are the available input and output formats for the IP Insights algorithm. Amazon SageMaker built-in algorithms adhere to the common input inference format described in . However, the SageMaker IP Insights algorithm does not currently support RecordIO format." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="ip-insights-inference-data-formats.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="de" /><link rel="alternative" href="ip-insights-inference-data-formats.html" hreflang="en-us" /><link rel="alternative" href="ip-insights-inference-data-formats.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/ip-insights-inference-data-formats.html" hreflang="zh-tw" /><link rel="alternative" href="ip-insights-inference-data-formats.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="IP Insights Inference Data Formats" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>IP Insights Inference Data Formats - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#ip-insights-inference-data-formats" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/ip-insights-inference-data-formats.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/ip-insights-inference-data-formats.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/ip-insights-inference-data-formats.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Train machine learning models",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/train-model.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Choose an Algorithm",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/algorithms-choose.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Use Amazon SageMaker Built-in Algorithms or Pre-trained Models",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/algos.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Unsupervised Built-in SageMaker Algorithms",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/algorithms-unsupervised.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "IP Insights",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/ip-insights.html"
      },
      {
        "@type" : "ListItem",
        "position" : 9,
        "name" : "IP Insights Data Formats",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/ip-insights-data-formats.html"
      },
      {
        "@type" : "ListItem",
        "position" : 10,
        "name" : "IP Insights Inference Data Formats",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/ip-insights-data-formats.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#ip-insights-inference-data-formats" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="ip-insights-inference-data-formats.html#ip-insights-input-format-requests">Input Request</a><a href="ip-insights-inference-data-formats.html#ip-insights-ouput-format-response">Output Response</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="ip-insights-inference-data-formats">IP Insights Inference Data
                    Formats</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The following are the available input and output formats for the IP Insights
                algorithm. Amazon SageMaker built-in algorithms adhere to the common input inference format
                described in <a href="cdf-inference.html">Common Data Formats for Inference</a>. However,
                the SageMaker IP Insights algorithm does not currently support RecordIO format.</p>
                <h2 id="ip-insights-input-format-requests">IP
                        Insights Input Request Formats</h2>
                 
                    <h3 id="ip-insights-input-csv">INPUT:
                            CSV Format</h3>
                    <p>The CSV file must have two columns. The first column is an opaque string
                        that corresponds to an entity's unique identifier. The second column is the
                        IPv4 address of the entity's access event in decimal-dot notation. </p>

                    <p>content-type:
                        text/csv</p>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">entity_id_1, 192.168.1.2
entity_id_2, 10.10.1.2</code></pre>
                 

                 
                    <h3 id="ip-insights-input-json">INPUT: JSON Format</h3>
                    <p>JSON data can be provided in different formats. IP Insights follows the
                        common SageMaker formats. For more information about inference formats, see <a href="cdf-inference.html">Common Data Formats for Inference</a>.</p>

                    <p>content-type: application/json</p>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "instances": [
    <span>{</span>"data": <span>{</span>"features": <span>{</span>"values": ["entity_id_1", "192.168.1.2"]}}},
    <span>{</span>"features": ["entity_id_2", "10.10.1.2"]}
  ]
}</code></pre>
                 

                 
                    <h3 id="ip-insights-input-jsonlines">INPUT: JSONLINES
                            Format</h3>
                    <p>The JSON Lines content type is useful for running batch transform jobs.
                        For more information on SageMaker inference formats, see <a href="cdf-inference.html">Common Data Formats for Inference</a>. For more
                        information on running batch transform jobs, see <a href="batch-transform.html">Use Batch Transform</a>.</p>

                    <p>content-type: application/jsonlines</p>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>"data": <span>{</span>"features": <span>{</span>"values": ["entity_id_1", "192.168.1.2"]}}},
<span>{</span>"features": ["entity_id_2", "10.10.1.2"]}]</code></pre>

                 

             
                <h2 id="ip-insights-ouput-format-response">IP Insights Output Response
                        Formats</h2>

                 
                    <h3 id="ip-insights-output-json">OUTPUT: JSON Response
                            Format</h3>
                    <p>The default output of the SageMaker IP Insights algorithm is the
                            <code class="code">dot_product</code> between the input entity and IP address. The
                        dot_product signifies how compatible the model considers the entity and IP
                        address. The <code class="code">dot_product</code> is unbounded. To make predictions
                        about whether an event is anomalous, you need to set a threshold based on
                        your defined distribution. For information about how to use the
                            <code class="code">dot_product</code> for anomaly detection, see the <a href="https://sagemaker-examples.readthedocs.io/en/latest/introduction_to_amazon_algorithms/ipinsights_login/ipinsights-tutorial.html" rel="noopener noreferrer" target="_blank"><span>An Introduction to the SageMakerIP Insights Algorithm</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>

                    <p>accept: application/json</p>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "predictions": [
    <span>{</span>"dot_product": 0.0},
    <span>{</span>"dot_product": 2.0}
  ]
}</code></pre>

                    <p>Advanced users can access the model's learned entity and IP embeddings by
                        providing the additional content-type parameter <code class="code">verbose=True</code> to
                        the Accept heading. You can use the <code class="code">entity_embedding</code> and
                            <code class="code">ip_embedding</code> for debugging, visualizing, and understanding
                        the model. Additionally, you can use these embeddings in other machine
                        learning techniques, such as classification or clustering.</p>
                    <p>accept: application/json;verbose=True</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "predictions": [
    <span>{</span>
        "dot_product": 0.0,
        "entity_embedding": [1.0, 0.0, 0.0],
        "ip_embedding": [0.0, 1.0, 0.0]
    },
    <span>{</span>
        "dot_product": 2.0,
        "entity_embedding": [1.0, 0.0, 1.0],
        "ip_embedding": [1.0, 0.0, 1.0]
    }
  ]
}</code></pre>
                 

                 
                    <h3 id="ip-insights-jsonlines">OUTPUT: JSONLINES Response
                            Format</h3>

                    <p>accept: application/jsonlines </p>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>"dot_product": 0.0}
<span>{</span>"dot_product": 2.0}</code></pre>

                    <p>accept: application/jsonlines; verbose=True </p>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>"dot_product": 0.0, "entity_embedding": [1.0, 0.0, 0.0], "ip_embedding": [0.0, 1.0, 0.0]}
<span>{</span>"dot_product": 2.0, "entity_embedding": [1.0, 0.0, 1.0], "ip_embedding": [1.0, 0.0, 1.0]}</code></pre>

                 
            <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./ip-insights-training-data-formats.html">Training</div><div id="next" class="next-link" accesskey="n" href="./k-means.html">K-Means Algorithm</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/ip-insights-inference-data-formats.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/ip-insights-inference-data-formats.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>