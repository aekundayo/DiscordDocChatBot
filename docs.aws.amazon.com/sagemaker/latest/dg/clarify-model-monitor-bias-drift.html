<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Monitor Bias Drift for Models in Production - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="clarify-model-monitor-bias-drift" /><meta name="default_state" content="clarify-model-monitor-bias-drift" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="clarify-model-monitor-bias-drift.html" /><meta name="description" content="Monitor bias drift for models in production,using Amazon SageMaker Clarify." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="clarify-model-monitor-bias-drift.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="de" /><link rel="alternative" href="clarify-model-monitor-bias-drift.html" hreflang="en-us" /><link rel="alternative" href="clarify-model-monitor-bias-drift.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" hreflang="zh-tw" /><link rel="alternative" href="clarify-model-monitor-bias-drift.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Monitor Bias Drift for Models in Production" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Monitor Bias Drift for Models in Production - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#clarify-model-monitor-bias-drift" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Monitor data and model quality",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/model-monitor.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Monitor Bias Drift for Models in Production",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/model-monitor.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#clarify-model-monitor-bias-drift" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="clarify-model-monitor-bias-drift.html#clarify-model-monitor-sample-notebooks-bias-drift">Model Monitor Sample
                Notebook</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="clarify-model-monitor-bias-drift">Monitor Bias Drift for Models in
            Production</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Amazon SageMaker Clarify bias monitoring helps data scientists and ML engineers monitor predictions for
        bias on a regular basis. As the model is monitored, customers can view exportable reports
        and graphs detailing bias in SageMaker Studio and configure alerts in Amazon CloudWatch to receive
        notifications if bias beyond a certain threshold is detected. Bias can be introduced or
        exacerbated in deployed ML models when the training data differs from the data that the
        model sees during deployment (that is, the live data). These kinds of changes in the live
        data distribution might be temporary (for example, due to some short-lived, real-world
        events) or permanent. In either case, it might be important to detect these changes. For
        example, the outputs of a model for predicting home prices can become biased if the mortgage
        rates used to train the model differ from current, real-world mortgage rates. With bias
        detection capabilities in Model Monitor, when SageMaker detects bias beyond a certain threshold, it
        automatically generates metrics that you can view in SageMaker Studio and through Amazon CloudWatch
        alerts. </p><p>In general, measuring bias only during the train-and-deploy phase might not be sufficient.
        It is possible that after the model has been deployed, the distribution of the data that the
        deployed model sees (that is, the live data) is different from data distribution in the
        training dataset. This change might introduce bias in a model over time. The change in the
        live data distribution might be temporary (for example, due to some short-lived behavior
        like the holiday season) or permanent. In either case, it might be important to detect these
        changes and take steps to reduce the bias when appropriate.</p><p>To detect these changes, SageMaker Clarify provides functionality to monitor the bias metrics of a
        deployed model continuously and raise automated alerts if the metrics exceed a threshold.
        For example, consider the DPPL bias metric. Specify an allowed range of values
            A=(a<sub>min​</sub>,a<sub>max​</sub>), for instance an interval
        of (-0.1, 0.1), that DPPL should belong to during deployment. Any deviation from this range
        should raise a <em>bias detected</em> alert. With SageMaker Clarify, you can perform these
        checks at regular intervals.</p><p>For example, you can set the frequency of the checks to 2 days. This means that SageMaker Clarify
        computes the DPPL metric on data collected during a 2-day window. In this example,
            D<sub>win</sub>​ is the data that the model processed during last 2-day
        window. An alert is issued if the DPPL value b<sub>win​</sub> computed on
            D<sub>win​</sub> falls outside of an allowed range A. This approach to
        checking if b<sub>win</sub>​ is outside of A can be somewhat noisy.
            D<sub>win​</sub> might consist of very few samples and might not be
        representative of the live data distribution. The small sample size means that the value of
        bias b<sub>win​</sub> computed over D<sub>win​</sub> might not be a
        very robust estimate. In fact, very high (or low) values of b<sub>win</sub>​ may
        be observed purely due to chance. To ensure that the conclusions drawn from the observed
        data D<sub>win</sub>​ are statistically significant, SageMaker Clarify makes use of
        confidence intervals. Specifically, it uses the Normal Bootstrap Interval method to
        construct an interval C=(c<sub>min</sub>​,c<sub>max</sub>​) such
        that SageMaker Clarify is confident that the true bias value computed over the full live data is
        contained in C with high probability. Now, if the confidence interval C overlaps with the
        allowed range A, SageMaker Clarify interprets it as “it is likely that the bias metric value of the live
        data distribution falls within the allowed range”. If C and A are disjoint, SageMaker Clarify is
        confident that the bias metric does not lie in A and raises an alert.</p>
        <h2 id="clarify-model-monitor-sample-notebooks-bias-drift">Model Monitor Sample
                Notebook</h2>

        <p>Amazon SageMaker Clarify provides the following sample notebook that shows how to capture inference
            data for a real-time endpoint, create a baseline to monitor evolving bias against, and
            inspect the results: </p>
        <div class="itemizedlist">
             
        <ul class="itemizedlist"><li class="listitem">
                <p><a href="https://sagemaker-examples.readthedocs.io/en/latest/sagemaker_model_monitor/fairness_and_explainability/SageMaker-Model-Monitor-Fairness-and-Explainability.html" rel="noopener noreferrer" target="_blank"><span>Monitoring bias drift and feature attribution drift Amazon SageMaker Clarify</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                    – Use Amazon SageMaker Model Monitor to monitor bias drift and feature attribution drift over
                    time.</p>
            </li></ul></div>

        <p>This notebook has been verified to run in Amazon SageMaker Studio only. If you need
            instructions on how to open a notebook in Amazon SageMaker Studio, see <a href="notebooks-create-open.html">Create or Open an Amazon SageMaker Studio Notebook</a>. If you're
            prompted to choose a kernel, choose <b>Python 3 (Data Science)</b>. The
            following topics contain the highlights from the last two steps, and they contain code
            examples from the example notebook. </p>

    <div class="highlights"><h6>Topics</h6><ul><li><a href="clarify-model-monitor-bias-drift-baseline.html">Create a Bias Drift
                Baseline</a></li><li><a href="clarify-model-monitor-bias-drift-violations.html">Bias Drift
                Violations</a></li><li><a href="clarify-config-json-monitor-bias-parameters.html">Configure Parameters to
                Monitor Bias Drift</a></li><li><a href="clarify-model-monitor-bias-drift-schedule.html">Schedule Bias Drift
                Monitoring Jobs</a></li><li><a href="clarify-model-monitor-bias-drift-report.html">Inspect Reports for Data Bias
                Drift</a></li><li><a href="clarify-model-monitor-bias-drift-cw.html">CloudWatch Metrics for Bias Drift
                Analysis</a></li></ul></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./model-monitor-model-quality-cw.html">Model Quality CloudWatch Metrics</div><div id="next" class="next-link" accesskey="n" href="./clarify-model-monitor-bias-drift-baseline.html">Create a Bias Drift
                Baseline</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/clarify-model-monitor-bias-drift.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>