<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Choose an Amazon VPC - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="onboard-vpc" /><meta name="default_state" content="onboard-vpc" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="onboard-vpc.html" /><meta name="description" content="This topic provides detailed information about choosing an Amazon Virtual Private Cloud (Amazon VPC) when you onboard to Amazon SageMaker Domain. For more information about onboarding to SageMaker Domain, see ." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="onboard-vpc.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/onboard-vpc.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/onboard-vpc.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/onboard-vpc.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/onboard-vpc.html" hreflang="de" /><link rel="alternative" href="onboard-vpc.html" hreflang="en-us" /><link rel="alternative" href="onboard-vpc.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/onboard-vpc.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/onboard-vpc.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/onboard-vpc.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/onboard-vpc.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/onboard-vpc.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/onboard-vpc.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/onboard-vpc.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/onboard-vpc.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/onboard-vpc.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/onboard-vpc.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/onboard-vpc.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/onboard-vpc.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/onboard-vpc.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/onboard-vpc.html" hreflang="zh-tw" /><link rel="alternative" href="onboard-vpc.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Choose an Amazon VPC" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Choose an Amazon VPC - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#onboard-vpc" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/onboard-vpc.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/onboard-vpc.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/onboard-vpc.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Get started",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/gs.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Onboard to Amazon SageMaker Domain",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/gs-studio-onboard.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Choose an Amazon VPC",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/gs-studio-onboard.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#onboard-vpc" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="onboard-vpc">Choose an Amazon VPC</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>This topic provides detailed information about choosing an Amazon Virtual Private Cloud (Amazon VPC) when you onboard
      to Amazon SageMaker Domain. For more information about onboarding to SageMaker Domain, see <a href="gs-studio-onboard.html">Onboard to Amazon SageMaker Domain</a>.</p><p>By default, SageMaker Domain uses two Amazon VPC. One Amazon VPC is managed by Amazon SageMaker and provides
      direct internet access. You specify the other Amazon VPC, which provides encrypted traffic between
      the Domain and your Amazon Elastic File System (Amazon EFS) volume.</p><p>You can change this behavior so that SageMaker sends all traffic over your specified Amazon VPC. When
      you choose this option, you must provide the subnets, security groups, and interface endpoints
      that are necessary to communicate with the SageMaker API and SageMaker runtime, and various AWS
      services, such as Amazon Simple Storage Service (Amazon S3) and Amazon CloudWatch, that are used by Amazon SageMaker Studio and your
      Studio notebooks.</p><p>When you onboard to SageMaker Domain, you tell SageMaker to send all traffic over your Amazon VPC by
      setting the network access type to <b>VPC only</b>.</p><div class="procedure"><h6>To specify the Amazon VPC information</h6><p>When you specify the Amazon VPC entities (that is, the Amazon VPC, subnet, or security group) in the following
        procedure, one of three options is presented based on the number of entities you have in
        the current AWS Region. The behavior is as follows:</p><div class="itemizedlist">
         
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p>One entity – SageMaker uses that entity. This can't be changed.</p>
        </li><li class="listitem">
          <p>Multiple entities – You must choose the entities from the
            dropdown list.</p>
        </li><li class="listitem">
          <p>No entities – You must create one or more entities in order to use
            Domain. Choose <b>Create &lt;entity&gt;</b> to open the VPC console in a
            new browser tab. After you create the entities, return to the Domain <b>Get
              started</b> page to continue the onboarding process.</p>
        </li></ul></div><p>This procedure is part of the Amazon SageMaker Domain onboarding process when you choose
        <b>Standard setup</b>. Your Amazon VPC information is specified under the
          <b>Network</b> section.</p><ol><li>
        <p>Choose the Amazon VPC.</p>
      </li><li>
        <p>Choose one or more subnets. If you don't choose any subnets, SageMaker uses all the subnets
          in the Amazon VPC. We recommend that you use multiple subnets that are not created in constrained
          Availability Zones. Using subnets in these constrained Availability Zones can result in
          insufficient capacity errors and longer application creation times. For more information
          about constrained Availability Zones, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#concepts-availability-zones">Availability Zones</a>.</p>
      </li><li>
        <p>Select the network access type. </p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If <b>VPC only</b> is selected, SageMaker automatically applies the
            security group settings defined for the Domain to all shared spaces created in the
            Domain. If <b>Public internet only</b> is selected, SageMaker does not
            apply the security group settings to shared spaces created in the Domain.</p></div></div>
        <div class="itemizedlist">
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p><b>Public internet only</b> – Non-Amazon EFS traffic goes through a
              SageMaker managed Amazon VPC, which allows internet access. Traffic between the Domain and
              your Amazon EFS volume is through the specified Amazon VPC.</p>
          </li><li class="listitem">
            <p><b>VPC only</b> – All SageMaker traffic is through the specified
              Amazon VPC and subnets. You must use a subnet that does not have direct internet access in
                <b>VPC only</b> mode. Internet access is disabled by default.</p>
          </li></ul></div>
      </li><li>
        <p>Choose the security groups. If you chose <b>Public internet only</b>,
          this step is optional. If you chose <b>VPC only</b>, this step is required.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>For the maximum number of allowed security groups, see
            <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_UserSettings.html">UserSettings</a>.</p></div></div>
      </li></ol></div><p>For Amazon VPC requirements in <b>VPC only</b> mode, see
      <a href="studio-notebooks-and-internet-access.html">Connect SageMaker Studio Notebooks
                in a VPC to External Resources</a>.</p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./onboard-iam.html">Onboard using IAM</div><div id="next" class="next-link" accesskey="n" href="./regions-quotas.html">Supported Regions and Quotas</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/onboard-vpc.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/onboard-vpc.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>