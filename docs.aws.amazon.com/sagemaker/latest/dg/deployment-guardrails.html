<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Update models in production - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="deployment-guardrails" /><meta name="default_state" content="deployment-guardrails" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="deployment-guardrails.html" /><meta name="description" content="If you want to update a model that you've deployed to production, you can use deployment guardrails. Deployment guardrails provide a fully-managed experience for setting up and orchestrating endpoint deployments in Amazon SageMaker. They integrate with endpoint update workflows, providing you with increased control while updating your endpoint. Through built-in guardrails such as auto-rollbacks, deployment guardrails help you catch issues early and take corrective action." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="deployment-guardrails.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/deployment-guardrails.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/deployment-guardrails.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/deployment-guardrails.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/deployment-guardrails.html" hreflang="de" /><link rel="alternative" href="deployment-guardrails.html" hreflang="en-us" /><link rel="alternative" href="deployment-guardrails.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/deployment-guardrails.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/deployment-guardrails.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/deployment-guardrails.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/deployment-guardrails.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/deployment-guardrails.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/deployment-guardrails.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/deployment-guardrails.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/deployment-guardrails.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/deployment-guardrails.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/deployment-guardrails.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/deployment-guardrails.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/deployment-guardrails.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/deployment-guardrails.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/deployment-guardrails.html" hreflang="zh-tw" /><link rel="alternative" href="deployment-guardrails.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Update models in production" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Update models in production - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#deployment-guardrails" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/deployment-guardrails.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/deployment-guardrails.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/deployment-guardrails.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance,inference,deploy model,endpoint,prediction,ML application,serverless machine learning,multi model deployment,inference pipelines,ML model,deployment guardrails,blue green deployments,deployments,all at once,canary,linear" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Deploy models for inference",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/deploy-model.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Update models in production",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/deploy-model.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#deployment-guardrails" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="deployment-guardrails.html#deployment-guardrails-get-started">How to get started</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="deployment-guardrails">Update models in production</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Deployment guardrails are a set of model deployment options in Amazon SageMaker Inference to update
    your machine learning models in production. Using the fully managed deployment options, you can
    control the switch from the current model in production to a new one. Traffic shifting modes in
    blue/green deployments, such as canary and linear, give you granular control over the traffic
    shifting process from your current model to the new one during the course of the update. There
    are also built-in safeguards such as auto-rollbacks that help you catch issues early and
    automatically take corrective action before they significantly impact production.</p><p>Deployment guardrails provide the following benefits:</p><div class="itemizedlist">
    
    
   
  <ul class="itemizedlist"><li class="listitem"><p><b>Deployment safety while updating production environments.</b> A
        regressive update to a production environment can cause unplanned downtime and business
        impact, such as increased model latency and high error rates. Deployment guardrails help you
        mitigate those risks by providing best practices and built-in operational safety
        guardrails.</p></li><li class="listitem"><p><b>Fully managed deployment.</b> SageMaker takes care of setting up and
    orchestrating these deployments and integrates them with endpoint update mechanisms.
    You do not need to build and maintain orchestration, monitoring, or rollback mechanisms. You can
    leverage SageMaker to set up and orchestrate these deployments and focus on leveraging ML for your
    applications.</p></li><li class="listitem"><p><b>Visibility.</b> You can track the progress of your
    deployment through the <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_DescribeEndpoint.html">DescribeEndpoint</a> API or
    through Amazon CloudWatch Events (for <a href="deployment-guardrails-exclusions.html">supported endpoints</a>). To learn more about
    events in SageMaker, see the Endpoint deployment state change section in <a href="automating-sagemaker-with-eventbridge.html">Automating Amazon SageMaker with
        Amazon EventBridge</a>. Note that if your endpoint uses any of the features in the <a href="deployment-guardrails-exclusions.html">Exclusions</a> page,
    you cannot use CloudWatch Events.</p></li></ul></div><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Deployment guardrails only apply to
    <a href="async-inference.html">Asynchronous inference</a> and <a href="realtime-endpoints.html">Real-time inference</a> 
    endpoint types.</p></div></div>
  <h2 id="deployment-guardrails-get-started">How to get started</h2>
   <p>We support two types of deployments to update models in production: blue/green deployments and rolling deployments.</p>
   <div class="itemizedlist">
      
      
   <ul class="itemizedlist"><li class="listitem">
        <p><a href="deployment-guardrails-blue-green.html">Blue/Green Deployments</a>:
        You can shift traffic from your old fleet (the blue fleet) to a new fleet (green fleet) with the updates. Blue/green deployments offer
        <a href="deployment-guardrails-blue-green.html">multiple traffic shifting modes</a>.
        A traffic shifting mode is a configuration that specifies how SageMaker routes endpoint traffic to a new fleet containing your updates. The
        following traffic shifting modes provide you with different levels of control over the endpoint update process:</p>
       <div class="itemizedlist">
          
          
          
       <ul class="itemizedlist"><li class="listitem">
           <p><a href="deployment-guardrails-blue-green-all-at-once.html">All At Once Traffic Shifting</a> shifts all of your endpoint traffic from the blue fleet to the green fleet.
             Once the traffic shifts to the green fleet, your pre-specified Amazon CloudWatch alarms begin
             monitoring the green fleet for a set amount of time (the <em>baking
               period</em>). If no alarms trip during the baking period, then SageMaker terminates the
             blue fleet.</p>
         </li><li class="listitem">
           <p><a href="deployment-guardrails-blue-green-canary.html">Canary Traffic Shifting</a> shifts one small portion of your traffic (a <em>canary</em>)
             to the green fleet and monitor it for a baking period. If the canary succeeds on the green
             fleet, then SageMaker shifts the rest of the traffic from the blue fleet to the green fleet
             before terminating the blue fleet.</p>
         </li><li class="listitem">
           <p><a href="deployment-guardrails-blue-green-linear.html">Linear Traffic Shifting</a>
             provides even more customization over the number of traffic-shifting steps and the
             percentage of traffic to shift for each step. While canary shifting lets you shift traffic
             in two steps, linear shifting extends this to <em>n</em>
             linearly spaced steps.</p>
         </li></ul></div>
     </li><li class="listitem">
       <p><a href="deployment-guardrails-rolling.html">Rolling Deployments</a>: You can update your endpoint
         as SageMaker incrementally provisions capacity and shifts traffic to a new fleet in steps of a batch size that you specify. Instances on the
         new fleet are updated with the new deployment configuration, and if no CloudWatch alarms trip during the baking period, then SageMaker cleans up
         instances on the old fleet. This option gives you granular control over the instance count or capacity percentage shifted during each step.</p>
     </li></ul></div>

  <p>You can create and manage your deployment through the <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_UpdateEndpoint.html">UpdateEndpoint</a> and <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_CreateEndpoint.html">CreateEndpoint</a> SageMaker API and
   AWS Command Line Interface commands. See the individual deployment pages for more details on how to set
   up your deployment. Note that if your endpoint uses any of the features listed in the <a href="deployment-guardrails-exclusions.html">Exclusions</a> page,
   you cannot use deployment guardrails.</p>
  <p>To follow guided examples that shows how to use deployment guardrails, see our example
    <a href="https://github.com/aws/amazon-sagemaker-examples/tree/master/sagemaker-inference-deployment-guardrails" rel="noopener noreferrer" target="_blank"><span>Jupyter notebooks</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> for the canary and linear traffic shifting modes.</p>
 <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./large-model-inference-release-notes.html">Release notes for LMI deep learning containers</div><div id="next" class="next-link" accesskey="n" href="./deployment-guardrails-configuration.html">Auto-Rollback Configuration and
            Monitoring</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/deployment-guardrails.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/deployment-guardrails.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>