<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Get autoscaling policy recommendations - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="inference-recommender-autoscaling" /><meta name="default_state" content="inference-recommender-autoscaling" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="inference-recommender-autoscaling.html" /><meta name="description" content="With Amazon SageMaker Inference Recommender, you can get recommendations for autoscaling policies for your SageMaker endpoint based on your anticipated traffic pattern. If you’ve already completed an inference recommendation job, you can provide the details of the job to get a recommendation for an autoscaling policy that you can apply to your endpoint." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="inference-recommender-autoscaling.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="de" /><link rel="alternative" href="inference-recommender-autoscaling.html" hreflang="en-us" /><link rel="alternative" href="inference-recommender-autoscaling.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/inference-recommender-autoscaling.html" hreflang="zh-tw" /><link rel="alternative" href="inference-recommender-autoscaling.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Get autoscaling policy recommendations" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Get autoscaling policy recommendations - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#inference-recommender-autoscaling" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/inference-recommender-autoscaling.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/inference-recommender-autoscaling.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/inference-recommender-autoscaling.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance,inference,deploy model,endpoint,prediction,ML application,serverless machine learning,multi model deployment,inference pipelines,ML model" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Deploy models for inference",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/deploy-model.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Amazon SageMaker Inference Recommender",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/inference-recommender.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Recommendation jobs",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/inference-recommender-recommendation-jobs.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Get autoscaling policy recommendations",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/inference-recommender-recommendation-jobs.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#inference-recommender-autoscaling" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="inference-recommender-autoscaling.html#inference-recommender-autoscaling-prereqs">Prerequisites</a><a href="inference-recommender-autoscaling.html#inference-recommender-autoscaling-create">Create an autoscaling configuration recommendation</a><a href="inference-recommender-autoscaling.html#inference-recommender-autoscaling-review">
                    Review your autoscaling configuration recommendation results</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="inference-recommender-autoscaling">Get autoscaling policy recommendations</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>With Amazon SageMaker Inference Recommender, you can get recommendations for
                autoscaling policies for your SageMaker endpoint based on your anticipated traffic
                pattern. If you’ve already completed an inference
                recommendation job, you can provide the details of the job to get a
                recommendation for an autoscaling policy that you can apply to your endpoint.</p><p>Inference Recommender benchmarks different values for each metric to determine the ideal
                autoscaling configuration for your endpoint. The autoscaling recommendation returns
                a recommended autoscaling policy for each metric that was defined in your inference
                recommendation job. You can save the policies and apply them to your endpoint with
                the <a href="https://docs.aws.amazon.com/autoscaling/application/APIReference/API_PutScalingPolicy.html">PutScalingPolicy</a> API.</p><p>To get started, review the following prerequisites.</p>
                <h2 id="inference-recommender-autoscaling-prereqs">Prerequisites</h2>
                <p>Before you begin, you must have completed a successful inference
                    recommendation job. In the following section, you can provide either an
                    inference recommendation ID or the name of a SageMaker endpoint that was
                    benchmarked during an inference recommendation job.</p>
                <p>To retrieve your recommendation job ID or endpoint name, you can either view
                    the details of your inference recommendation job in the SageMaker console, or
                    you can use the <code class="code">RecommendationId</code> or <code class="code">EndpointName</code>
                    fields returned by the <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_DescribeInferenceRecommendationsJob.html">DescribeInferenceRecommendationsJob</a> API.</p>
             
                <h2 id="inference-recommender-autoscaling-create">Create an autoscaling configuration recommendation</h2>
                <p>To create an autoscaling recommendation policy, you can use the AWS SDK for Python (Boto3).</p>
                <p>The following example shows the fields for the
                    <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_GetScalingConfigurationRecommendation.html">
                        GetScalingConfigurationRecommendation</a> API. Use the following fields when you
                    call the API:</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p><code class="code">InferenceRecommendationsJobName</code> – Enter the name of your inference
                                recommendation job.</p>
                    </li><li class="listitem">
                        <p><code class="code">RecommendationId</code> – Enter the ID of an inference recommendation
                                from a recommendation job. This is optional if you’ve specified the
                                <code class="code">EndpointName</code> field.</p>
                    </li><li class="listitem">
                        <p><code class="code">EndpointName</code> – Enter the name of an endpoint that was benchmarked
                                during an inference recommendation job. This is optional if you’ve
                                specified the <code class="code">RecommendationId</code> field.</p>
                    </li><li class="listitem">
                        <p><code class="code">TargetCpuUtilizationPerCore</code> – (Optional) Enter a percentage value
                                of how much utilization you want an instance on your endpoint to use
                                before autoscaling. The default value if you don’t specify this
                                field is 50%.</p>
                    </li><li class="listitem">
                        <p><code class="code">ScalingPolicyObjective</code> – (Optional) An object where you specify
                                your anticipated traffic pattern.</p>
                            <div class="itemizedlist">
                                 
                                 
                            <ul class="itemizedlist"><li class="listitem">
                                    <p><code class="code">MinInvocationsPerMinute</code> – (Optional) The minimum number of
                                        expected requests to your endpoint per minute.</p>
                                </li><li class="listitem">
                                        <p><code class="code">MaxInvocationsPerMinute</code> – (Optional) The maximum number of
                                            expected requests to your endpoint per minute.</p>
                                </li></ul></div>
                    </li></ul></div>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "InferenceRecommendationsJobName": "<code class="replaceable">string</code>", // Required
    "RecommendationId": "<code class="replaceable">string</code>", // Optional, provide one of RecommendationId or EndpointName
    "EndpointName": "<code class="replaceable">string</code>", // Optional, provide one of RecommendationId or EndpointName
    "TargetCpuUtilizationPerCore": <code class="replaceable">number</code>, // Optional
    "ScalingPolicyObjective": <span>{</span> // Optional
        "MinInvocationsPerMinute": <code class="replaceable">number</code>,
        "MaxInvocationsPerMinute": <code class="replaceable">number</code>
    }
}</code></pre>
                <p>After submitting your request, you’ll receive a response with autoscaling
                    policies defined for each metric. See the following section for information about interpreting the response.</p>
             
                <h2 id="inference-recommender-autoscaling-review">
                    Review your autoscaling configuration recommendation results</h2>
                <p>The following example shows the response from the
                    <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_GetScalingConfigurationRecommendation.html">
                        GetScalingConfigurationRecommendation</a> API:</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "InferenceRecommendationsJobName": "string", 
    "RecommendationId": "string", // One of RecommendationId or EndpointName is shown
    "EndpointName": "string", 
    "TargetUtilizationPercentage": Integer,
    "ScalingPolicyObjective": <span>{</span> 
        "MinInvocationsPerMinute": Integer, 
        "MaxInvocationsPerMinute": Integer
    },
    "Metric": <span>{</span>
        "ModelLatency": Integer,
        "InvocationsPerInstance": Integer
    },
    "DynamicScalingConfiguration": <span>{</span>
        "MinCapacity": number,
        "MaxCapacity": number, 
        "ScaleInCooldown": number,
        "ScaleOutCooldown": number,
        "ScalingPolicies": [
            <span>{</span>
                "TargetTracking": <span>{</span>
                    "MetricSpecification": <span>{</span>
                        "Predefined" <span>{</span>
                            "PredefinedMetricType": "string"
                         },
                        "Customized": <span>{</span>
                            "MetricName": "string",
                            "Namespace": "string",
                            "Statistic": "string"
                         }
                    },
                    "TargetValue": Double
                } 
            }
        ]
    }
}</code></pre>
                <p>The <code class="code">InferenceRecommendationsJobName</code>, <code class="code">RecommendationID</code>
                    or <code class="code">EndpointName</code>, <code class="code">TargetCpuUtilizationPerCore</code>, and the
                    <code class="code">ScalingPolicyObjective</code> object fields are copied from your initial request.</p>
                <p>The <code class="code">Metric</code> object lists the metrics that were benchmarked in your
                    inference recommendation job, along with a calculation of the values for each
                    metric when the instance utilization would be the same as the
                        <code class="code">TargetCpuUtilizationPerCore</code> value. This is useful for
                    anticipating the performance metrics on your endpoint when it scales in and out
                    with the recommended autoscaling policy. For example, consider if your instance
                    utilization was 50% in your inference recommendation job and your
                        <code class="code">InvocationsPerInstance</code> value was originally <code class="code">4</code>. If
                    you specify the <code class="code">TargetCpuUtilizationPerCore</code> value to be 100% in
                    your autoscaling recommendation request, then the
                        <code class="code">InvocationsPerInstance</code> metric value returned in the response is
                        <code class="code">2</code> because you anticipated allocating twice as much instance
                    utilization.</p>
                <p>The <code class="code">DynamicScalingConfiguration</code> object returns the values that you should
                    specify for the <a href="https://docs.aws.amazon.com/autoscaling/application/APIReference/API_PutScalingPolicy.html#autoscaling-PutScalingPolicy-request-TargetTrackingScalingPolicyConfiguration">TargetTrackingScalingPolicyConfiguration</a> when you call the <a href="https://docs.aws.amazon.com/autoscaling/application/APIReference/API_PutScalingPolicy.html">PutScalingPolicy</a> API. This includes the recommended minimum and maximum
                    capacity values, the recommended scale in and scale out cooldown times, and the
                    <code class="code">ScalingPolicies</code> object, which contains the recommended <code class="code">TargetValue</code> you should
                    specify for each metric.</p>
            <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./inference-recommender-interpret-results.html">Interpret recommendation results</div><div id="next" class="next-link" accesskey="n" href="./inference-recommender-load-test.html">Run a custom load test</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/inference-recommender-autoscaling.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/inference-recommender-autoscaling.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>