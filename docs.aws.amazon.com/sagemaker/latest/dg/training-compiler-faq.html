<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>SageMaker Training Compiler FAQ - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="training-compiler-faq" /><meta name="default_state" content="training-compiler-faq" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="training-compiler-faq.html" /><meta name="description" content="Use the FAQ items to find answers to commonly asked questions about SageMaker Training Compiler." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="training-compiler-faq.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/training-compiler-faq.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/training-compiler-faq.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/training-compiler-faq.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/training-compiler-faq.html" hreflang="de" /><link rel="alternative" href="training-compiler-faq.html" hreflang="en-us" /><link rel="alternative" href="training-compiler-faq.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/training-compiler-faq.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/training-compiler-faq.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/training-compiler-faq.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/training-compiler-faq.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/training-compiler-faq.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/training-compiler-faq.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/training-compiler-faq.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/training-compiler-faq.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/training-compiler-faq.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/training-compiler-faq.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/training-compiler-faq.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/training-compiler-faq.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/training-compiler-faq.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/training-compiler-faq.html" hreflang="zh-tw" /><link rel="alternative" href="training-compiler-faq.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="SageMaker Training Compiler FAQ" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>SageMaker Training Compiler FAQ - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#training-compiler-faq" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/training-compiler-faq.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/training-compiler-faq.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/training-compiler-faq.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance,amazon sagemaker training compiler, sagemaker training compiler, sm training compiler,compile deep learning model, compile transformer model, compile tensorflow model, compile pytorch model, compile nlp model,amazon sagemaker training compiler, sagemaker training compiler, sm training compiler,frequently asked questions, faq" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Train machine learning models",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/train-model.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Amazon SageMaker Training Compiler",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/training-compiler.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "SageMaker Training Compiler FAQ",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/training-compiler.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#training-compiler-faq" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="training-compiler-faq">SageMaker Training Compiler FAQ</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Use the following FAQ items to find answers to commonly asked questions about
            SageMaker Training Compiler.</p><p><b>Q. How do I know SageMaker Training Compiler is working?</b></p><p>If you successfully launched your training job with SageMaker Training Compiler, you receive the following
            log messages:</p><div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>With <code class="code">TrainingCompilerConfig(debug=False)</code></p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="txt ">Found configuration for Training Compiler
Configuring SM Training Compiler...</code></pre>
            </li><li class="listitem">
                <p>With <code class="code">TrainingCompilerConfig(debug=True)</code></p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="txt ">Found configuration for Training Compiler
Configuring SM Training Compiler...
Training Compiler set to debug mode</code></pre>
            </li></ul></div><p><b>Q. Which models does SageMaker Training Compiler accelerate?</b></p><p>SageMaker Training Compiler supports the most popular deep learning models from the Hugging Face
            transformers library. With most of the operators that the compiler supports, these
            models can be trained faster with SageMaker Training Compiler. Compilable models include but are not limited
            to the following: <code class="code">bert-base-cased</code>, <code class="code">bert-base-chinese</code>,
                <code class="code">bert-base-uncased</code>, <code class="code">distilbert-base-uncased</code>,
                <code class="code">distilbert-base-uncased-finetuned-sst-2-english</code>, <code class="code">gpt2</code>,
                <code class="code">roberta-base</code>, <code class="code">roberta-large</code>, <code class="code">t5-base</code>, and
                <code class="code">xlm-roberta-base</code>. The compiler works with most DL operators and data
            structures and can accelerate many other DL models beyond those that have been
            tested.</p><p><b>Q. What happens if I enable SageMaker Training Compiler with a model that isn't
                tested?</b></p><p>For an untested model, you might need to first modify the training script to be
            compatible with SageMaker Training Compiler. For more information, see <a href="training-compiler-modify-scripts.html">Bring Your Own Deep Learning
                Model</a> and follow the instructions on
            how to prepare your training script.</p><p>Once you have updated your training script, you can start the training job. The
            compiler proceeds to compile the model. However, training speed may not increase and
            might even decrease relative to the baseline with an untested model. You might need to
            retune training parameters such as <code class="code">batch_size</code> and
                <code class="code">learning_rate</code> to achieve any speedup benefits.</p><p>If compilation of the untested model fails, the compiler returns an error. See <a href="training-compiler-troubleshooting.html">SageMaker Training Compiler Troubleshooting</a> for detailed information about
            the failure types and error messages.</p><p><b>Q. Will I always get a faster training job with SageMaker Training Compiler?
            </b></p><p>No, not necessarily. First, SageMaker Training Compiler adds some compilation overhead before the ongoing
            training process can be accelerated. The optimized training job must run sufficiently
            long to amortize and make up for this incremental compilation overhead at the beginning
            of the training job.</p><p>Additionally, as with any model training process, training with suboptimal parameters
            can increase training time. SageMaker Training Compiler can change the characteristics of the training job
            by, for example, changing the memory footprint of the job. Because of these differences,
            you might need to retune your training job parameters to speed up training. A reference
            table specifying the best performing parameters for training jobs with different
            instance types and models can be found at <a href="training-compiler-support.html#training-compiler-tested-models">Tested Models</a>.</p><p>Finally, some code in a training script might add additional overhead or disrupt the
            compiled computation graph and slow training. If working with a customized or untested
            model, see the instructions at <a href="training-compiler-pytorch-models.html#training-compiler-pytorch-models-best-practices">Best Practices
                        to Use SageMaker Training Compiler with PyTorch/XLA</a>.</p><p><b>Q. Can I always use a larger batch size with SageMaker Training Compiler?
            </b></p><p>Batch size increases in most, but not all, cases. The optimizations made by SageMaker Training Compiler
            can change the characteristics of your training job, such as the memory footprint.
            Typically, a Training Compiler job occupies less memory than an uncompiled training job with the
            native framework, which allows for a larger batch size during training. A larger batch
            size, and a corresponding adjustment to the learning rate, increases training throughput
            and can decrease total training time.</p><p>However, there could be cases where SageMaker Training Compiler might actually increase memory footprint
            based on its optimization scheme. The compiler uses an analytical cost model to predict
            the execution schedule with the lowest cost of execution for any compute-intensive
            operator. This model could find an optimal schedule that increases memory use. In this
            case, you won’t be able to increase batch sizes, but your sample throughput is still
            higher.</p><p><b>Q. Does SageMaker Training Compiler work with other SageMaker training features, such as
                the SageMaker distributed training libraries and SageMaker Debugger?</b></p><p>SageMaker Training Compiler is currently not compatible with SageMaker’s distributed training libraries.</p><p>SageMaker Training Compiler is compatible with SageMaker Debugger, but Debugger might degrade computational
            performance by adding overhead.</p><p><b>Q. Does SageMaker Training Compiler support custom containers (bring your own
                container)?</b></p><p>SageMaker Training Compiler is provided through AWS Deep Learning Containers, and you can extend a
            subset of the containers to customize for your use-case. Containers that are extended
            from AWS DLCs are supported by SageMaker Training Compiler. For more information, see <a href="training-compiler-support.html#training-compiler-supported-frameworks">Supported Frameworks</a> and <a href="training-compiler-enable-tensorflow.html#training-compiler-enable-tensorflow-sdk-extend-container">Using the SageMaker Python
                SDK and Extending SageMaker Framework Deep Learning Containers</a>. If you need further
            support, reach out to the SageMaker team through <a href="https://console.aws.amazon.com/support/" rel="noopener noreferrer" target="_blank"><span>AWS Support</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> or <a href="https://forums.aws.amazon.com/forum.jspa?forumID=285" rel="noopener noreferrer" target="_blank"><span>AWS Developer Forums
                for Amazon SageMaker</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./training-compiler-tips-pitfalls.html">Best Practices and Considerations</div><div id="next" class="next-link" accesskey="n" href="./training-compiler-troubleshooting.html">Troubleshooting</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/training-compiler-faq.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/training-compiler-faq.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>