<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Troubleshoot - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="data-wrangler-trouble-shooting" /><meta name="default_state" content="data-wrangler-trouble-shooting" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="data-wrangler-trouble-shooting.html" /><meta name="description" content="Use the information on the page for troubleshooting information." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="data-wrangler-trouble-shooting.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="de" /><link rel="alternative" href="data-wrangler-trouble-shooting.html" hreflang="en-us" /><link rel="alternative" href="data-wrangler-trouble-shooting.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" hreflang="zh-tw" /><link rel="alternative" href="data-wrangler-trouble-shooting.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Troubleshoot" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Troubleshoot - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#data-wrangler-trouble-shooting" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/data-wrangler-trouble-shooting.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Prepare data",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/data-prep.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Prepare ML Data with Amazon SageMaker Data Wrangler",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/data-wrangler.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Troubleshoot",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/data-wrangler.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#data-wrangler-trouble-shooting" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="data-wrangler-trouble-shooting.html#data-wrangler-trouble-shooting-emr">Troubleshooting issues with Amazon EMR</a><a href="data-wrangler-trouble-shooting.html#data-wrangler-troubleshooting-salesforce-data-cloud">Troubleshooting with Salesforce</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="data-wrangler-trouble-shooting">Troubleshoot</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>If an issue arises when using Amazon SageMaker Data Wrangler, we recommend you do the following:</p><div class="itemizedlist">
         
         
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p>If an error message is provided, read the message and resolve the issue it
                reports if possible.</p>
        </li><li class="listitem">
            <p>Make sure the IAM role of your Studio user has the required permissions
                to perform the action. For more information, see <a href="data-wrangler-security.html">Security and Permissions</a>.</p>
        </li><li class="listitem">
            <p>If the issue occurs when you are trying to import from another AWS service,
                such as Amazon Redshift or Athena, make sure that you have configured the necessary
                permissions and resources to perform the data import. For more information, see
                <a href="data-wrangler-import.html">Import</a>.</p>
        </li><li class="listitem">
            <p>If you're still having issues, choose <b>Get help</b> at the top
                right of your screen to reach out to the Data Wrangler team.
                For
                more information, see the following
                images.</p>
            <div class="mediaobject">
                 
                    <img src="../../../images/sagemaker/latest/dg/images/studio/mohave/get-help/get-help.png" class="aws-docs-img-whiteBg aws-docs-img-padding" style="max-width:90%" />
                 
            </div>
            <div class="mediaobject">
                 
                    <img src="../../../images/sagemaker/latest/dg/images/studio/mohave/get-help/get-help-forms.png" class="aws-docs-img-whiteBg aws-docs-img-padding" style="max-width:90%" />
                 
            </div>
        </li></ul></div><p>As a last resort, you can try restarting the kernel on which Data Wrangler is running. </p><div class="procedure"><ol><li>
            <p>Save and exit the .flow file for which you want to restart the kernel. </p>
        </li><li>
            <p>Select the <b><b>Running Terminals and
                Kernels</b></b> icon, as shown in the following
                image.</p>
            <div class="mediaobject">
                 
                    <img src="../../../images/sagemaker/latest/dg/images/studio/mohave/stop-kernel-option.png" class="aws-docs-img-whiteBg aws-docs-img-padding" style="max-width:90%" />
                 
            </div>
        </li><li>
            <p>Select the <b>Stop</b> icon to the right of the .flow file for
                which you want to terminate the kernel, as shown in the following image.</p>
            <div class="mediaobject">
                 
                    <img src="../../../images/sagemaker/latest/dg/images/studio/mohave/stop-kernel.png" class="aws-docs-img-whiteBg aws-docs-img-padding" style="max-width:90%" />
                 
            </div>
        </li><li>
            <p>Refresh the browser. </p>
        </li><li>
            <p>Reopen the .flow file on which you were working. </p>
        </li></ol></div>
        <h2 id="data-wrangler-trouble-shooting-emr">Troubleshooting issues with Amazon EMR</h2>
        <p>Use the following information to help you troubleshoot errors that might come up when you're using Amazon EMR.</p>
        <div class="itemizedlist">
             
             
             
             
             
             
            
        <ul class="itemizedlist"><li class="listitem">
                <p>Connection failure – If the connection fails with the following message <code class="code">The IP address of the EMR cluster isn't private error message</code>, your Amazon EMR cluster might not have been launched in a private subnet. 
                    As a security best practice, Data Wrangler only supports connecting to private Amazon EMR clusters. Choose a private EC2 subnet you launch an EMR cluster.</p>
            </li><li class="listitem">
                <p>Connection hanging and timing out – The issue is most likely due to a network connectivity issue. After you start connecting to the cluster, the screen doesn't refresh.
                    After about 2 minutes, you might see the following error <code class="code">JdbcAddConnectionError: An error occurred when trying to connect to presto: xxx: Connect to xxx failed: Connection timed out (Connection timed out) will display on top of the screen.</code>.</p>
                <p>The errors might have two root causes:</p>
                <div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>The Amazon EMR and Amazon SageMaker Studio are in different VPCs. We recommend launching both Amazon EMR and Studio in the same VPC. You can also use VPC peering. For more information, see <a href="https://docs.aws.amazon.com/vpc/latest/peering/what-is-vpc-peering.html">What is VPC peering?</a>.</p>
                    </li><li class="listitem">
                        <p>The Amazon EMR master security group lacks the inbound traffic rule for the security group of Amazon SageMaker Studio on the port used for Presto. To resolve the issue, allow inbound traffic on port 8889.</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p>Connection fails due to the connection type being misconfigured – You might see the following error message: <code class="code">
                    Data Wrangler couldn't create a connection to <span>{</span>connection_source} successfully. 
                    Try connecting to <span>{</span>connection_source} again. For more information, see Troubleshoot. 
                    If you’re still experiencing issues, contact support. 
                </code></p>
                
                <p>Check the authentication method. The authentication method that you've specified in Data Wrangler should match the authentication method that you're using on the cluster.</p>
            </li><li class="listitem">
                <p>You don't have HDFS permissions for LDAP authentication – Use the following guidance to resolve the issue <a href="https://docs.aws.amazon.com/whitepapers/latest/teaching-big-data-skills-with-amazon-emr/set-up-hdfs-permissions-using-linux-credentials.html">Set up HDFS Permissions using Linux Credentials</a>.
                You can log into the cluster using the following commands:</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">
hdfs dfs -mkdir /user/USERNAME
hdfs dfs -chown USERNAME:USERNAME /user/USERNAME            
                </code></pre>
            </li><li class="listitem">
                <p>LDAP authentication missing connection key error – You might see the following error message: <code class="code">Data Wrangler couldn't connect to EMR hive successfully. JDBC connection is missing required connection key(s): PWD</code>.</p>
                <p>For LDAP authentication, you must specify both a username and a password. The JDBC URL stored in Secrets Manager is missing property <code class="code">PWD</code>.</p>
            </li><li class="listitem">
                <p>When you're troubleshooting the LDAP configuration: We recommend making sure that the LDAP authenticator (LDAP server) is correctly configured to connect to the Amazon EMR cluster. Use the <code class="code">ldapwhoami</code> command to help you resolve the configuration issue. The following are example commands that you can run:</p>
                <div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>For LDAPS – <code class="code">ldapwhoami -x -H ldaps://ldap-server</code></p>
                    </li><li class="listitem">
                        <p>For LDAP – <code class="code">ldapwhoami -x -H ldap://ldap-server</code></p>
                    </li></ul></div>
                <p>Either command should return <code class="code">Anonymous</code> if you've configured the authenticator successfully.</p>
            </li></ul></div>
        
        
     
        <h2 id="data-wrangler-troubleshooting-salesforce-data-cloud">Troubleshooting with Salesforce</h2>
         
            <h3 id="data-wrangler-troubleshooting-salesforce-lcc-debug-data-cloud">Lifecycle configuration error</h3>
            <p>When your user opens Studio for the first time, they might get an error saying
                that there's something wrong with their lifecycle configuration. Use Amazon CloudWatch to
                access the logs written by your lifecycle configuration script. For more information
                about debugging lifecycle configurations, see <a href="studio-lcc-debug.html">Debug lifecycle configurations</a>.</p>
            <p>If you aren't able to debug the error, you can create the configuration file manually. You must create the file every time you delete or restart the Jupyter server.
            Use the following procedure to create the file manually.</p>
            <div class="procedure"><h6>To create a configuration file</h6><ol><li>
                    <p>Navigate to Studio.</p>
                </li><li>
                    <p>Choose <b>File</b>, then <b>New</b>, then <b>Terminal</b>.</p>
                </li><li>
                    <p>Create <code class="code">.sfgenie_identity_provider_oauth_config</code>.</p>
                </li><li>
                    <p>Open the file in a text editor.</p>
                </li><li>
                    <p>Add a JSON object containing the Amazon Resource Name (ARN) of the Secrets Manager secret to the file. You can use the following template to create the object.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "secret_arn": "<code class="replaceable">example-secret-ARN</code>"
}
                    </code></pre>
                </li><li>
                    <p>Save your changes to the file.</p>
                </li></ol></div>
         
         
            <h3 id="data-wrangler-troubleshooting-salesforce-datacloud-access">Unable to
                    access Salesforce Data Cloud from the Data Wrangler flow</h3>
            <p>After your user chooses <b>Salesforce Data Cloud</b> from your Data Wrangler
                flow, they might get an error indicating the prerequisites to set up the connection
                haven't been met. It might be caused by following errors:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>The Salesforce secret in Secrets Manager hasn't been created.</p>
                </li><li class="listitem">
                    <p>The Salesforce secret in Secrets Manager has been created, but it's missing the Salesforce tag.</p>
                </li><li class="listitem">
                    <p>The Salesforce secret in Secrets Manager has been created in the wrong AWS Region.
                        For example, your user won't be able to access the Salesforce Data Cloud in
                            <code class="code">ca-central-1</code> because you've created the secret in
                            <code class="code">us-east-1</code>. You can either replicate the secret to
                            <code class="code">ca-central-1</code> or create a new secret with the same
                        credentials in <code class="code">ca-central-1</code>. For information about replicating
                        secrets, see <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/create-manage-multi-region-secrets.html">Replicate an AWS Secrets Manager secret to other AWS Regions</a>.</p>
                </li><li class="listitem">
                    <p>The policy that your users are using to access Amazon SageMaker Studio are missing permissions for AWS Secrets Manager</p>
                </li><li class="listitem">
                    <p>There's a typo in the Secrets Manager ARN of the JSON object that you've specified
                        through your lifecycle configuration.</p>
                </li><li class="listitem">
                    <p>There's a typo in the Secrets Manager secret containing your Salesforce OAuth configuration</p>
                </li></ul></div>
         
         
            <h3 id="data-wrangler-troubleshooting-salesforce-data-cloud-blank-page">Blank page showing <code class="code">redirect_uri_mismatch</code></h3>
            <p>After your users choose <b>Save and Connect</b>, they might get
                redirected to a page that shows <code class="code">redirect_uri_mismatch</code>. The callback URI
                that you've registered in your Salesforce Connected App settings is either missing
                or incorrect.</p>
            <p>Use the following URL to check that your Studio URL is correctly registered in your Salesforce org's Connected App settings: <code class="code">https://EXAMPLE_SALESFORCE_ORG/lightning/setup/NavigationMenus/home/</code>. For more information about using the connected app settings, navigate to the following URL: <code class="code">https://EXAMPLE_SALESFORCE_ORG/lightning/setup/NavigationMenus/home/</code>.</p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>It takes roughly ten minutes to propagate the URI within Salesforce's
                    systems.</p></div></div>
            
         
         
            <h3 id="data-wrangler-troubleshooting-salesforce-data-cloud-shared-spaces">Shared spaces</h3>
            <p>Shared spaces doesn't currently work with the Salesforce Data Cloud integration.
                You can either delete the shared spaces in the Amazon SageMaker Domain that you intend to
                use, or you can use another Domain that doesn't have shared spaces set
                up.</p>
         
         
            <h3 id="data-wrangler-troubleshooting-salesforce-data-cloud-oauth-error">OAuth Redirect Error</h3>
            <p>Your users should be able to import their data from the Salesforce Data Cloud
                after they choose <b>Connect</b>. If they're running into an error, we
                recommend asking them to do the following:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Tell them to be patient – When they get redirected back to
                        Amazon SageMaker Studio, it can take up to a minute to complete the authentication
                        process. While they're getting redirected, we recommend telling them to
                        avoid interacting with the browser. For example, they shouldn't close the
                        browser tab, switch to another tab, or interact with the Data Wrangler flow.
                        Interacting with the browser might remove the authorization code required to
                        connect to the data cloud.</p>
                </li><li class="listitem">
                    <p>Have your users reconnect to the data cloud – There are transient
                        issues that can cause a connection to the Salesforce Data Cloud to fail.
                        Have your users create a new Data Wrangler flow and try connecting to the Salesforce
                        Data Cloud again.</p>
                </li><li class="listitem">
                    <p>Make sure your users close all other tabs with Amazon SageMaker Studio –
                        Having Studio open in multiple tabs can cause the Salesforce Data Cloud
                        connection to fail. Make sure your users only have one Studio tab
                        open.</p>
                </li><li class="listitem">
                    <p>Multiple users accessing Studio at the same time – Only one user
                        should access an Amazon SageMaker Domain at a time. If multiple users access the same
                        Domain, the connection that a user is trying to create to the Salesforce
                        Data Cloud might fail.</p>
                </li></ul></div>
            <p>Updating both Data Wrangler and Studio might also fix their error. For information
                about updating Data Wrangler, see <a href="data-wrangler-update.html">Update Data Wrangler</a>. For information about updating
                Studio, see <a href="studio-tasks-update-studio.html">Shut down and Update SageMaker Studio</a>.</p>
            <p>If none of the preceding troubleshooting steps work, you might find an error
                message from Salesforce with a corresponding description embedded in the Studio
                URL. The following is an example of a message you could find:
                    <code class="code">error=invalid_client_id&amp;error_description=client%20identifier%20invalid</code>.</p>
            <p>You can look at the error message in the URL and try to address the issues it
                presents. If the error message or description is unclear, we recommend searching the
                Salesforce Knowledge Base. If searching the knowledge base doesn't work, you can
                reach out to the Salesforce help desk for more assistance.</p>
         
         
            <h3 id="data-wrangler-troubleshooting-salesforce-data-cloud-long-load-time">Data Wrangler takes a long time to load</h3>
            <p>When your users are getting redirected back to Data Wrangler from the Salesforce Data Cloud, they might experience long load times.</p>
            <p>If this is the user's first time using Data Wrangler or they've deleted the kernel, it
                might take about 5 minutes to provision the new Amazon EC2 instance to use Data Wrangler.</p>
            <p>If this isn't the user's first time using Data Wrangler and they haven't deleted the
                kernel, you can ask them to refresh the page or close as many browser tabs as
                possible.</p>
            <p>If none of the preceding interventions work, have them set up a new connection to the Salesforce Data Cloud.</p>
         
         
            <h3 id="data-wrangler-troubleshooting-salesforce-data-cloud-processing-job-fails-batch-id">User fails to export their data with an <code class="code">Invalid batch Id</code>
                    error</h3>
            <p>When your user exports the transformations that they've made to their Salesforce
                data, the SageMaker processing job that Data Wrangler uses on the backend might fail. The
                Salesforce Data Cloud might be temporarily unavailable or there could be a caching
                issue.</p>
            <p>To address the issue, we recommend having your users  go back to the step where
                they're importing the data and changing the order of the columns that they're
                querying . For example, they can change the following query:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">
SELECT col_A, col_B FROM table                
            </code></pre>
            <p>To the following query:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">
SELECT col_B, col_A FROM table                
            </code></pre>
            <p>After they've changed the order of the columns and made sure that the subsequent transformations they've made are still valid, they can start exporting their data again.</p>

         
         
            <h3 id="data-wrangler-troubleshooting-salesforce-data-cloud-processing-job-fails-query">Users can't export a very large dataset</h3>
            <p>If your users imported a very large dataset from the Salesforce Data Cloud, they
                might not be able to export the transformations that they've made. A large dataset
                might have too many rows, or it can result from a complex query.</p>
            <p>We recommend having your users take the following actions:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Simplifying their SQL query</p>
                </li><li class="listitem">
                    <p>Sampling their data</p>
                </li></ul></div>
            <p>The following are some strategies that they can use to simplify their
                queries:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Specify column names instead of using the <code class="code">*</code> operator</p>
                </li><li class="listitem">
                    <p>Finding a subset of the data that they'd like to import instead of using a larger subset</p>
                </li><li class="listitem">
                    <p>Minimizing joins between very large datasets</p>
                </li></ul></div>
            <p>They can use sampling to reduce the number of rows in their dataset. For
                information about sampling methods, your users can refer to <a href="data-wrangler-transform.html#data-wrangler-transform-sampling">Sampling</a>.</p>
         
         
            <h3 id="data-wrangler-troubleshooting-salesforce-data-cloud-processing-job-fails-invalid-token">Users can't export data due to invalid refresh token</h3>
            <p>Data Wrangler uses a JDBC driver to integrate with the Salesforce Data Cloud. The method
                for authentication is OAuth. For OAuth, the refresh token and the access token are
                two different pieces of data that are used to authorize access to resources within
                your Salesforce Data Cloud.</p>
            <p>The access token, or core token, is what allows you to access your Salesforce data
                and run queries directly through Data Wrangler. It's short lived and designed to expire
                quickly. To maintain access to your Salesforce data, Data Wrangler uses the refresh token to
                get a new access token from Salesforce.</p>
            <p>You might have set the refresh to expire too quickly to get a new access token for
                your users. You might have to revisit your refresh token policy to make sure that it
                can accommodate queries that take a long time to run for your users. For information
                about configuring your refresh token policy, see <code class="code">https://EXAMPLE_SALESFORCE_ORG_URL/lightning/setup/ConnectedApplication/home/</code>.</p>

            
         
         
            <h3 id="data-wrangler-troubleshooting-salesforce-data-cloud-table-not-loading">Queries failing or tables not loading</h3>
            <p>Salesforce experiences service outages. Even if you’ve configured everything correctly, your users might not be able to import their data for periods of time.</p>
            <p>Service outages can happen for maintenance reasons. We recommend checking in the following day to see if the issue has been resolved.</p>
            <p>If you’re experiencing issues for more than a day, we recommend contacting Salesforce’s help desk for further assistance. For information about contacting Salesforce, see <a href="https://www.salesforce.com/company/contact-us/" rel="noopener noreferrer" target="_blank"><span>How would you like to contact Salesforce?</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
            
         
         
            <h3 id="data-wrangler-troubleshooting-salesforce-data-cloud-oauth-app-blocked"><code class="code">OAUTH_APP_BLOCKED</code> during Studio redirect</h3>
            <p>When your user gets redirected back to Amazon SageMaker Studio, they might notice the query
                parameter <code class="code">error=OAUTH_APP_BLOCKED</code> within the URL. They're might be
                experiencing a transient issue that should resolve itself within a day.</p>
            <p>It's possible that you've blocked their access to the Connected App as well. For information about resolving the issue, see <code class="code">https://EXAMPLE_SALESFORCE_ORG_URL/lightning/setup/ConnectedApplication/home/</code>.</p>
         
         
            <h3 id="data-wrangler-troubleshooting-salesforce-data-cloud-oauth-app-access-denied"><code class="code">OAUTH_APP_DENIED</code> during Studio redirect</h3>
            <p>When your user gets redirected back to Amazon SageMaker Studio, they might notice the query
                parameter <code class="code">error=OAUTH_APP_ACCESS_DENIED</code> within the URL. You haven't
                given their profile type permissions to access the <code class="code">Connected App</code>
                associated with Data Wrangler.</p>
            <p>To resolve their access issue, navigate to <code class="code">https://EXAMPLE_SALESFORCE_ORG_URL/lightning/setup/ManageUsers/home/</code> and check whether the user is assigned to the correct profile.</p>
            
         
      
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./data-wrangler-release-notes.html">Release Notes</div><div id="next" class="next-link" accesskey="n" href="./data-wrangler-increase-instance-limit.html">Increase Amazon EC2 Instance Limit</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/data-wrangler-trouble-shooting.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/data-wrangler-trouble-shooting.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>