<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Step 2: Creating your custom worker task template - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="sms-custom-templates-step2" /><meta name="default_state" content="sms-custom-templates-step2" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="sms-custom-templates-step2.html" /><meta name="description" content="Use the following topics to learn how you can create a worker task template. You can see a repository of example Ground Truth worker task templates on GitHub ." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="sms-custom-templates-step2.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="de" /><link rel="alternative" href="sms-custom-templates-step2.html" hreflang="en-us" /><link rel="alternative" href="sms-custom-templates-step2.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/sms-custom-templates-step2.html" hreflang="zh-tw" /><link rel="alternative" href="sms-custom-templates-step2.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Step 2: Creating your custom worker task template" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Step 2: Creating your custom worker task template - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#sms-custom-templates-step2" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/sms-custom-templates-step2.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/sms-custom-templates-step2.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/sms-custom-templates-step2.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Label data with a human-in-the-loop",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/data-label.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Use Amazon SageMaker Ground Truth to Label Data",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/sms.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Creating Custom Labeling Workflows",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/sms-custom-templates.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Step 2: Creating your custom worker task template",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/sms-custom-templates.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#sms-custom-templates-step2" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="sms-custom-templates-step2.html#sms-custom-templates-step2-base">Starting with a base template</a><a href="sms-custom-templates-step2.html#sms-custom-template-step2-UI-local">Developing templates locally</a><a href="sms-custom-templates-step2.html#sms-custom-template-step2-UI-external">Using External Assets</a><a href="sms-custom-templates-step2.html#sms-custom-template-step2-UI-vars">Track your variables</a><a href="sms-custom-templates-step2.html#sms-custom-templates-step2-sample">A simple sample</a><a href="sms-custom-templates-step2.html#sms-custom-templates-step2-automate">Adding automation with Liquid</a><a href="sms-custom-templates-step2.html#sms-custom-templates-step2-moredemos">End-to-end demos</a><a href="sms-custom-templates-step2.html#templates-step2-next">Next</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="sms-custom-templates-step2">Step 2: Creating your custom worker task
                template</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><div class="highlights" id="inline-topiclist"><h6>A worker task template is a file
            used by Ground Truth to customize the worker user interface (UI), or human task UI. You can
            create a worker task template using HTML, CSS, JavaScript, Liquid template language, and Crowd
                HTML Elements. Liquid is used to automate the template, and Crowd HTML
            Elements can be used to include common annotation tools and provide the logic to submit
            to Ground Truth.</h6><ul><li><a href="sms-custom-templates-step2.html#sms-custom-templates-step2-base">Starting with a base template</a></li><li><a href="sms-custom-templates-step2.html#sms-custom-template-step2-UI-local">Developing templates locally</a></li><li><a href="sms-custom-templates-step2.html#sms-custom-template-step2-UI-external">Using External Assets</a></li><li><a href="sms-custom-templates-step2.html#sms-custom-template-step2-UI-vars">Track your variables</a></li><li><a href="sms-custom-templates-step2.html#sms-custom-templates-step2-sample">A simple sample</a></li><li><a href="sms-custom-templates-step2.html#sms-custom-templates-step2-automate">Adding automation with Liquid</a></li><li><a href="sms-custom-templates-step2.html#sms-custom-templates-step2-moredemos">End-to-end demos</a></li><li><a href="sms-custom-templates-step2.html#templates-step2-next">Next</a></li></ul></div><p>Use the following topics to learn how you can create a worker task template. You can
            see a repository of example Ground Truth worker task templates on <a href="https://github.com/aws-samples/amazon-sagemaker-ground-truth-task-uis" rel="noopener noreferrer" target="_blank"><span>GitHub</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p><p></p>
            <h2 id="sms-custom-templates-step2-base">Starting with a base template</h2>
            <p>You can use a template editor in the Ground Truth console to start creating a template.
                This editor includes a number of pre-designed base templates and an HTML and Crowd
                HTML Element autofill feature. </p>
            <div class="procedure"><h6>
                    To access the Ground Truth custom template editor: 
                </h6><ol><li>
                    <p>Following the instructions in <a href="sms-create-labeling-job-console.html">Create a Labeling Job (Console)</a> and select
                            <b>Custom</b> for the labeling job <b>Task
                            type</b>. </p>
                </li><li>
                    <p>When you select <b>Next</b>, you will be able to access the
                        template editor and base templates in the <b>Custom labeling task
                            setup</b> section. </p>
                </li><li>
                    <p>(Optional) Select a base template from the drop-down menu under
                            <b>Templates</b>. If you prefer to create a template from
                        scratch, choose <b>Custom</b> from the drop down-menu for a
                        minimal template skeleton.</p>
                </li></ol></div>
            <div class="mediaobject">
                 
                    <img src="../../../images/sagemaker/latest/dg/images/sms/gifs/custom-template-editor.gif" class="aws-docs-img-whiteBg aws-docs-img-padding" />
                 
            </div>   

         
            <h2 id="sms-custom-template-step2-UI-local">Developing templates locally</h2>
            <p>While you need to be in the console to test how your template will process incoming data, you can test the look and feel of your template's HTML and custom elements in your browser by adding this code to the top of your HTML file.</p>
            <div class="example"><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="html ">&lt;script src="https://assets.crowd.aws/crowd-html-elements.js"&gt;&lt;/script&gt;
            </code></pre></div></div>
            <p>This loads the necessary code to render the custom HTML elements. Use this if you want to develop your template's look and feel in your preferred editor rather than in the console.</p>
            <p>Remember, though, this will not parse your variables. You may want to replace them with sample content while developing locally.</p>
         
            <h2 id="sms-custom-template-step2-UI-external">Using External Assets</h2>
            <p>Amazon SageMaker Ground Truth custom templates allow external scripts and style sheets to be embedded.
                For example, the following code block demonstrates how you would add  a style sheet
                located at <code class="code">https://www.example.com/my-enhancement-styles.css</code> to your
                template.</p>
            <div class="example"><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="html ">&lt;script src="https://www.example.com/my-enhancment-script.js"&gt;&lt;/script&gt;
&lt;link rel="stylesheet" type="text/css" href="https://www.example.com/my-enhancement-styles.css"&gt;</code></pre></div></div>
            <p>If you encounter errors, ensure that your originating server is sending the correct MIME type and encoding headers with the assets.</p>
            <p>For example, the MIME and encoding types for remote scripts are:
                    <code class="code">application/javascript;CHARSET=UTF-8</code>.</p>
            <p>The MIME and encoding type for remote stylesheets are:
                    <code class="code">text/css;CHARSET=UTF-8</code>.</p>
         
            <h2 id="sms-custom-template-step2-UI-vars">Track your variables</h2>
            <p>In the process of building the sample below, there will be a step that adds variables to it to represent the pieces of data that may change from task to task, worker to worker. If you're starting with one of the sample templates, you will need to make sure you're aware of the variables it already uses. When you create your pre-annotation AWS Lambda script, its output will need to contain values for any of those variables you choose to keep.</p>
            <p>The values you use for the variables can come from your manifest file. All the
                key-value pairs in your data object are provided to your pre-annotation Lambda. If
                it's a simple pass-through script, matching keys for values in your data object to
                variable names in your template is the easiest way to pass those values through to
                the tasks forms your workers see.</p>
         
            <h2 id="sms-custom-templates-step2-sample">A simple sample</h2>
             <p> All tasks begin and end with the <code class="code">&lt;crowd-form&gt; &lt;/crowd-form&gt;</code>
                elements. Like standard HTML <code class="code">&lt;form&gt;</code> elements, all of your form code
                should go between them. </p>
            <p> For a simple tweet-analysis task, use the <code class="code">&lt;crowd-classifier&gt;</code>
                element. It requires the following attributes: </p>
                <div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem"><p><em>name</em> - the variable name to use for the result in the form output.</p></li><li class="listitem"><p><em>categories</em> - a JSON formatted array of the possible answers.</p></li><li class="listitem"><p><em>header</em> - a title for the annotation tool</p></li></ul></div>
            <p>As children of the <code class="code">&lt;crowd-classifier&gt;</code> element, you must have three regions.</p>
            <div class="itemizedlist">
                 
                 
                                 
            <ul class="itemizedlist"><li class="listitem"><p><em>&lt;classification-target&gt;</em> - the text the worker will classify based on the options specified in the <code class="code">categories</code> attribute above.</p></li><li class="listitem"><p><em>&lt;full-instructions&gt;</em> - instructions that are available from the "View full instructions" link in the tool. This can be left blank, but it is recommended that you give good instructions to get better results.</p></li><li class="listitem"><p><em>&lt;short-instructions&gt;</em> - a more brief description of the task that appears in the tool's sidebar. This can be left blank, but it is recommended that you give good instructions to get better results.</p></li></ul></div>
            <p>A simple version of this tool would look like this.</p>
            <div class="example"><h6>Example of using <code class="code">crowd-classifier</code></h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="html ">&lt;script src="https://assets.crowd.aws/crowd-html-elements.js"&gt;&lt;/script&gt;
&lt;crowd-form&gt;
  &lt;crowd-classifier 
    name="tweetFeeling"
    categories="['positive','negative','neutral', 'unclear']"
    header="Which term best describes this tweet?"
  &gt;
     &lt;classification-target&gt;
      My favorite football team won today! 
      Bring on the division finals!
    &lt;/classification-target&gt;

    &lt;full-instructions header="Sentiment Analysis Instructions"&gt;
      Try to determine the sentiment the author
      of the tweet is trying to express. 
      If none seem to match, choose "cannot determine."
    &lt;/full-instructions&gt;

    &lt;short-instructions&gt;
      Pick the term best describing the sentiment 
      of the tweet. 
    &lt;/short-instructions&gt;

  &lt;/crowd-classifier&gt;
&lt;/crowd-form&gt;</code></pre></div></div>
            <p>You can copy and paste the code into the editor in the Ground Truth labeling job creation workflow to preview the tool, or try out a <a href="https://codepen.io/MTGT/full/OqBvJw" rel="noopener noreferrer" target="_blank"><span>demo of this code on CodePen.</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p> 
            <p>
                <a href="https://codepen.io/MTGT/full/OqBvJw" rel="noopener noreferrer" target="_blank"><span><span class="inlinemediaobject">
                         
                            <img src="../../../images/sagemaker/latest/dg/images/pen.gif" class="aws-docs-img-whiteBg aws-docs-img-xs-padding" alt="&#xA;                            View a demo of this sample template on CodePen&#xA;                        " />
                         
                         
                    </span></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
            </p>
         
            <h2 id="sms-custom-templates-step2-automate">Adding automation with Liquid</h2>
            
            <p>Our custom template system uses <a href="https://shopify.github.io/liquid/" rel="noopener noreferrer" target="_blank"><span>Liquid</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> for automation. It is an open source inline markup language. In
                Liquid, the text between single curly braces and percent symbols is an instruction
                or <em>tag</em> that performs an operation like control
                flow or iteration. Text between double curly braces is a variable or <em>object</em> that outputs its value. </p>
            <p>The most common use of Liquid will be to parse the data coming from your
                    <b>pre-annotation Lambda</b> and pull out the relevant variables
                to create the task. The <code class="code">taskInput</code> object returned by your <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/sms-custom-templates-step3-lambda-requirements.html#sms-custom-templates-step3-prelambda">Pre-annotation
                        Lambda</a> will be available as the
                    <code class="code">task.input</code> object in your templates.</p>   
            <p>The properties in your manifest's data objects are passed into your <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/sms-custom-templates-step3-lambda-requirements.html#sms-custom-templates-step3-prelambda">Pre-annotation
                        Lambda</a> as the
                    <code class="code">event.dataObject</code>. A simple pass-through script simply returns that
                object as the <code class="code">taskInput</code> object. You would represent values from your
                manifest as variables as follows.</p>
            <div class="example"><h6>Example Manifest data object</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "source": "This is a sample text for classification",
  "labels": [ "angry" , "sad" , "happy" , "inconclusive" ],
  "header": "What emotion is the speaker feeling?"
}</code></pre></div></div>
            <div class="example"><h6>Example Sample HTML using variables</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">&lt;crowd-classifier 
  name='tweetFeeling'
  categories='<span>{</span><span>{</span> task.input.labels | to_json }}'
  header='<span>{</span><span>{</span> task.input.header }}' &gt;
&lt;classification-target&gt;
  <span>{</span><span>{</span> task.input.source }}
&lt;/classification-target&gt;</code></pre></div></div>
        <p>Note the addition of "<code class="code"> | to_json</code>" to the <code class="code">labels</code> property
                above. That's a filter to turn the array into a JSON representation of the array.
                Variable filters are explained in the next section.</p>
            <p>The following list includes two types of Liquid tags that you may find useful to
                automate template input data processing. If you select one of the following
                tag-types, you will be redirected to the Liquid documentation.</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><a href="https://shopify.github.io/liquid/tags/control-flow/" rel="noopener noreferrer" target="_blank"><span>Control
                            flow</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>: Includes programming logic operators like
                            <code class="code">if/else</code>, <code class="code">unless</code>, and
                        <code class="code">case/when</code>.</p>
                </li><li class="listitem">
                    <p><a href="https://shopify.github.io/liquid/tags/iteration/" rel="noopener noreferrer" target="_blank"><span>Iteration</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>: Enables you to run blocks of code repeatedly using
                        statements like for loops. </p>
                    <p>For an example of an HTML template that uses Liquid elements to create a
                        for loop, see <a href="https://github.com/aws-samples/amazon-sagemaker-ground-truth-task-uis/blob/8ae02533ea5a91087561b1daecd0bc22a37ca393/text/translation-review-and-correction.liquid.html" rel="noopener noreferrer" target="_blank"><span>translation-review-and-correction.liquid.html</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> in GitHub.
                    </p>
                </li></ul></div>
            <p>For more information and documentation, visit the <a href="https://shopify.github.io/liquid/" rel="noopener noreferrer" target="_blank"><span>Liquid homepage</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>            
             
                <h3 id="sms-custom-templates-step2-automate-filters">Variable filters</h3>

        <p>In addition to the standard <a href="https://shopify.github.io/liquid/filters/abs/" rel="noopener noreferrer" target="_blank"><span>Liquid filters</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> and actions, Ground Truth offers a few additional filters.
                    Filters are applied by placing a pipe (<code class="code">|</code>) character after the
                    variable name, then specifying a filter name. Filters can be chained in the form
                    of:</p>
        <div class="example"><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span><span>{</span> &lt;content&gt; | &lt;filter&gt; | &lt;filter&gt; }}</code></pre></div></div>
                 
                    <h4 id="sms-custom-templates-step2-automate-filters-autoescape">Autoescape and explicit escape</h4>

        <p>By default, inputs will be HTML escaped to prevent confusion between your variable text and HTML. You can explicitly add the <code class="code">escape</code> filter to make it more obvious to someone reading the source of your template that the escaping is being done.</p>
                 
                 
                    <h4 id="sms-custom-templates-step2-automate-escapeonce">escape_once</h4>
            <p><code class="code">escape_once</code> ensures that if you've already escaped your code, it doesn't get re-escaped on top of that. For example, so that &amp;amp; doesn't become &amp;amp;amp;.</p>
                 
                 
                    <h4 id="sms-custom-templates-step2-automate-skipautoescape">skip_autoescape</h4>            
                    <p><code class="code">skip_autoescape</code> is useful when your content is meant to be used as HTML. For example, you might have a few paragraphs of text and some images in the full instructions for a bounding box.</p>
                    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Use skip_autoescape sparingly</h6></div><div class="awsdocs-note-text"><p>The best practice in templates is to avoid passing in functional code or markup with <code class="code">skip_autoescape</code> unless you are absolutely sure you have strict control over what's being passed. If you're passing user input, you could be opening your workers up to a Cross Site Scripting attack.</p></div></div>
                 

                 
                    <h4 id="sms-custom-templates-step2-automate-tojson">to_json</h4>            
                    <p><code class="code">to_json</code> will encode what you feed it to JSON (JavaScript Object Notation). If you feed it an object, it will serialize it.</p>
                 
                
                 
                    <h4 id="sms-custom-templates-step2-automate-grantreadaccess">grant_read_access</h4>            
                    <p><code class="code">grant_read_access</code> takes an S3 URI and encodes it into an HTTPS URL with a short-lived access token for that resource. This makes it possible to display to workers photo, audio, or video objects stored in S3 buckets that are not otherwise publicly accessible.</p>
                 
               
            <div class="example"><h6>Example of the filters</h6><div class="example-contents"><p>Input</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">auto-escape: <span>{</span><span>{</span> "Have you read 'James &amp; the Giant Peach'?" }}
explicit escape: <span>{</span><span>{</span> "Have you read 'James &amp; the Giant Peach'?" | escape }}
explicit escape_once: <span>{</span><span>{</span> "Have you read 'James &amp;amp; the Giant Peach'?" | escape_once }}
skip_autoescape: <span>{</span><span>{</span> "Have you read 'James &amp; the Giant Peach'?" | skip_autoescape }}
to_json: <span>{</span><span>{</span> jsObject | to_json }}                
grant_read_access: <span>{</span><span>{</span> "s3://mybucket/myphoto.png" | grant_read_access }}</code></pre></div></div>

            <div class="example"><div class="example-contents"><p>Output</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">auto-escape: Have you read &amp;#39;James &amp;amp; the Giant Peach&amp;#39;?
explicit escape: Have you read &amp;#39;James &amp;amp; the Giant Peach&amp;#39;?
explicit escape_once: Have you read &amp;#39;James &amp;amp; the Giant Peach&amp;#39;?
skip_autoescape: Have you read 'James &amp; the Giant Peach'?
to_json: <span>{</span> "point_number": 8, "coords": [ 59, 76 ] }
grant_read_access: https://s3.amazonaws.com/mybucket/myphoto.png?<code class="replaceable">&lt;access token and other params&gt;</code></code></pre></div></div>
            
                    
          <div class="example"><h6>Example of an automated classification template.</h6><div class="example-contents"><p>To automate the simple text classification sample, replace the tweet text with a variable.</p><p>The text classification template is below with automation added. The changes/additions are highlighted in bold.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">&lt;script src="https://assets.crowd.aws/crowd-html-elements.js"&gt;&lt;/script&gt;
&lt;crowd-form&gt;
  &lt;crowd-classifier 
    name="tweetFeeling"
    categories="['positive', 'negative', 'neutral', 'cannot determine']"
    header="Which term best describes this tweet?" 
  &gt;
    &lt;classification-target&gt;
       <b><span>{</span><span>{</span> task.input.source }}</b>
    &lt;/classification-target&gt;

    &lt;full-instructions header="Analyzing a sentiment"&gt;
      Try to determine the feeling the author 
      of the tweet is trying to express. 
      If none seem to match, choose "other."
    &lt;/full-instructions&gt;

    &lt;short-instructions&gt;
      Pick the term best describing the sentiment 
      of the tweet. 
    &lt;/short-instructions&gt;

  &lt;/crowd-classifier&gt;
&lt;/crowd-form&gt;
</code></pre><p>The tweet text that was in the prior sample is now replaced with an object. The <code class="code">entry.taskInput</code> object uses <code class="code">source</code> (or another name you specify in your pre-annotation Lambda) as the property name for the text and it is inserted directly in the HTML by virtue of being between double curly braces.</p></div></div>
         
            <h2 id="sms-custom-templates-step2-moredemos">End-to-end demos</h2>
            <p>You can view the following end-to-end demos which include sample Lambda
                function:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem"><p><a href="sms-custom-templates-step2-demo1.html">Demo Template: Annotation of Images with crowd-bounding-box</a></p></li><li class="listitem"><p><a href="sms-custom-templates-step2-demo2.html">Demo Template: Labeling Intents with crowd-classifier</a></p></li></ul></div>
         
            <h2 id="templates-step2-next">Next</h2>
            <p><a href="sms-custom-templates-step3.html">Step 3: Processing with AWS Lambda</a></p>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./sms-custom-templates-step1.html">Step 1: Setting up your workforce</div><div id="next" class="next-link" accesskey="n" href="./sms-custom-templates-step3.html">Step 3: Processing with AWS Lambda</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/sms-custom-templates-step2.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/sms-custom-templates-step2.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>