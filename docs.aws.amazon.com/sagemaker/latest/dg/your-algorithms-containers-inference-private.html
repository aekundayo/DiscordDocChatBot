<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Use a Private Docker Registry for Real-Time Inference Containers - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="your-algorithms-containers-inference-private" /><meta name="default_state" content="your-algorithms-containers-inference-private" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="your-algorithms-containers-inference-private.html" /><meta name="description" content="Amazon SageMaker hosting enables you to use images stored in Amazon ECR to build your containers for real-time inference by default. Optionally, you can build containers for real-time inference from images in a private Docker registry. The private registry must be accessible from an Amazon VPC in your account. Models that you create based on the images stored in your private Docker registry must be configured to connect to the same VPC where the private Docker registry is accessible. For information about connecting your model to a VPC, see" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="your-algorithms-containers-inference-private.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="de" /><link rel="alternative" href="your-algorithms-containers-inference-private.html" hreflang="en-us" /><link rel="alternative" href="your-algorithms-containers-inference-private.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" hreflang="zh-tw" /><link rel="alternative" href="your-algorithms-containers-inference-private.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Use a Private Docker Registry for Real-Time Inference Containers" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Use a Private Docker Registry for Real-Time Inference Containers - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#your-algorithms-containers-inference-private" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/your-algorithms-containers-inference-private.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance,create Docker container" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Use Docker containers to build models",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/docker-containers.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Create a container with your own algorithms and models",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/docker-containers-create.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Use your own inference code",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/your-algorithms-inference-main.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Use Your Own Inference Code with Hosting Services",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/your-algorithms-inference-code.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "Use a Private Docker Registry for Real-Time Inference Containers",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/your-algorithms-inference-code.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#your-algorithms-containers-inference-private" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="your-algorithms-containers-inference-private.html#your-algorithms-containers-inference-private-registry">Store Images in
                a Private Docker Registry other than Amazon Elastic Container Registry</a><a href="your-algorithms-containers-inference-private.html#your-algorithms-containers-inference-private-use">Use an Image from a
                Private Docker Registry for Real-time Inference</a><a href="your-algorithms-containers-inference-private.html#inference-private-docker-authenticate">Allow SageMaker to authenticate to a
                private Docker registry</a><a href="your-algorithms-containers-inference-private.html#inference-private-docker-lambda">Create the Lambda function</a><a href="your-algorithms-containers-inference-private.html#inference-private-docker-perms">Give your execution role permission to
                Lambda</a><a href="your-algorithms-containers-inference-private.html#inference-private-docker-vpc-interface">Create an interface VPC
                endpoint for Lambda</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="your-algorithms-containers-inference-private">Use a Private Docker Registry
            for Real-Time Inference Containers</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Amazon SageMaker hosting enables you to use images stored in Amazon ECR to build your containers for
        real-time inference by default. Optionally, you can build containers for real-time inference
        from images in a private Docker registry. The private registry must be accessible from an
        Amazon VPC in your account. Models that you create based on the images stored in your private
        Docker registry must be configured to connect to the same VPC where the private Docker
        registry is accessible. For information about connecting your model to a VPC, see <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/host-vpc.html">Give SageMaker Hosted Endpoints Access to Resources in Your
                Amazon VPC</a>.</p><p>Your Docker registry must be secured with a TLS certificate from a known public
        certificate authority (CA).</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Your private Docker registry must allow inbound traffic from the security groups you
            specify in the VPC configuration for your model, so that SageMaker hosting is able to pull
            model images from your registry.</p><p>SageMaker can pull model images from DockerHub if there's a path to the open internet
            inside your VPC.</p></div></div><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="your-algorithms-containers-inference-private.html#your-algorithms-containers-inference-private-registry">Store Images in
                a Private Docker Registry other than Amazon Elastic Container Registry</a></li><li><a href="your-algorithms-containers-inference-private.html#your-algorithms-containers-inference-private-use">Use an Image from a
                Private Docker Registry for Real-time Inference</a></li><li><a href="your-algorithms-containers-inference-private.html#inference-private-docker-authenticate">Allow SageMaker to authenticate to a
                private Docker registry</a></li><li><a href="your-algorithms-containers-inference-private.html#inference-private-docker-lambda">Create the Lambda function</a></li><li><a href="your-algorithms-containers-inference-private.html#inference-private-docker-perms">Give your execution role permission to
                Lambda</a></li><li><a href="your-algorithms-containers-inference-private.html#inference-private-docker-vpc-interface">Create an interface VPC
                endpoint for Lambda</a></li></ul></div>
        <h2 id="your-algorithms-containers-inference-private-registry">Store Images in
                a Private Docker Registry other than Amazon Elastic Container Registry</h2>
        <p>To use a private Docker registry to store your images for SageMaker real-time inference,
            create a private registry that is accessible from your Amazon VPC. For information about
            creating a Docker registry, see <a href="https://docs.docker.com/registry/deploying/" rel="noopener noreferrer" target="_blank"><span>Deploy a registry server</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> in the Docker documentation. The Docker registry
            must comply with the following:</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>The registry must be a <a href="https://docs.docker.com/registry/spec/api/" rel="noopener noreferrer" target="_blank"><span>Docker Registry HTTP API V2</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> registry.</p>
            </li><li class="listitem">
                <p>The Docker registry must be accessible from the same VPC that you specify in
                    the <code class="code">VpcConfig</code> parameter that you specify when you create your
                    model.</p>
            </li></ul></div>
     
        <h2 id="your-algorithms-containers-inference-private-use">Use an Image from a
                Private Docker Registry for Real-time Inference</h2>
        <p>When you create a model and deploy it to SageMaker hosting, you can specify that it use an
            image from your private Docker registry to build the inference container. Specify this
            in the <code class="code">ImageConfig</code> object in the <code class="code">PrimaryContainer</code> parameter
            that you pass to a call to the <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sagemaker.html#SageMaker.Client.create_model" rel="noopener noreferrer" target="_blank"><span>create_model</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> function.</p>
        <div class="procedure"><h6>To use an image stored in your private Docker registry for your inference
                container</h6><ol><li>
                <p>Create the image configuration object and specify a value of <code class="code">Vpc</code>
                    for the <code class="code">RepositoryAccessMode</code> field.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">image_config = <span>{</span>
                    'RepositoryAccessMode': 'Vpc'
               }</code></pre>
            </li><li>
                <p>If your private Docker registry requires authentication, add a
                        <code class="code">RepositoryAuthConfig</code> object to the image configuration object.
                    For the <code class="code">RepositoryCredentialsProviderArn</code> field of the
                        <code class="code">RepositoryAuthConfig</code> object, specify the Amazon Resource Name
                    (ARN) of an AWS Lambda function that provides credentials that allows SageMaker to
                    authenticate to your private Docker Registry. For information about how to
                    create the Lambda function to provide authentication, see <a href="your-algorithms-containers-inference-private.html#inference-private-docker-authenticate">Allow SageMaker to authenticate to a
                private Docker registry</a>.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">image_config = <span>{</span>
                    'RepositoryAccessMode': 'Vpc',
                    'RepositoryAuthConfig': <span>{</span>
                       'RepositoryCredentialsProviderArn': 'arn:aws:lambda:<code class="replaceable">Region</code>:<code class="replaceable">Acct</code>:function:<code class="replaceable">FunctionName</code>'
                     }
               }</code></pre>
            </li><li>
                <p>Create the primary container object that you want to pass to
                        <code class="code">create_model</code>, using the image configuration object that you
                    created in the previous step. </p>
                <p>Provide your image in <a href="https://docs.docker.com/engine/reference/commandline/pull/#pull-an-image-by-digest-immutable-identifier" rel="noopener noreferrer" target="_blank"><span>digest</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> form. If you provide your image using the
                        <code class="code">:latest</code> tag, there is a risk that SageMaker pulls a newer version of
                    the image than intended. Using the digest form ensures that SageMaker pulls the
                    intended image version.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">primary_container = <span>{</span>
    'ContainerHostname': 'ModelContainer',
    'Image': 'myteam.myorg.com/docker-local/my-inference-image:<code class="replaceable">&lt;IMAGE-TAG&gt;</code>',
    'ImageConfig': image_config
}</code></pre>
            </li><li>
                <p>Specify the model name and the execution role that you want to pass to
                        <code class="code">create_model</code>.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">model_name = 'vpc-model'
execution_role_arn = 'arn:aws:iam::123456789012:role/SageMakerExecutionRole'</code></pre>
            </li><li>
                <p>Specify one or more security groups and subnets for the VPC configuration for
                    your model. Your private Docker registry must allow inbound traffic from the
                    security groups that you specify. The subnets that you specify must be in the
                    same VPC as your private Docker registry.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">vpc_config = <span>{</span>
    'SecurityGroupIds': ['sg-0123456789abcdef0'],
    'Subnets': ['subnet-0123456789abcdef0','subnet-0123456789abcdef1']
}</code></pre>
            </li><li>
                <p>Get a Boto3 SageMaker client.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
sm = boto3.client('sagemaker')</code></pre>
            </li><li>
                <p>Create the model by calling <code class="code">create_model</code>, using the values you
                    specified in the previous steps for the <code class="code">PrimaryContainer</code> and
                        <code class="code">VpcConfig</code> parameters.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">try:
    resp = sm.create_model(
        ModelName=model_name,
        PrimaryContainer=primary_container,
        ExecutionRoleArn=execution_role_arn,
        VpcConfig=vpc_config,
    )
except Exception as e:
    print(f'error calling CreateModel operation: <span>{</span>e}')
else:
    print(resp)</code></pre>
            </li><li>
                <p>Finally, call <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sagemaker.html#SageMaker.Client.create_endpoint_config" rel="noopener noreferrer" target="_blank"><span>create_endpoint_config</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> and <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sagemaker.html#SageMaker.Client.create_endpoint" rel="noopener noreferrer" target="_blank"><span>create_endpoint</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> to create the hosting endpoint, using the model
                    that you created in the previous step.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">endpoint_config_name = 'my-endpoint-config'
sm.create_endpoint_config(
    EndpointConfigName=endpoint_config_name,
    ProductionVariants=[
        <span>{</span>
            'VariantName': 'MyVariant',
            'ModelName': model_name,
            'InitialInstanceCount': 1,
            'InstanceType': 'ml.t2.medium'
        },
    ],
)

endpoint_name = 'my-endpoint'
sm.create_endpoint(
    EndpointName=endpoint_name,
    EndpointConfigName=endpoint_config_name,
)

sm.describe_endpoint(EndpointName=endpoint_name)</code></pre>
            </li></ol></div>
     
        <h2 id="inference-private-docker-authenticate">Allow SageMaker to authenticate to a
                private Docker registry</h2>
        <p>To pull an inference image from a private Docker registry that requires
            authentication, create an AWS Lambda function that provides credentials, and provide the
            Amazon Resource Name (ARN) of the Lambda function when you call <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sagemaker.html#SageMaker.Client.create_model" rel="noopener noreferrer" target="_blank"><span>create_model</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. When SageMaker runs <code class="code">create_model</code>, it calls the Lambda
            function that you specified to get credentials to authenticate to your Docker
            registry.</p>
     
        <h2 id="inference-private-docker-lambda">Create the Lambda function</h2>
        <p>Create an AWS Lambda function that returns a response with the following form:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="py ">def handler(event, context):
   response = <span>{</span>
      "Credentials": <span>{</span>"Username": "<code class="replaceable">username</code>", "Password": "<code class="replaceable">password</code>"}
   }
   return response</code></pre>
        <p>Depending on how you set up authentication for your private Docker registry, the
            credentials that your Lambda function returns can mean either of the following:</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>If you set up your private Docker registry to use basic authentication,
                    provide the sign-in credentials to authenticate to the registry.</p>
            </li><li class="listitem">
                <p>If you set up your private Docker registry to use bearer token authentication,
                    the sign-in credentials are sent to your authorization server, which returns a
                    Bearer token that can then be used to authenticate to the private Docker
                    registry.</p>
            </li></ul></div>
     
        <h2 id="inference-private-docker-perms">Give your execution role permission to
                Lambda</h2>
        <p>The execution role that you use to call <code class="code">create_model</code> must have
            permissions to call AWS Lambda functions. Add the following to the permissions policy of
            your execution role.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Effect": "Allow",
    "Action": [
        "lambda:InvokeFunction"
    ],
    "Resource": [
        "arn:aws:lambda:*:*:function:*<code class="replaceable">myLambdaFunction</code>*"
    ]
}</code></pre>
        <p>Where <em>myLambdaFunction</em> is the name of your Lambda function. For
            information about editing a role permissions policy, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/roles-managingrole-editing-console.html#roles-modify_permissions-policy">Modifying a role permissions policy (console)</a> in the <em>AWS Identity and Access Management
                User Guide</em>.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>An execution role with the <code class="code">AmazonSageMakerFullAccess</code> managed policy
                attached to it has permission to call any Lambda function with <b>SageMaker</b> in its name.</p></div></div>
     
        <h2 id="inference-private-docker-vpc-interface">Create an interface VPC
                endpoint for Lambda</h2>
        <p>Create an interface endpoint so that your Amazon VPC can communicate with your AWS Lambda
            function without sending traffic over the internet. For information about how to do
            this, see <a href="https://docs.aws.amazon.com/lambda/latest/dg/configuration-vpc-endpoints.html">Configuring interface VPC
                endpoints for Lambda</a> in the <em>AWS Lambda Developer
            Guide</em>.</p>
        <p>SageMaker hosting sends a request through your VPC to
                    <code class="code">lambda.<code class="replaceable">region</code>.amazonaws.com</code>, to call
            your Lambda function. If you choose Private DNS Name when you create your interface
            endpoint, Amazon RouteÂ 53 routes the call to the Lambda interface endpoint. If you use a
            different DNS provider, make sure to map
                <code class="code">lambda.<code class="replaceable">region</code>.amazonaws.com</code> to your Lambda
            interface endpoint.</p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./your-algorithms-inference-code.html">With Hosting Services</div><div id="next" class="next-link" accesskey="n" href="./your-algorithms-batch-code.html">With Batch Transform</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/your-algorithms-containers-inference-private.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/your-algorithms-containers-inference-private.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>