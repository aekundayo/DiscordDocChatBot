<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>JSON Schema for Human Loop Activation Conditions in Amazon Augmented AI - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="a2i-human-fallback-conditions-json-schema" /><meta name="default_state" content="a2i-human-fallback-conditions-json-schema" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="a2i-human-fallback-conditions-json-schema.html" /><meta name="description" content="The HumanLoopActivationConditions is an input parameter of the CreateFlowDefinition API. This parameter is a JSON-formatted string. The JSON models the conditions under which a human loop is created when those conditions are evaluated against the response from an integrating AI service API (such as" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="a2i-human-fallback-conditions-json-schema.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="de" /><link rel="alternative" href="a2i-human-fallback-conditions-json-schema.html" hreflang="en-us" /><link rel="alternative" href="a2i-human-fallback-conditions-json-schema.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" hreflang="zh-tw" /><link rel="alternative" href="a2i-human-fallback-conditions-json-schema.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="JSON Schema for Human Loop Activation Conditions in Amazon Augmented AI" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>JSON Schema for Human Loop Activation Conditions in Amazon Augmented AI - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#a2i-human-fallback-conditions-json-schema" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Label data with a human-in-the-loop",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/data-label.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Using Amazon Augmented AI for Human Review",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/a2i-use-augmented-ai-a2i-human-review-loops.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Create a Human Review Workflow",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/a2i-create-flow-definition.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "JSON Schema for Human Loop Activation Conditions in Amazon Augmented AI",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/a2i-create-flow-definition.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#a2i-human-fallback-conditions-json-schema" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="a2i-human-fallback-conditions-json-schema">JSON Schema for Human Loop
            Activation Conditions in Amazon Augmented AI</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The <code class="code">HumanLoopActivationConditions</code> is an input parameter of the <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_CreateFlowDefinition.html"><code class="code">CreateFlowDefinition</code></a> API. This parameter is a JSON-formatted
        string. The JSON models the conditions under which a human loop is created when those
        conditions are evaluated against the response from an integrating AI service API (such as
            <code class="code">Rekognition.DetectModerationLabels</code> or
        <code class="code">Textract.AnalyzeDocument</code>). This response is referred to as an
            <em>inference</em>. For example, Amazon Rekognition sends an inference of a moderation
        label with an associated confidence score. In this example, the inference is the model's
        best estimate of the appropriate label for an image. For Amazon Textract, inference is made on
        the association between blocks of text (<em>key-value pairs</em>), such as the
        association between <code class="code">Name:</code> and <code class="code">Sue</code> in a form as well as content
        within a block of text, or <em>word block</em>, such as 'Name'.</p><p>The following is the schema for the JSON. At the top level, the
            <code class="code">HumanLoopActivationConditions</code> has a JSON array, <code class="code">Conditions</code>.
        Each member of this array is an independent condition that, if evaluated to
            <code class="code">true</code>, results in Amazon A2I creating a human loop. Each such independent
        condition can be a simple condition or a complex condition. A simple condition has the
        following attributes:</p><div class="itemizedlist">
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p><code class="code">ConditionType</code>: This attribute identifies the type of condition. Each
                AWS AI service API that integrates with Amazon A2I defines its own set of allowed
                    <code class="code">ConditionTypes</code>. </p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Rekognition <code class="code">DetectModerationLabels</code> – This API supports
                        the <code class="code">ModerationLabelConfidenceCheck</code> and <code class="code">Sampling</code>
                        <code class="code">ConditionType</code> values.</p>
                </li><li class="listitem">
                    <p>Textract <code class="code">AnalyzeDocument</code> – This API supports the
                            <code class="code">ImportantFormKeyConfidenceCheck</code>,
                            <code class="code">MissingImportantFormKey</code>, and <code class="code">Sampling</code>
                        <code class="code">ConditionType</code> values.</p>
                </li></ul></div>
        </li><li class="listitem">
            <p><code class="code">ConditionParameters</code> – This is a JSON object that parameterizes
                the condition. The set of allowed attributes of this object is dependent on the
                value of the <code class="code">ConditionType</code>. Each <code class="code">ConditionType</code> defines its
                own set of <code class="code">ConditionParameters</code>. </p>
        </li></ul></div><p>A member of the <code class="code">Conditions</code> array can model a complex condition. This is
        accomplished by logically connecting simple conditions using the <code class="code">And</code> and
            <code class="code">Or</code> logical operators and nesting the underlying simple conditions. Up to
        two levels of nesting are supported. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": <span>{</span>
        "Condition": <span>{</span>
            "type": "object",
            "properties": <span>{</span>
                "ConditionType": <span>{</span>
                    "type": "string"
                },
                "ConditionParameters": <span>{</span>
                    "type": "object"
                }
            },
            "required": [
                "ConditionType"
            ]
        },
        "OrConditionArray": <span>{</span>
            "type": "object",
            "properties": <span>{</span>
                "Or": <span>{</span>
                    "type": "array",
                    "minItems": 2,
                    "items": <span>{</span>
                        "$ref": "#/definitions/ComplexCondition"
                    }
                }
            }
        },
        "AndConditionArray": <span>{</span>
            "type": "object",
            "properties": <span>{</span>
                "And": <span>{</span>
                    "type": "array",
                    "minItems": 2,
                    "items": <span>{</span>
                        "$ref": "#/definitions/ComplexCondition"
                    }
                }
            }
        },
        "ComplexCondition": <span>{</span>
            "anyOf": [
                <span>{</span>
                    "$ref": "#/definitions/Condition"
                },
                <span>{</span>
                    "$ref": "#/definitions/OrConditionArray"
                },
                <span>{</span>
                    "$ref": "#/definitions/AndConditionArray"
                }
            ]
        }
    },
    "type": "object",
    "properties": <span>{</span>
        "Conditions": <span>{</span>
            "type": "array",
            "items": <span>{</span>
                "$ref": "#/definitions/ComplexCondition"
            }
        }
    }
}
</code></pre><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Human loop activation conditions aren't available for human review workflows that are
            integrated with custom task types. The <code class="code">HumanLoopActivationConditions</code>
            parameter is disabled for custom task types. </p></div></div><div class="highlights"><h6>Topics</h6><ul><li><a href="https://docs.aws.amazon.com/sagemaker/latest/dg/a2i-json-humantaskactivationconditions-textract-example.html">Use Human Loop
                Activation Conditions JSON Schema with Amazon Textract</a></li><li><a href="https://docs.aws.amazon.com/sagemaker/latest/dg/a2i-json-humantaskactivationconditions-rekognition-example.html">Use Human Loop
                Activation Conditions JSON Schema with Amazon Rekognition</a></li></ul></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./a2i-create-flow-definition.html">Create a Human Review Workflow</div><div id="next" class="next-link" accesskey="n" href="./a2i-json-humantaskactivationconditions-textract-example.html">Use Human Loop
                Activation Conditions JSON Schema with Amazon Textract</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>