<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Debugger Built-in Actions for Rules - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="debugger-built-in-actions" /><meta name="default_state" content="debugger-built-in-actions" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="debugger-built-in-actions.html" /><meta name="description" content="Use Debugger built-in actions to respond to issues found by . The Debugger rule_configs class provides tools to configure a list of actions, including automatically stopping training jobs and sending notifications using Amazon Simple Notification Service (Amazon SNS) when the Debugger rules find training issues." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="debugger-built-in-actions.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="de" /><link rel="alternative" href="debugger-built-in-actions.html" hreflang="en-us" /><link rel="alternative" href="debugger-built-in-actions.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/debugger-built-in-actions.html" hreflang="zh-tw" /><link rel="alternative" href="debugger-built-in-actions.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Debugger Built-in Actions for Rules" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Debugger Built-in Actions for Rules - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#debugger-built-in-actions" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/debugger-built-in-actions.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/debugger-built-in-actions.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/debugger-built-in-actions.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Train machine learning models",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/train-model.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Debug and improve model performance",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/train-debug-and-improve-model-performance.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Use Amazon SageMaker Debugger to debug and improve model performance",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/train-debugger.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Debug Training Jobs Using Amazon SageMaker Debugger",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/debugger-debug-training-jobs.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "Action on Amazon SageMaker Debugger Rules",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/debugger-action-on-rules.html"
      },
      {
        "@type" : "ListItem",
        "position" : 9,
        "name" : "Debugger Built-in Actions for Rules",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/debugger-action-on-rules.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#debugger-built-in-actions" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="debugger-built-in-actions.html#debugger-built-in-actions-sns">Step 1: Set Up Amazon SNS, Create an
                    SMDebugRules Topic, and Subscribe to the Topic</a><a href="debugger-built-in-actions.html#debugger-built-in-actions-iam">Step 2: Set Up Your IAM Role to
                    Attach Required Policies</a><a href="debugger-built-in-actions.html#debugger-built-in-actions-on-rule">Step 3: Configure Debugger Rules
                    with the Built-in Actions</a><a href="debugger-built-in-actions.html#debugger-built-in-actions-considerations">Considerations for Using
                    the Debugger Built-in Actions</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="debugger-built-in-actions">Debugger Built-in
                Actions for Rules</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Use Debugger built-in actions to respond to issues found by <a href="debugger-built-in-rules.html#debugger-built-in-rules-Rule">Debugger Rule</a>. The Debugger <code class="code">rule_configs</code> class provides tools to configure a list of
            actions, including automatically stopping training jobs and sending notifications using
            Amazon Simple Notification Service (Amazon SNS) when the Debugger rules find training issues.</p>
            <h2 id="debugger-built-in-actions-sns">Step 1: Set Up Amazon SNS, Create an
                    SMDebugRules Topic, and Subscribe to the Topic</h2>
            <p>This section walks you through how to set up an Amazon SNS
                    <code class="userinput">SMDebugRules</code> topic, subscribe to it, and confirm the
                subscription to receive notifications from the Debugger rules.</p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>For more information about billing for Amazon SNS, see <a href="http://aws.amazon.com/sns/pricing/" rel="noopener noreferrer" target="_blank"><span>Amazon SNS pricing</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> and <a href="http://aws.amazon.com/sns/faqs/" rel="noopener noreferrer" target="_blank"><span>Amazon SNS FAQs</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></div></div>
            <div class="procedure"><h6>To create a SMDebugRules topic</h6><ol><li><p>Sign in to the AWS Management Console and open the Amazon SNS console at
         <a href="https://console.aws.amazon.com/sns/v3/home" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/sns/v3/home</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
                    <p>In the left navigation pane, choose <b>Topics</b>. </p>
                </li><li>
                    <p>On the <b>Topics</b> page, choose
                            <b>Create topic</b>.</p>
                </li><li>
                    <p>On the <b>Create topic</b> page, in the
                            <b>Details</b> section, do the following:</p>
                    <ol><li>
                            <p>For <b>Type</b>, choose
                                    <b>Standard</b> for topic type.</p>
                        </li><li>
                            <p>In <b>Name</b>, enter
                                    <code class="userinput">SMDebugRules</code>.</p>
                        </li></ol>
                </li><li>
                    <p>Skip all other optional settings and choose <b>Create
                            topic</b>. If you want to learn more about the optional settings,
                        see <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-create-topic.html">Creating an Amazon SNS topic</a>.</p>
                </li></ol></div>
            <p><b>To subscribe to the SMDebugRules topic</b></p>
            <div class="procedure"><ol><li><p>Open the Amazon SNS console at
         <a href="https://console.aws.amazon.com/sns/v3/home" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/sns/v3/home</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
                    <p>In the left navigation pane, choose <b>Subscriptions</b>.
                    </p>
                </li><li>
                    <p>On the <b>Subscriptions</b> page, choose <b>Create
                            subscription</b>.</p>
                </li><li>
                    <p>On the <b>Create subscription</b> page, in the
                            <b>Details</b> section, do the following: </p>
                    <ol><li>
                            <p>For <b>Topic ARN</b>, choose the
                                    <b>SMDebugRules</b> topic ARN. The ARN should be
                                in format of <code class="code">arn:aws:sns:<em>&lt;region-id&gt;</em>:<em>111122223333</em>:SMDebugRules</code>.</p>
                        </li><li>
                            <p>For <b>Protocol</b>, choose
                                    <b>Email</b> or <b>SMS</b>. </p>
                        </li><li>
                            <p>For <b>Endpoint</b>, enter the endpoint value, such
                                as an email address or a phone number that you want to receive
                                notifications.</p>
                            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Make sure you type the correct email address and phone number.
                                    Phone numbers must include <code class="code">+</code>, a country code, and
                                    phone number, with no special characters or spaces. For example,
                                    the phone number +1 (222) 333-4444 is formatted as
                                        <code class="userinput">+12223334444</code>.</p></div></div>
                        </li></ol>
                </li><li>
                    <p>Skip all other optional settings and choose <b>Create
                            subscription</b>. If you want to learn more about the optional
                        settings, see <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-create-subscribe-endpoint-to-topic.html">Subscribing to an Amazon SNS topic</a>.</p>
                </li></ol></div>
            <p>After you subscribe to the <b>SMDebugRules</b> topic, you receive
                the following confirmation message in email or by phone:</p>
            <div class="mediaobject">
                 
                    <img src="../../../images/sagemaker/latest/dg/images/debugger/debugger-built-in-action-subscription-confirmation.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                    A subscription confirmation email message for the Amazon SNS&#xA;                            SMDebugRules topic.&#xA;                " style="max-width:100%" />
                 
                 
            </div>
            <p>For more information about Amazon SNS, see <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-mobile-phone-number-as-subscriber.html">Mobile text
                    messaging (SMS)</a> and <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-email-notifications.html">Email notifications</a> in
                the <em>Amazon SNS Developer Guide</em>.</p>
         
            <h2 id="debugger-built-in-actions-iam">Step 2: Set Up Your IAM Role to
                    Attach Required Policies</h2>
            <p>In this step, you add the required policies to your IAM role.</p>
            <div class="procedure"><h6>To add the required policies to your IAM role</h6><ol><li><p>Sign in to the AWS Management Console and open the IAM console at <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
                    <p>In the left navigation pane, choose <b>Policies</b>, and
                        choose <b>Create policy</b>.</p>
                </li><li>
                    <p>On the <b>Create policy</b> page, do the following to create
                        a new sns-access policy:</p>
                    <ol><li>
                            <p>Choose the <b>JSON</b> tab.</p>
                        </li><li>
                            <p>Paste the JSON strings formatted in bold in the following code
                                into the <code class="code">"Statement"</code>, replacing the 12-digit AWS
                                account ID with your AWS account ID.</p>
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <b><span>{</span>
            "Sid": "VisualEditor0",
            "Effect": "Allow",
            "Action": [
                "sns:Publish",
                "sns:CreateTopic",
                "sns:Subscribe"
            ],
            "Resource": "arn:aws:sns:*:<code class="replaceable">111122223333</code>:SMDebugRules"
        }</b>
    ]
}</code></pre>
                        </li><li>
                            <p>At the bottom of the page, choose <b>Review
                                    policy</b>.</p>
                        </li><li>
                            <p>On the <b>Review policy</b> page, for <b>Name</b>, enter
                                    <code class="userinput">sns-access</code>.</p>
                        </li><li>
                            <p>At the bottom of the page, choose <b>Create
                                    policy</b>.</p>
                        </li></ol>
                </li><li>
                    <p>Go back to the IAM console, and choose <b>Roles</b> in the left navigation pane.</p>
                </li><li>
                    <p>Look up the IAM role that you use for SageMaker model training and choose
                        that IAM role.</p>
                </li><li>
                    <p>On the <b>Permissions</b> tab of the
                            <b>Summary</b> page, choose <b>Attach
                            policies</b>.</p>
                </li><li>
                    <p>Search for the <b>sns-access</b> policy, select the check
                        box next to the policy, and then choose <b>Attach
                        policy</b>.</p>
                </li></ol></div>
            <p>For more examples of setting up IAM policies for Amazon SNS, see <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-access-policy-use-cases.html">Example cases for Amazon SNS access control</a>.</p>
         
            <h2 id="debugger-built-in-actions-on-rule">Step 3: Configure Debugger Rules
                    with the Built-in Actions</h2>
            <p>After successfully finishing the required settings in the preceding steps, you can
                configure the Debugger built-in actions for debugging rules as shown in the following
                example script. You can choose which built-in actions to use while building the
                    <code class="code">actions</code> list object. The <code class="code">rule_configs</code> is a helper
                module that provides high-level tools to configure Debugger built-in rules and
                actions. The following built-in actions are available for Debugger:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">rule_configs.StopTraining()</code> – Stops a training job
                        when the Debugger rule finds an issue.</p>
                </li><li class="listitem">
                    <p><code class="code">rule_configs.Email("<code class="replaceable">abc@abc.com</code>")</code>
                        – Sends a notification via email when the Debugger rule finds an issue.
                        Use the email address that you used when you set up your SNS topic
                        subscription.</p>
                </li><li class="listitem">
                    <p><code class="code">rule_configs.SMS("<code class="replaceable">+1234567890</code>")</code>
                        – Sends a notification via text message when the Debugger rule finds an
                        issue. Use the phone number that you used when you set up your SNS topic
                        subscription.</p>
                    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Make sure you type the correct email address and phone number. Phone
                            numbers must include <code class="code">+</code>, a country code, and a phone number,
                            with no special characters or spaces. For example, the phone number +1
                            (222) 333-4444 is formatted as
                            <code class="userinput">+12223334444</code>.</p></div></div>
                </li></ul></div>
            <p>You can use all of the built-in actions or a subset of actions by wrapping up
                using the <code class="code">rule_configs.ActionList()</code> method, which takes the built-in
                actions and configures a list of actions.</p>
            
            <p><b>To add all of the three built-in actions to a single
                rule</b></p>
            <p>If you want to assign all of the three built-in actions to a single rule,
                configure a Debugger built-in action list while constructing an estimator. Use the
                following template to construct the estimator, and Debugger will stop training jobs
                and send notifications through email and text for any rules that you use to monitor
                your training job progress.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="py ">from sagemaker.debugger import Rule, rule_configs

# Configure an action list object for Debugger rules
<code class="userinput">actions</code> = rule_configs.ActionList(
    <code class="replaceable">rule_configs.StopTraining()</code>, 
    <code class="replaceable">rule_configs.Email("abc@abc.com")</code>, 
    <code class="replaceable">rule_configs.SMS("+1234567890")</code>
)

# Configure rules for debugging with the actions parameter
<code class="userinput">rules</code> = [
    Rule.sagemaker(
        base_config=rule_configs.<code class="replaceable">built_in_rule</code>(),         # Required
        rule_parameters=<span>{</span>"<code class="replaceable">paramter_key</code>": <code class="replaceable">value</code> },        # Optional
        actions=<code class="userinput">actions</code>
    )
]

estimator = Estimator(
    <code class="userinput">...</code>
    rules = <code class="userinput">rules</code>
)

estimator.fit(wait=False)</code></pre>
            
            <p><b>To create multiple built-in action objects to assign different actions
                    to a single rule</b></p>
            <p>If you want to assign the built-in actions to be triggered at different threshold
                values of a single rule, you can create multiple built-in action objects as shown in
                the following script. To avoid a conflict error by running the same rule, you must
                submit different rule job names (specify different strings for the rules'
                    <code class="code">name</code> attribute) as shown in the following example script template.
                This example shows how to set up <a href="debugger-built-in-rules.html#stalled-training">StalledTrainingRule</a> to take two different actions: send an email
                to <code class="code">abc@abc.com</code> when a training job stalls for 60
                seconds, and stop the training job if stalling for 120 seconds.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="py ">from sagemaker.debugger import Rule, rule_configs
import time

base_job_name_prefix= 'smdebug-stalled-demo-' + str(int(time.time()))

# Configure an action object for StopTraining
<code class="userinput">action_stop_training</code> = rule_configs.ActionList(
    rule_configs.StopTraining()
)

# Configure an action object for Email
<code class="userinput">action_email</code> = rule_configs.ActionList(
    rule_configs.Email("<code class="replaceable">abc@abc.com</code>")
)

# Configure a rule with the Email built-in action to trigger if a training job stalls for 60 seconds
<code class="userinput">stalled_training_job_rule_email</code> = Rule.sagemaker(
        base_config=rule_configs.stalled_training_rule(),
        rule_parameters=<span>{</span>
                "threshold": "<code class="replaceable">60</code>", 
                "training_job_name_prefix": base_job_name_prefix
        },
        actions=<code class="userinput">action_email</code>
)
stalled_training_job_rule_text.name="<code class="replaceable">StalledTrainingJobRuleEmail</code>"

# Configure a rule with the StopTraining built-in action to trigger if a training job stalls for 120 seconds
<code class="userinput">stalled_training_job_rule</code> = Rule.sagemaker(
        base_config=rule_configs.stalled_training_rule(),
        rule_parameters=<span>{</span>
                "threshold": "<code class="replaceable">120</code>", 
                "training_job_name_prefix": base_job_name_prefix
        },
        actions=<code class="userinput">action_stop_training</code>
)
stalled_training_job_rule.name="<code class="replaceable">StalledTrainingJobRuleStopTraining</code>"

estimator = Estimator(
    <code class="userinput">...</code>
    rules = [<code class="userinput">stalled_training_job_rule_email</code>, <code class="userinput">stalled_training_job_rule</code>]
)

estimator.fit(wait=False)</code></pre>
            
            <p>While the training job is running, the Debugger built-in action sends notification
                emails and text messages whenever the rule finds issues with your training job. The
                following screenshot shows an example of email notification for a training job that
                has a stalled training job issue. </p>
            <div class="mediaobject">
                 
                    <img src="../../../images/sagemaker/latest/dg/images/debugger/debugger-built-in-action-email.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                    An example email notification sent by Debugger when it detects a&#xA;                        StalledTraining issue.&#xA;                " style="max-width:100%" />
                 
                 
            </div>
            <p>The following screenshot shows an example text notification that Debugger sends when
                the rule finds a StalledTraining issue.</p>
            <div class="mediaobject">
                 
                    <img src="../../../images/sagemaker/latest/dg/images/debugger/debugger-built-in-action-text.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                    An example text notification sent by Debugger when it detects a&#xA;                        StalledTraining issue.&#xA;                " style="max-width:50%" />
                 
                 
            </div>
         
            <h2 id="debugger-built-in-actions-considerations">Considerations for Using
                    the Debugger Built-in Actions</h2>
            <div class="itemizedlist">
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>To use the Debugger built-in actions, an internet connection is required.
                        This feature is not supported in the network isolation mode provided by
                        Amazon SageMaker or Amazon VPC.</p>
                </li><li class="listitem">
                    <p>The built-in actions cannot be used for <a href="debugger-built-in-profiler-rules.html#debugger-built-in-profiler-rules-ProfilerRule">Profiler rules</a>.</p>
                </li><li class="listitem">
                    <p>The built-in actions cannot be used on training jobs with spot training
                        interruptions.</p>
                </li><li class="listitem">
                    <p>In email or text notifications, <code class="code">None</code> appears at the end of
                        messages. This does not have any meaning, so you can disregard the text
                            <code class="code">None</code>.</p>
                </li></ul></div>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./debugger-action-on-rules.html">Action on Debugger Rules</div><div id="next" class="next-link" accesskey="n" href="./debugger-cloudwatch-lambda.html">Create Actions on Rules Using Amazon CloudWatch and
                AWS Lambda</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/debugger-built-in-actions.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/debugger-built-in-actions.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>