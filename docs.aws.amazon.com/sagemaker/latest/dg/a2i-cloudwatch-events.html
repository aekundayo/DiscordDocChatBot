<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Use Amazon CloudWatch Events in Amazon Augmented AI - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="a2i-cloudwatch-events" /><meta name="default_state" content="a2i-cloudwatch-events" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="a2i-cloudwatch-events.html" /><meta name="description" content="Learn about how to use Amazon CloudWatch Events (also known as Amazon EventBridge) in Amazon Augmented AI to listen for human review results." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="a2i-cloudwatch-events.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="de" /><link rel="alternative" href="a2i-cloudwatch-events.html" hreflang="en-us" /><link rel="alternative" href="a2i-cloudwatch-events.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/a2i-cloudwatch-events.html" hreflang="zh-tw" /><link rel="alternative" href="a2i-cloudwatch-events.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Use Amazon CloudWatch Events in Amazon Augmented AI" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Use Amazon CloudWatch Events in Amazon Augmented AI - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#a2i-cloudwatch-events" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-cloudwatch-events.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-cloudwatch-events.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-cloudwatch-events.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Label data with a human-in-the-loop",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/data-label.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Using Amazon Augmented AI for Human Review",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/a2i-use-augmented-ai-a2i-human-review-loops.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Use Amazon CloudWatch Events in Amazon Augmented AI",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/a2i-use-augmented-ai-a2i-human-review-loops.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#a2i-cloudwatch-events" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="a2i-cloudwatch-events.html#a2i-cloud-watch-events-rule-setup">Send Events from Your Human Loop to CloudWatch Events</a><a href="a2i-cloudwatch-events.html#a2i-subscribe-cloud-watch-events">Set Up a Target to Process Events</a><a href="a2i-cloudwatch-events.html#using-human-review-output">Use Human Review Output</a><a href="a2i-cloudwatch-events.html#amazon-augmented-ai-programmatic-walkthroughs">More Information</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="a2i-cloudwatch-events">Use Amazon CloudWatch Events in
      Amazon Augmented AI</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Amazon Augmented AI uses Amazon CloudWatch Events to alert you when a human review loop status changes to
      <code class="code">Completed</code>, <code class="code">Failed</code>, or <code class="code">Stopped</code>. This event delivery is
    guaranteed at least once, which means all events created when human loops finish are
    successfully delivered to CloudWatch Events (Amazon EventBridge). When a review loop changes to one of these states,
    Augmented AI sends an event to CloudWatch Events similar to the following.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "version":"0",
    "id":"12345678-1111-2222-3333-12345EXAMPLE",
    "detail-type":"SageMaker A2I HumanLoop Status Change",
    "source":"aws.sagemaker",
    "account":"1111111111111",
    "time":"2019-11-14T17:49:25Z",
    "region":"us-east-1",
    "resources":["arn:aws:sagemaker:us-east-1:111111111111:human-loop/humanloop-nov-14-1"],
    "detail":<span>{</span>
        "creationTime":"2019-11-14T17:37:36.740Z",
        "failureCode":null,
        "failureReason":null,
        "flowDefinitionArn":"arn:aws:sagemaker:us-east-1:111111111111:flow-definition/flowdef-nov-12",
        "humanLoopArn":"arn:aws:sagemaker:us-east-1:111111111111:human-loop/humanloop-nov-14-1",
        "humanLoopName":"humanloop-nov-14-1",
        "humanLoopOutput":<span>{</span> 
            "outputS3Uri":"s3://customer-output-bucket-specified-in-flow-definition/flowdef-nov-12/2019/11/14/17/37/36/humanloop-nov-14-1/output.json"
        },
        "humanLoopStatus":"Completed"
    }
}</code></pre><p>The details in the JSON output include the following:</p><div class="variablelist">
     
     
     
     
     
     
     
     
     
  <dl>
      <dt><span class="term"><code class="code">creationTime</code></span></dt>
      <dd>
        <p>The timestamp when Augmented AI created the human loop.</p>
      </dd>
     
      <dt><span class="term"><code class="code">failureCode</code></span></dt>
      <dd>
        <p>A failure code denoting a specific type of failure.</p>
      </dd>
     
      <dt><span class="term"><code class="code">failureReason</code></span></dt>
      <dd>
        <p>The reason why a human loop has failed. The failure reason is only returned when the human review loop status is <code class="code">failed</code>.</p>
      </dd>
     
      <dt><span class="term"><code class="code">flowDefinitionArn</code></span></dt>
      <dd>
        <p>The Amazon Resource Name (ARN) of the flow definition, or <em>human review workflow</em>.</p>
      </dd>
     
      <dt><span class="term"><code class="code">humanLoopArn</code></span></dt>
      <dd>
        <p>The Amazon Resource Name (ARN) of the human loop.</p>
      </dd>
     
      <dt><span class="term"><code class="code">humanLoopName</code></span></dt>
      <dd>
        <p>The name of the human loop.</p>
      </dd>
     
      <dt><span class="term"><code class="code">humanLoopOutput</code></span></dt>
      <dd>
        <p>An object containing information about the output of the human loop.</p>
      </dd>
     
      <dt><span class="term"><code class="code">outputS3Uri</code></span></dt>
      <dd>
        <p>The location of the Amazon S3 object where Augmented AI stores your human loop output.</p>
      </dd>
     
      <dt><span class="term"><code class="code">humanLoopStatus</code></span></dt>
      <dd>
        <p>The status of the human loop.</p>
      </dd>
    </dl></div>
    <h2 id="a2i-cloud-watch-events-rule-setup">Send Events from Your Human Loop to CloudWatch Events</h2>
    <p>To configure a CloudWatch Events rule to get status updates, or <em>events</em>, for your
      Amazon A2I human loops, use the AWS Command Line Interface (AWS CLI) <a href="https://docs.aws.amazon.com/cli/latest/reference/events/put-rule.html"><code class="code">put-rule</code></a> command. When
      using the <code class="code">put-rule</code> command, specify the following to receive human loop statuses: </p>
    <div class="itemizedlist">
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p><code class="code">\"source\":[\"aws.sagemaker\"]</code></p>
      </li><li class="listitem">
        <p><code class="code">\"detail-type\":[\"SageMaker A2I HumanLoop Status Change\"]</code></p>
      </li></ul></div>
    <p>To configure a CloudWatch Events rule to watch for all status changes, use the following command and
      replace the placeholder text. For example, replace
          <code class="code"><code class="replaceable">"A2IHumanLoopStatusChanges"</code></code> with a unique CloudWatch Events
      rule name and
        <code class="replaceable"><code class="code">"arn:aws:iam::111122223333:role/MyRoleForThisRule"</code></code>
      with the Amazon Resource Number (ARN) of an IAM role with an events.amazonaws.com trust
      policy attached. Replace <code class="replaceable">region</code> with the AWS Region in which you
      want to create the rule. </p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws events put-rule --name <code class="replaceable">"A2IHumanLoopStatusChanges"</code> 
    --event-pattern "<span>{</span>\"source\":[\"aws.sagemaker\"],\"detail-type\":[\"SageMaker A2I HumanLoop Status Change\"]}" 
    --role-arn <code class="replaceable">"arn:aws:iam::111122223333:role/MyRoleForThisRule"</code> 
    --region <code class="replaceable">"region"</code></code></pre>
    <p>To learn more about the <code class="code">put-rule</code> request, see <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/CloudWatchEventsandEventPatterns.html">Event Patterns in
        CloudWatch Events</a> in the <em>Amazon CloudWatch Events User Guide</em>.</p>
   
    <h2 id="a2i-subscribe-cloud-watch-events">Set Up a Target to Process Events</h2>
    <p>To process events, you need to set up a target. For example, if you want to receive an
      email when a human loop status changes, use a procedure in <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/US_SetupSNS.html">Setting Up Amazon SNS
        Notifications</a> in the <em>Amazon CloudWatch User Guide </em>to set up an
      Amazon SNS topic and subscribe your email to it. Once you have created a topic, you can use it to
      create a target. </p>
    <div class="procedure"><h6>To add a target to your CloudWatch Events rule</h6><ol><li>
        <p>Open the CloudWatch console: <a href="https://console.aws.amazon.com/cloudwatch/home" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudwatch/home</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
      </li><li>
        <p>In the navigation pane, choose <b>Rules</b>.</p>
      </li><li>
        <p>Choose the rule to which you want to add a target. </p>
      </li><li>
        <p>Choose <b>Actions</b>, and then choose <b>Edit</b>.</p>
      </li><li>
        <p>Under <b>Targets</b>, choose <b>Add Target</b> and choose
          the AWS service you want to act when a human loop status change event is detected. </p>
      </li><li>
        <p>Configure your target. For instructions, see the topic for configuring a target in the
            <a href="https://docs.aws.amazon.com/index.html">AWS documentation for that
          service</a>.</p>
      </li><li>
        <p>Choose <b>Configure details</b>.</p>
      </li><li>
        <p>For <b>Name</b>, enter a name and, optionally, provide details about the
          purpose of the rule in <b>Description</b>. </p>
      </li><li>
        <p>Make sure that the check box next to <b>State</b> is selected so that
          your rule is listed as <b>Enabled</b>. </p>
      </li><li>
        <p>Choose <b>Update rule</b>.</p>
      </li></ol></div>
   
    <h2 id="using-human-review-output">Use Human Review Output</h2>
    <p>After you receive human review results, you can analyze the results and compare them to machine learning predictions. The JSON that is stored in the Amazon S3 bucket contains both the machine learning predictions and the human review results.</p>
   
    <h2 id="amazon-augmented-ai-programmatic-walkthroughs">More Information</h2>
    
    
    <p><a href="automating-sagemaker-with-eventbridge.html">Automating Amazon SageMaker with
        Amazon EventBridge</a></p>
    
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./a2i-permissions-security.html">Permissions and Security</div><div id="next" class="next-link" accesskey="n" href="./a2i-api-references.html">API References</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-cloudwatch-events.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/a2i-cloudwatch-events.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>