<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tune a k-NN Model - Amazon SageMaker</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="kNN-tuning" /><meta name="default_state" content="kNN-tuning" /><link rel="icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="../../../assets/images/favicon.ico" /><link rel="canonical" href="kNN-tuning.html" /><meta name="description" content="Metrics and tunable hyperparameters for the Amazon SageMaker k-nearest neighbor." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon SageMaker" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Use Internet Monitor to build, train, and host machine learning models in AWS." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="kNN-tuning.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/kNN-tuning.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/sagemaker/latest/dg/kNN-tuning.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/kNN-tuning.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/sagemaker/latest/dg/kNN-tuning.html" hreflang="de" /><link rel="alternative" href="kNN-tuning.html" hreflang="en-us" /><link rel="alternative" href="kNN-tuning.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/kNN-tuning.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/sagemaker/latest/dg/kNN-tuning.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/kNN-tuning.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/sagemaker/latest/dg/kNN-tuning.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/kNN-tuning.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/sagemaker/latest/dg/kNN-tuning.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/kNN-tuning.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/sagemaker/latest/dg/kNN-tuning.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/kNN-tuning.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/sagemaker/latest/dg/kNN-tuning.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/kNN-tuning.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/sagemaker/latest/dg/kNN-tuning.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/sagemaker/latest/dg/kNN-tuning.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/sagemaker/latest/dg/kNN-tuning.html" hreflang="zh-tw" /><link rel="alternative" href="kNN-tuning.html" hreflang="x-default" /><meta name="feedback-item" content="SageMaker" /><meta name="this_doc_product" content="Amazon SageMaker" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="../../../assets/r/vendor4.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor3.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/vendor1.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-common.js@version=2021.12.02"></script><script defer="" src="../../../assets/r/awsdocs-doc-page.js@version=2021.12.02"></script><link href="../../../assets/r/vendor4.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-common.css@version=2021.12.02.css" rel="stylesheet" /><link href="../../../assets/r/awsdocs-doc-page.css@version=2021.12.02.css" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'sagemaker'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Tune a k-NN Model" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Tune a k-NN Model - Amazon SageMaker</title><meta name="pdf" content="/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#kNN-tuning" /><meta name="rss" content="amazon-sagemaker-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=285" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/kNN-tuning.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/kNN-tuning.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/sagemaker/latest/dg/kNN-tuning.html" /><meta name="keywords" content="SageMaker,Amazon SageMaker,machine learning,notebook instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon SageMaker",
        "item" : "https://docs.aws.amazon.com/sagemaker/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Train machine learning models",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/train-model.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Choose an Algorithm",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/algorithms-choose.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Use Amazon SageMaker Built-in Algorithms or Pre-trained Models",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/algos.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Built-in SageMaker Algorithms for Tabular Data",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/algorithms-tabular.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "K-Nearest Neighbors (k-NN) Algorithm",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/k-nearest-neighbors.html"
      },
      {
        "@type" : "ListItem",
        "position" : 9,
        "name" : "Tune a k-NN Model",
        "item" : "https://docs.aws.amazon.com/sagemaker/latest/dg/k-nearest-neighbors.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://docs.aws.amazon.com/pdfs/sagemaker/latest/dg/sagemaker-dg.pdf#kNN-tuning" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/sagemaker/index.html">Amazon SageMaker</a><a href="whatis.html">Developer Guide</a></div><div id="page-toc-src"><a href="kNN-tuning.html#km-metrics">Metrics</a><a href="kNN-tuning.html#km-tunable-hyperparameters">Tunable hyperparameters</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="kNN-tuning">Tune a k-NN Model</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The Amazon SageMaker k-nearest neighbors algorithm is a supervised algorithm. The algorithm
            consumes a test data set and emits a metric about the accuracy for a classification task
            or about the mean squared error for a regression task. These accuracy metrics compare
            the model predictions for their respective task to the ground truth provided by the
            empirical test data. To find the best model that reports the highest accuracy or lowest
            error on the test dataset, run a hyperparameter tuning job for k-NN. </p><p><em>Automatic model tuning</em>, also known as
            hyperparameter tuning, finds the best version of a model by running many jobs that test
            a range of hyperparameters on your dataset. You choose the tunable hyperparameters, a
            range of values for each, and an objective metric. You choose the objective metric
            appropriate for the prediction task of the algorithm. Automatic model tuning searches
            the hyperparameters chosen to find the combination of values that result in the model
            that optimizes the objective metric. The hyperparameters are used only to help estimate
            model parameters and are not used by the trained model to make predictions.</p><p>For more information about model tuning, see <a href="automatic-model-tuning.html">Perform Automatic Model Tuning with SageMaker</a>.</p>
            <h2 id="km-metrics">Metrics Computed by the k-NN Algorithm</h2>
            <p>The k-nearest neighbors algorithm computes one of two metrics in the following
                table during training depending on the type of task specified by the
                    <code class="code">predictor_type</code> hyper-parameter. </p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><em>classifier</em> specifies a classification task and
                        computes <code class="code">test:accuracy</code>
                    </p>
                </li><li class="listitem">
                    <p><em>regressor</em> specifies a regression task and computes
                            <code class="code">test:mse</code>.</p>
                </li></ul></div>
            <p>Choose the <code class="code">predictor_type</code> value appropriate for the type of task
                undertaken to calculate the relevant objective metric when tuning a model.</p>
            <div class="table-container"><div class="table-contents"><table id="w714aac23c11c21c31c16c19b9b9"><thead>
                        <tr>
                            <th>Metric Name</th>
                            <th>Description</th>
                            <th>Optimization Direction</th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1"><code class="code">test:accuracy</code></td>
                            <td tabindex="-1">
                                <p>When <code class="code">predictor_type</code> is set to
                                        <em>classifier</em>, k-NN compares the predicted
                                    label, based on the average of the k-nearest neighbors' labels,
                                    to the ground truth label provided in the test channel data. The
                                    accuracy reported ranges from 0.0 (0%) to 1.0 (100%).</p>
                            </td>
                            <td tabindex="-1">
                                <p>Maximize</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1"><code class="code">test:mse</code></td>
                            <td tabindex="-1">
                                <p>When <code class="code">predictor_type</code> is set to
                                        <em>regressor</em>, k-NN compares the predicted
                                    label, based on the average of the k-nearest neighbors' labels,
                                    to the ground truth label provided in the test channel data. The
                                    mean squared error is computed by comparing the two
                                    labels.</p>
                            </td>
                            <td tabindex="-1">
                                <p>Minimize</p>
                            </td>
                        </tr>
                    </table></div></div>
            <p></p>
         
            <h2 id="km-tunable-hyperparameters">Tunable k-NN Hyperparameters</h2>
            <p>Tune the Amazon SageMaker k-nearest neighbor model with the following
                hyperparameters.</p>
            <div class="table-container"><div class="table-contents"><table id="w714aac23c11c21c31c16c19c11b5"><thead>
                        <tr>
                            <th>Parameter Name</th>
                            <th>Parameter Type</th>
                            <th>Recommended Ranges</th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1"><code class="code">k</code></td>
                            <td tabindex="-1">
                                <p>IntegerParameterRanges</p>
                            </td>
                            <td tabindex="-1">
                                <p>MinValue: 1, MaxValue: 1024</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1"><code class="code">sample_size</code></td>
                            <td tabindex="-1">
                                <p>IntegerParameterRanges</p>
                            </td>
                            <td tabindex="-1">
                                <p>MinValue: 256, MaxValue: 20000000</p>
                            </td>
                        </tr>
                    </table></div></div>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./kNN_hyperparameters.html">Hyperparameters</div><div id="next" class="next-link" accesskey="n" href="./kNN-in-formats.html">Training Formats</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/kNN-tuning.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=SageMaker&amp;topic_url=https://docs.aws.amazon.com/en_us/sagemaker/latest/dg/kNN-tuning.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>